<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>BYRIO Blogroll</title>
    <subtitle>北邮人博客圈</subtitle>
    <link href="http://planet.byr.moe/atom.xml" rel="self" type="application/atom+xml" />
    <link href="http://planet.byr.moe"/>
    <updated>2022-12-21T00:56:35+00:00</updated>
    <id>http://planet.byr.moe</id>
    
    <author>
        <name>Dimpiurr</name>
        <email>dimpurr@live.com</email>
    </author>
    
    <generator uri="https://github.com/phoenixlzx/planet.js">Planet.js</generator>
    
    <entry>
        <title>Tailscale 自定义 DERP 服务器</title>
        <link href="https://www.whosneo.com/tailscale-custom-derper/"/>
        <id>https://www.whosneo.com/tailscale-custom-derper/</id>
        
        <author>
            <name>Neo</name>
        </author>
        
        <published>2022-12-21T00:56:35+00:00</published>
        <updated>2022-12-21T00:56:35+00:00</updated>
        
        <content type="html"><![CDATA[<p>Tailscale 官方的 DERP 中继服务器全部在境外，距离最近的香港节点在国内的网络环境中也不一定能稳定连接。所以，还是很有必要建立自己的 DERP 服务器的。好在，操作起来并不难。<span></span></p>
<h2>准备工作</h2>
<ul>
<li>需要有自己的云服务器，有 docker 运行环境。</li>
<li>需要有自己的域名。</li>
<li>需要申请 SSL 证书。</li>
</ul>
<h2>安装</h2>
<p>假设你的域名为 <code>example.com</code>，对应的证书为 <code>example.com.crt</code>，私钥为 <code>example.com.key</code>，DERP 对外提供服务的端口为 8443。<br />
一行 docker 命令即可创建 DERP 服务器：</p>
<pre><code>docker run -d \
--name derp \
--restart=always \
-p 0.0.0.0:3478:3478/udp \
-p 0.0.0.0:8443:8443 \
-v /path/to/example.com.crt:/app/certs/example.com.crt \
-v /path/to/example.com.key:/app/certs/example.com.key \
-e DERP_DOMAIN=example.com \
-e DERP_ADDR=:8443 \
-e DERP_CERT_MODE=manual \
fredliang/derper:latest
</code></pre>
<p>启动 3478 端口不要修改，8443 端口可以按照自己的喜好来改，DERP_ADDR 变量后面的端口好需要与之前的保持一致，但是这里的冒号不能丢。</p>
<p>接下来来到 Tailscale 管理页面 – Access controls 标签页中，将编辑区域的内容清空，并填入以下内容：</p>
<pre><code>{
    "derpMap": {
        "Regions": {
            "900": {
                "RegionID":   900,
                "RegionCode": "bj",
                "RegionName": "Beijing",
                "Nodes": [
                    {
                        "Name":     "example.com",
                        "RegionID": 900,
                        "HostName": "example.com",
                        "DERPPort": 8443
                    }
                ]
            }
        }
    }
}
</code></pre>
<p><code>RegionCode</code> 与 <code>RegionName</code> 可以自定义，建议使用纯字母。<code>DERPPort</code> 需要与启动 docker 时设置的端口一致。点击保存之后即可。</p>
<p>在本地终端或者命令提示符中运行 <code>tailscale netcheck</code> 命令检查一下，看你设置的节点是否出现在下方的列表之中。</p>
<pre><code>Report:
    * UDP: true
    * IPv4: yes, *.*.*.*:*
    * IPv6: yes, [*:*:*:*:*:*:*:*]:*
    * MappingVariesByDestIP: true
    * HairPinning: false
    * PortMapping: 
    * CaptivePortal: false
    * Nearest DERP: Beijing
    * DERP latency:
        -  bj: 36ms    (Beijing)
        - hkg: 235.7ms (Hong Kong)
        - sea: 240.9ms (Seattle)
        - sfo: 247ms   (San Francisco)
        - syd: 253.2ms (Sydney)
        - sin: 259.5ms (Singapore)
        - tok: 260.3ms (Tokyo)
        - dfw: 271.5ms (Dallas)
        - blr: 277ms   (Bangalore)
        - mia: 295.4ms (Miami)
        - dbi: 314.6ms (Dubai)
        - nyc: 315.2ms (New York City)
        - tor: 326ms   (Toronto)
        - lax: 326.9ms (Los Angeles)
        - den: 333.1ms (Denver)
        - lhr: 347.6ms (London)
        - hnl: 350.9ms (Honolulu)
        - ord: 351.2ms (Chicago)
        - sao: 407.1ms (São Paulo)
        - fra: 487.8ms (Frankfurt)
        - mad: 493.2ms (Madrid)
        - par: 525ms   (Paris)
        - ams: 537.4ms (Amsterdam)
        - waw: 555.3ms (Warsaw)
        - jnb: 680.2ms (Johannesburg)
</code></pre>
<p>当使用 <code>tailscale ping</code> 命令去 ping 一个客户端的时候，就可以看到真正使用上了我们自己的节点。</p>
<pre><code>pong from * (*.*.*.*) via DERP(bj) in 60ms
pong from * (*.*.*.*) via *.*.*.*:* in 58ms
</code></pre>
<h2>防止被白嫖</h2>
<p>如果你的云服务器的带宽、流量不是很大很多的话，做好客户端验证防止别人使用你的 DERP 服务器还是有用的。</p>
<p>首先在服务器上按照 Tailscale 官方安装手册安装客户端，在成功接入自己的局域网之后，本地会创建一个套接字接口 <code>/var/run/tailscale/tailscaled.sock</code>，之后需要做的就是调整一下 docker 的命令：</p>
<pre><code>docker run -d \
--name derp \
--restart=always \
-p 0.0.0.0:3478:3478/udp \
-p 0.0.0.0:8443:8443 \
-v /path/to/example.com.crt:/app/certs/example.com.crt \
-v /path/to/example.com.key:/app/certs/example.com.key \
-v /var/run/tailscale/tailscaled.sock:/var/run/tailscale/tailscaled.sock \
-e DERP_DOMAIN=example.com \
-e DERP_ADDR=:8443 \
-e DERP_CERT_MODE=manual \
-e DERP_VERIFY_CLIENTS=true \
fredliang/derper:latest
</code></pre>
<p>调整之处为两个，一个是将套接字接口挂载进容器中，另一个是添加环境变量 <code>DERP_VERIFY_CLIENTS</code>，这样 DERP 就会验证连接的客户端是否与本机的客户端为同一个账号下，从而避免其他客户端白嫖服务器。</p>]]></content>
        
        <summary type="html">
            
            Tailscale 官方的 DERP 中继服务器全部在境外，距离最近的香港节点在国内的网络环境中也不一定能稳定连接。所以，还是很有必要建立自己的 DERP 服务器的。好在，操作起来并不难。 准备工作  需要有自己的云服务器，有 docker 运行环境。 需要有自己的域名。 需要
            
        </summary>
        
        <category term="Tips"/>
        
        <category term="Tailscale"/>
        
    </entry>
    
    <entry>
        <title>从零开始搭建NAS——坑爹的TrueNAS</title>
        <link href="https://blog.gaojianli.me/2022/12/04/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E5%9D%91%E7%88%B9%E7%9A%84TrueNAS/"/>
        <id>https://blog.gaojianli.me/2022/12/04/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E5%9D%91%E7%88%B9%E7%9A%84TrueNAS/</id>
        
        <author>
            <name>高渐离</name>
        </author>
        
        <published>2022-12-04T13:34:45+00:00</published>
        <updated>2022-12-04T13:34:45+00:00</updated>
        
        <content type="html"><![CDATA[<p>距离<a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/">上一篇文章</a>其实已经过了有一阵子了，本来预计是想要很快写出第二篇的，但是由于各种各样的原因就一直拖了下去。</p><p>嗯，没错，我其实是在测试NAS的稳定性，一定不是太懒的原因。截止到今天（2022-12-4），NAS已经连续运行53天了，在之前因为更新系统等原因不可避免重启了一两次，一直以来确实没出什么大问题。</p><a></a><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /></p><h1><a href="https://blog.gaojianli.me/2022/12/04/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E5%9D%91%E7%88%B9%E7%9A%84TrueNAS/#坑爹的TrueNAS-Core"></a>坑爹的TrueNAS Core</h1><p><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#8%E6%9C%8822%E6%97%A5-Update%EF%BC%9A">上次</a>在文章末尾我提到说，我被TrueNAS Core狠狠地坑了一把。</p><p>TrueNAS是基于FreeBSD构建的操作系统，而作为皇城根下有通天纹的系统，自然是不屑于使用Docker的。FreeBSD自有<code>jails</code>系统。</p><blockquote><p>FreeBSD jail，一种操作系统层虚拟化技术，在FreeBSD操作系统中运作。利用这个技术，FreeBSD的系统管理者，可以创造出几个小型的软件系统，这些软件系统被称为监狱（jails）</p></blockquote><p>作为Docker的老前辈，平心而论，<code>jails</code>在2000年是具有非常划时代意义的新技术，而现有的容器技术例如LXC或者Docker，也或多或少收到了他的启发。然而今年是2022年，jails在当然的应用环境下已经显得力不从心。直接操作<code>jails</code>非常繁琐，因此TrueNAS提供了一个工具<code>iocage</code>，将<code>jails</code>操作简化成了类似<code>docker</code>的操作，还算方便。</p><h2><a href="https://blog.gaojianli.me/2022/12/04/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E5%9D%91%E7%88%B9%E7%9A%84TrueNAS/#网络坑"></a>网络坑</h2><p>jails的网络基于BPF实现，作为eBPF的前身，jails可以提供3种网络模式：</p><ul><li>DCHP。这个模式下的jail类似虚拟机，容器直接从DHCP服务获取IP地址，从网络拓扑上可以将jail视为独立设备。</li><li>端口绑定。直接使用宿主机的网络端口，类似<code>docker</code>的<code>host</code>模式，区别是前者只能使用一张网卡，而<code>docker</code>的<code>host</code>可以使用所有网卡。</li><li>nat。类似Docker最常用的模式，使用端口转发。</li></ul><p>乍一看好像没什么问题？直接模仿Docker无脑nat模式不就完了吗，该有的都有不是吗？让我们再来看看我需要部署的服务列表：</p><table><thead><tr><th>服务</th><th>功能</th><th>需要的端口</th><th>结果</th></tr></thead><tbody><tr><td>Aria2</td><td>下载</td><td>6800</td><td>OK，下载不支持IPv6</td></tr><tr><td>FreeRadius</td><td>Wifi 鉴权</td><td>1812</td><td>OK</td></tr><tr><td>Qbittorrent</td><td>BT下载</td><td>51413</td><td>不支持IPv6</td></tr><tr><td>Emby</td><td>媒体服务器</td><td>不重要</td><td>不支持IPv6，不支持硬件加速</td></tr></tbody></table><p>可以看到，在最重要的两个下载功能中，端口转发均明确表示不支持IPv6（本来V6设计就不是给你NAT的）。此外，由于每个<code>jail</code>都有自己的IP，众多服务也无法使用一个反向代理统一起来。</p><h2><a href="https://blog.gaojianli.me/2022/12/04/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E5%9D%91%E7%88%B9%E7%9A%84TrueNAS/#驱动坑"></a>驱动坑</h2><p>虽然我使用的是一块zen2的R5 4400G，在这个zen4的年代来看已经不新了。但是很遗憾，他的显卡对于FreeBSD来说还是太新了，新到只有在最新的FreeBSD 13.1才堪堪提供了支持。而很遗憾的是，TrueNAS Core的底层版本是13.0，并且直接在宿主系统上更新包是不受支持的。于是接下来我就开始了徒劳且痛苦的尝试。</p><p>首先是尝试更新内核版本，既然<code>freebsd-update</code>不能使用，那我就编译更新内核好了。下载好了内核源码之后，又突然发现宿主系统没有<code>cc</code>编译器。这也难不到我，创建一个新的jail，在里面安装编译器等工具，随后再将内核源代码挂载进去完成编译即可。</p><p>但是这么做的风险极高，首先是因为没有回滚的机会，TrueNAS Core的系统更新不能用了，此外自己编译内核也非常的灵。而事实上，当我编译完成新的内核后，虽然他识别出了我的GPU，但是运行<code>vainfo</code>依旧会报错，也不知道原因是什么。</p><p>另外由于TrueNAS Core和TrueNAS Scale共享一个名字，因此你能搜到的所有文档基本上都是TrueNAS Scale的，没文档的小众系统，我认为继续在上面投入是不值得的，早日弃暗投明吧。</p><h1><a href="https://blog.gaojianli.me/2022/12/04/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E5%9D%91%E7%88%B9%E7%9A%84TrueNAS/#迁移到SCALE"></a>迁移到SCALE</h1><p>TrueNAS由于系统盘也使用了ZFS，因此可以非常轻松的再多个操作系统之间迁移，回滚等操作：<br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /><br />只不过毕竟是从BSD迁移到Linux，配置文件还是有不兼容的部分，因此从Core迁移至Scale被定义为不可逆的过程。</p><p>更新过程也非常简单，和路由器刷机差不多。直接去<a href="https://www.truenas.com/download-truenas-scale/" target="_blank">网站</a>的“手动下载”一项中找到<code>.update</code>文件下载，随后在NAS的手动更新中应用即可：<br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /></p><p>更新完后重启，再手动修改一些配置，就顺利变成Linux了！</p><h2><a href="https://blog.gaojianli.me/2022/12/04/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E5%9D%91%E7%88%B9%E7%9A%84TrueNAS/#SCALE"></a>SCALE</h2><p>更新到了SCALE后，由于是熟悉的Linux，文档也众多于是接下来的流程非常的顺滑，顺利解决了我的问题。めでたしめでたし!  </p><p>如果你以为是这样，那就太naive了。</p><p>世界上怎么会有这么好的事情呢。虽然TrueNAS SCALE确实用了Docker，但是又没完全用。别忘了人家名字里面有个<code>scale</code>，这个<code>scale</code>体现在哪里呢？没错，他给你整了个K8S，你可以用多个NAS组成一个K8S集群，实现动态扩容，负载均衡等等功能……</p><p>有病吧！<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /></p><p>虽然我每天都在用K8S（指自劫云），也喜欢搞起夜级的东西，但是这并不代表我要在家里面整个K8S啊！这东西我曾经尝试安装过，浪费了两天两夜最后还是没装好。<code>kubectl</code>那么多参数我从来就没整明白过。</p><p>不过幸好TrueNAS还是给你提供了一个GUI的，可以通过GUI管理容器的启停扩容。不过我只是简单的尝试了一下就把他抛弃了：<br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /><br />我的8443怎么办？<br />经过在网上的一通搜索，似乎不是只有我一个人遇到了这个问题：<a href="https://www.truenas.com/community/threads/containers-minimum-node-port-9000.90679/" target="_blank">Containers: Minimum node port 9000?</a>。但是很可惜，这个问题是K8S带来的，我没有任何办法修改： </p><blockquote><p>According to the Jira ticket, and <a href="https://oteemo.com/2017/12/12/think-nodeport-kubernetes/" target="_blank">https://oteemo.com/2017/12/12/think-nodeport-kubernetes/</a>, this isn’t a limitation with Scale, but with upstream Kubernetes k8s. Since the Scale applications deploy via Helm charts, they inherit the upstream k8s limits. However, I don’t see anything preventing you from running a container via Docker outside k8s.</p></blockquote><p>那我就只能按照建议，直接起Docker容器咯。<br />另外由于部署了K8S环境，因此系统的虚拟网卡也被搞得一团乱麻，我们熟悉的<code>docker0</code>消失了，取而代之的是一大堆<code>kube-bridge</code>,<code>kube-dummy-if</code>,<code>dummy0</code>的网卡。直接用<code>docker run</code>命令起来的容器会直接没有网卡上不了网，但是我到此已经精疲力竭，没有心思去研究怎么把k8s的网卡挂载进入容器（多半也不支持），于是干脆直接<code>--net=host</code>了。</p><p>由于更新系统后这一大堆docker容器都会丢失，因此我又专门将启动的命令写到一个脚本里面，这样更新系统的时候可以快速恢复：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /></pre></td><td><pre><span>$ cat restore_docker.sh </span><br /><span><span>#!/bin/sh</span></span><br /><span><span># qbittorrent</span></span><br /><span>docker run -d --restart=always --net=host --name qbittorrent -v /mnt/main/Docker/qbittorrent/config:/config -v /mnt/main/User/BT:/downloads -e SavePath=/downloads -e TempPath=/downloads -e HOME=/config -e WEBUI_PORT=3560 linuxserver/qbittorrent:latest </span><br /><span><span># nginx</span></span><br /><span>docker run -d --restart=always --name nginx --net=host -v /mnt/main/Docker/nginx/nginx:/etc/nginx -v /mnt/main/Docker/nginx/www:/www -v /mnt/main/Docker/nginx/modules:/modules nginx:stable-alpine</span><br /><span><span># aria2</span></span><br /><span>docker run -d --restart=always --name=aria2 --net=host -v /mnt/main/Docker/aria2/config:/config -v /mnt/main/User/Common\ Download:/downloads gaojianli2333/aria2</span><br /><span><span># freeradius</span></span><br /><span>docker run -d --restart=always --net=host --name radius -v /mnt/main/Docker/freeradius/raddb:/opt/etc/raddb freeradius/freeradius-server:3.2.0-alpine</span><br /></pre></td></tr></table><p><code>gaojianli2333/aria2</code>容器是我自己打包的，Dockerfile如下：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /></pre></td><td><pre><span><span>FROM</span> alpine:latest</span><br /><span></span><br /><span><span>RUN</span><span> apk add --no-cache aria2</span></span><br /><span></span><br /><span><span>CMD</span><span> [<span>"aria2c"</span>,<span>"--conf=/config/aria2.conf"</span>]</span></span><br /></pre></td></tr></table><h1><a href="https://blog.gaojianli.me/2022/12/04/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E5%9D%91%E7%88%B9%E7%9A%84TrueNAS/#总结"></a>总结</h1><p>这样看来还真是可笑，不管是Core还是Scale，提供的容器系统最后都没有用上，最终还是回归到了手工管理Docker上。只是这样NAS系统提供的功能其实就只有ZFS和报警功能了，如果你不用ZFS或者你可以手操ZFS，那你完全可以用裸的Linux比如Ubunut或者Arch，不必硬凹NAS系统。Scale提供的K8S功能不能说完全没用，但是对于我的需求来说显然太过多余了，不过群晖等系统提供的Docker多半也有各种各样的问题（例如IPv6）。</p><h2><a href="https://blog.gaojianli.me/2022/12/04/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E5%9D%91%E7%88%B9%E7%9A%84TrueNAS/#硬件变化"></a>硬件变化</h2><p>另外在这几个月中，我的NAS也做了一些硬件上的改动。我的主板提供了一根PCIE X16的插槽，而这一插槽长期被X4的<code>TL-NT521</code>占用未免有点可惜。因此我将其替换成了一张<code>X540-T2</code>的FLR卡，并搭配拆分卡弄出了2个额外的M2。<br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /><br />这一套下来竟然只要200块，显得花400买全新TPLink的自己好像是个傻子，洋垃圾万岁！于是我又用卖掉<code>TL-NT521</code>换的钱添加了一张垃圾SSD，作为阵列的L2 ARC使用，目前来看整体命中率还是挺高的。<br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /><br />剩下那个槽位因为我本身内存不足，因此再添置缓存也没有多大意义，或许以后可以考虑插一个M2转SATA的卡，加点硬盘。</p><p>では、諸君は。</p>]]></content>
        
        <summary type="html">
            
            距离上一篇文章其实已经过了有一阵子了，本来预计是想要很快写出第二篇的，但是由于各种各样的原因就一直拖了下去。嗯，没错，我其实是在测试NAS的稳定性，一定不是太懒的原因。截止到今天（2022-12-4），NAS已经连续运行53天了，在之前因为更新系统等原因不可避免重启了一两次，一
            
        </summary>
        
        <category term="电子文玩"/>
        
        <category term="消费电子"/>
        
        <category term="NAS"/>
        
    </entry>
    
    <entry>
        <title>ThinkPad X1 Carbon Gen 9 簡單體驗</title>
        <link href="https://asaba.sakuragawa.moe/2022/11/thinkpad-x1-carbon-gen-9-%e7%b0%a1%e5%96%ae%e9%ab%94%e9%a9%97/?pk_campaign=feed&amp;pk_kwd=thinkpad-x1-carbon-gen-9-%25e7%25b0%25a1%25e5%2596%25ae%25e9%25ab%2594%25e9%25a9%2597"/>
        <id>https://asaba.sakuragawa.moe/2022/11/thinkpad-x1-carbon-gen-9-%e7%b0%a1%e5%96%ae%e9%ab%94%e9%a9%97/?pk_campaign=feed&amp;pk_kwd=thinkpad-x1-carbon-gen-9-%25e7%25b0%25a1%25e5%2596%25ae%25e9%25ab%2594%25e9%25a9%2597</id>
        
        <author>
            <name>櫻川 浅羽</name>
        </author>
        
        <published>2022-11-23T22:04:02+00:00</published>
        <updated>2022-11-23T22:04:02+00:00</updated>
        
        <content type="html"><![CDATA[<p>用了三年多的 ThinkPad X1 Carbon Gen 6 的電池鼓包了，雖然續航時間下降不明顯，卻把整個 D 殼都撐了起來，連螺絲都壓制不住，無奈只好換了 Gen 9。浅羽收到的這台是定製配置的版本，CPU 爲 Intel Core i7-1185G7，配備 32GB RAM 和 512GB SSD，生物辨識方面有帶 Think Shutter 的 IR/RGB 相機和電源鍵指紋辨識，非 WWAN 版本。</p>



<p>這一代 ThinkPad X1 Carbon 有 1.13kg 重，比起前兩代略爲重，但比起 Gen 6 來說基本是一致的。這比起 LG Gram 來說當然還有一定距離，但浅羽也可以舉出一個反面例子：搭配鍵盤式聰穎雙面夾的 12.9 吋 iPad Pro（實測重量爲 624g + 413g ≈ 1.3kg）。</p>



<blockquote>
<p></p>
</blockquote>



<img src="https://asaba.sakuragawa.moe/wp-content/uploads/2022/11/SKG-20221113-040139-2-2048x1152.jpg" />



<p>外觀上差別也不大，不過<strong>終於不是反貓咪的吹爪爪設計了</strong>！這一代的出風口放在了轉軸下，還因此而放棄了 one hinge 設計。同時還<strong>在 D 面設計了一條膠墊來提高筆電平放時的傾斜度</strong>。<strong>B、C 面 180 度開合的傳統藝能也是同樣保留的</strong>，不過由於底部墊高的存在，所以下半部分始終會保持一定的傾斜度。<strong>螢幕方面，尺寸維持 14 吋的前提下比例變成了 16:10</strong>，<strong>下巴的長短終於沒有那麼驚爲天人了</strong>。比例的變更加上窄邊框設計也使得外觀上更偏方正──當然，和 4:3 時代的飯盒比不了。這代的 Think Shutter 可以和 IR/RGB 共存了。就是不知道什麼時候可以有 1080P 的攝影機，這對於 video call 的幫助還是很大的。</p>



<p>開機做一些設定，發現 <strong>UEFI 新增了圖形界面</strong>，也支援滑鼠操作；但是浅羽不喜歡，好在還可以換回 Simple Text 模式。鍵盤方面，<strong>按鍵高度方面是有肉眼可見的降低</strong>，但是神奇的是沒有感受到明顯的鍵程變化，<strong>打鍵感維持了相對一致</strong>。Think Point 沒有變化。<strong>觸控板變得更寬了</strong>，連帶着觸控板的左右按鍵也變得更長了。不過這一代的<strong>觸控板在 Windows 下竟然無法靠內建驅動驅動</strong>，而沒有驅動程式的狀況下完全不能使用！如果不是熟練使用各種小紅小藍小白點的老用家，恐怕要頭痛了。倒是 Fedora 下無需額外設定可以直接使用。<strong>指紋辨識整合到了電源鍵上</strong>，同時電源燈號也充當了指紋辨識的提示燈號，同時擁有白、綠、黃三種顏色。指紋辨識的靈敏度比較一般，浅羽基本上都需要嘗試兩三次才能成功辨識。</p>



<p>效能方面，浅羽沒有詳細測試。新平臺有 4×2 個框框，加上較高的主時脈，應付日常的圖片後製自然是沒問題的。內建的 Iris® Xe 應付一些簡單的遊戲也是可以的，中間 partner 拿去玩了幾天 <em>Europa Universalis IV</em>，解析度設定在 4K 還是無法流暢運行，降到 1080P 後基本就沒有問題了。當然畢竟不是「遊戲本」，就不要認真和隔壁 Ryzen 去比了。滿載的風扇聲音也不小，但是比起 Gen 6 的高頻噪音來說還是略好，<s>沒有刺耳的高頻，中頻飽滿，更加豐滿悅耳一些</s>。</p>



<p>揚聲器意外地很不錯，這一代配備了 4 揚聲器，C 面兩個 0.8W 揚聲器，D 面還有兩個帶音腔的 2W 揚聲器。高音不甜，中音勉強準，低音也完全不沉；但人聲交談的話總算是勉強可以聽的。</p>



<p>總體來說，這代除了 16:10 顯示器外基本上都是常規迭代。但是細節方面的一些完善和提升對於浅羽來說還是比較受用的。可嘆的是 Lenovo 爲什麼非要給 WWAN 版專門單獨開模，簡直是一點升級空間都不想給用家留了。</p>



<h2><a href="https://markdown.sakuragawa.moe/Y6y3FSkgSpOFiGnPg_MFZg#%E9%85%8D%E4%BB%B6%E5%92%8C%E8%B2%BC%E7%B4%99"></a>配件和貼紙</h2>



<p>浅羽把<a href="https://asaba.sakuragawa.moe/2019/02/%e7%94%a8%e5%ae%a2%e8%a3%bd%e5%8c%96%e8%b6%85%e4%bd%8e%e6%ac%be-trackpoint-caps-%e6%94%b9%e5%96%84%e6%96%b0-thinkpad-%e4%b8%8a%e7%9a%84%e5%b0%8f%e7%b4%85%e9%bb%9e%e6%89%8b%e6%84%9f/" data-type="post" data-id="1504" target="_blank">指點桿帽</a>直接從 Gen 6 上取下裝到 Gen 9 上了，完全可以通用。</p>



<p>貼紙這一次沒有選擇 dbrand，而是找了據說是代工廠的一家店。店鋪內有包括 Swarm、Camouflage 在內的各種 dbrand 同款貼紙，同時也可以做 logo cutout。實際收到後，浅羽發現貼紙的材料應該是同款，但開模方面還是存在不小的公差，考慮到和 dbrand 的價格差距不算大，所以也很難說值得。</p>



<p>浅羽這次就要求做 ThinkPad 的 logo cutout，這樣還可以保留 A 面的狀態指示燈號。另一邊的 Lenovo logo 則是完全遮住，不過這代的 Lenovo logo 有一個下陷，浅羽乾脆就在中間貼了點<s>奇怪的東西</s>「自由之光」。</p>


<div>
<img src="https://asaba.sakuragawa.moe/wp-content/uploads/2022/11/SKG-20221113-035532-4096x2560.jpg" />貼上一點「自由之光」</div>


<h2><a href="https://markdown.sakuragawa.moe/Y6y3FSkgSpOFiGnPg_MFZg#%E8%87%AA%E8%A1%8C%E6%94%B9%E8%A3%9D"></a>自行改裝</h2>



<p>拆後蓋看了一下，RAM 焊死，没有空余插槽，甚至连 WLAN 模組都是焊死的，整机只有 SSD 可以替换。非 WWAN 機種，出廠沒有預置 WWAN 模組和天線；同時Lenovo 有單獨開模，機身上也沒有 SIM 卡槽開孔。不過拆開後蓋後可以看到 SIM 卡托盤還保留着，WWAN 接口也留空。</p>



<p>這代留給自行改裝和升級的空間已經基本沒有了，不過「可維護性」倒是依然很好，大部分組件靠螺絲（而不是膠水）固定──雖然也不知道有什麼可「維護」的就是了。</p>



<h3><a href="https://markdown.sakuragawa.moe/Y6y3FSkgSpOFiGnPg_MFZg#%E5%8A%A0%E8%A3%9D-wwan"></a>加裝 WWAN</h3>



<p>根據 TP 非官方情報站站長所說：</p>



<blockquote>
<p>這是因為 X1 Carbon Gen9 的 WLAN Only 機種，整個 C Cover 都由鎂合金打造而成，即使加裝了 WWAN 天線，也想辦法塞入 SIM 卡了，WWAN 無線訊號卻會被鎂合金材質所屏蔽掉！至於 X1 Carbon Gen9 的 WWAN 機種，在 Palmrest 兩側前緣部位，也就是下圖中對應 WWAN 天線的部位，都改用玻璃纖維（GFRP）材質了，以利無線訊號收送。</p>
<a href="http://www.tpuser.idv.tw/wp/?p=4073" target="_blank">ThinkPad X1 Carbon Gen9與X13 Gen2簡測心得(上) | TP非官方情報站</a></blockquote>



<p>應該說，<strong>本來只需要付出購買 WWAN 模組和天線的成本</strong>，<strong>現在還要加上換掉 C 殼的高昂成本了</strong>。不過如果只是收訊較差的話，其實不改可能也「能用」。先前在 X1 Carbon Gen 7 上體驗過 LTE 連線，感覺非常用。有機會的話的話也會在 X1 Carbon Gen 9 上試試看，不過至少要等浅羽決定好買 4G 還是 5G 模組之後了。</p>



<hr />



<p><em>（附頁爲筆電詳細規格）</em></p>


<img src="https://analytics.sakuragawa.moe/piwik.php?idsite=2&amp;rec=1&amp;url=https%3A%2F%2Fasaba.sakuragawa.moe%2F2022%2F11%2Fthinkpad-x1-carbon-gen-9-%25e7%25b0%25a1%25e5%2596%25ae%25e9%25ab%2594%25e9%25a9%2597%2F%3Fpk_campaign%3Dfeed%26pk_kwd%3Dthinkpad-x1-carbon-gen-9-%2525e7%2525b0%2525a1%2525e5%252596%2525ae%2525e9%2525ab%252594%2525e9%2525a9%252597&amp;action_name=ThinkPad+X1+Carbon+Gen+9+%E7%B0%A1%E5%96%AE%E9%AB%94%E9%A9%97&amp;urlref=https%3A%2F%2Fasaba.sakuragawa.moe%2Ffeed%2F" /><div>
    <div>
    <a data-post-id="2930" data-trigger-type="like" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span>2    </span>
</div><div>
    <a data-post-id="2930" data-trigger-type="dislike" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span></span>
</div></div>]]></content>
        
        <summary type="html">
            
            用了三年多的 ThinkPad X1 Carbon Gen 6 的電池鼓包了，雖然續航時間下降不明顯，卻把整個 D 殼都撐了起來，連螺絲都壓制不住，無奈只好換了 Gen 9。浅羽收到的這台是定製配置的版本，CPU 爲 Intel Core i7-1185G7，配備 32GB R
            
        </summary>
        
        <category term="開箱"/>
        
        <category term="#SafeForLife"/>
        
        <category term="國產"/>
        
        <category term="工具控"/>
        
        <category term="數位電子"/>
        
    </entry>
    
    <entry>
        <title>单调栈全攻略</title>
        <link href="https://icebound.cc/2022/11/06/monotonic_stack.html"/>
        <id>https://icebound.cc/2022/11/06/monotonic_stack.html</id>
        
        <author>
            <name>icebound</name>
        </author>
        
        <published>2022-11-06T13:49:09+00:00</published>
        <updated>2022-11-06T13:49:09+00:00</updated>
        
        <content type="html"><![CDATA[<p>最近刷了不少单调栈，总算搞懂了 基本性质 入栈顺序为下标顺序。 出栈序列分批次为单调增/单调减。 每个元素应当 […]</p>
<p>The post <a href="https://icebound.cc/2022/11/06/monotonic_stack.html">单调栈全攻略</a> first appeared on <a href="https://icebound.cc">Icebound</a>.</p>]]></content>
        
        <summary type="html">
            
            最近刷了不少单调栈，总算搞懂了 基本性质 入栈顺序为下标顺序。 出栈序列分批次为单调增/单调减。 每个元素应当 […] The post 单调栈全攻略 first appeared on Icebound.
            
        </summary>
        
        <category term="刷题记录"/>
        
        <category term="文章分类"/>
        
        <category term="电脑常识"/>
        
        <category term="LeetCode"/>
        
        <category term="单调栈"/>
        
        <category term="算法"/>
        
    </entry>
    
    <entry>
        <title>蓝易云服务器体验</title>
        <link href="https://www.ohyee.cc/post/ad_tsyvps"/>
        <id>https://www.ohyee.cc/post/ad_tsyvps</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-11-06T09:14:41+00:00</published>
        <updated>2022-11-06T09:14:41+00:00</updated>
        
        <content type="html"><![CDATA[null]]></content>
        
        <summary type="html">
            
            null
            
        </summary>
        
    </entry>
    
    <entry>
        <title>SSH 调起本地 VSCode</title>
        <link href="https://www.ohyee.cc/post/note_ssh_local_vscode"/>
        <id>https://www.ohyee.cc/post/note_ssh_local_vscode</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-10-23T14:44:05+00:00</published>
        <updated>2022-10-23T14:44:05+00:00</updated>
        
        <content type="html"><![CDATA[ssh 调起本地 VSCode 打开远端文件夹]]></content>
        
        <summary type="html">
            
            ssh 调起本地 VSCode 打开远端文件夹
            
        </summary>
        
    </entry>
    
    <entry>
        <title>InfluxDB 2.4+grafana9.0部署</title>
        <link href="https://icebound.cc/2022/10/12/influxdb_grafana.html"/>
        <id>https://icebound.cc/2022/10/12/influxdb_grafana.html</id>
        
        <author>
            <name>icebound</name>
        </author>
        
        <published>2022-10-12T13:57:43+00:00</published>
        <updated>2022-10-12T13:57:43+00:00</updated>
        
        <content type="html"><![CDATA[<p>工作中需要自建一个简单的离线监控平台，车上收集的collectd数据会通过ETL平台提取，上传至时序数据库，然 […]</p>
<p>The post <a href="https://icebound.cc/2022/10/12/influxdb_grafana.html">InfluxDB 2.4+grafana9.0部署</a> first appeared on <a href="https://icebound.cc">Icebound</a>.</p>]]></content>
        
        <summary type="html">
            
            工作中需要自建一个简单的离线监控平台，车上收集的collectd数据会通过ETL平台提取，上传至时序数据库，然 […] The post InfluxDB 2.4+grafana9.0部署 first appeared on Icebound.
            
        </summary>
        
        <category term="文章分类"/>
        
        <category term="电脑常识"/>
        
        <category term="influxdb"/>
        
        <category term="工作"/>
        
    </entry>
    
    <entry>
        <title>一些想法</title>
        <link href="https://icebound.cc/2022/10/06/some_idea.html"/>
        <id>https://icebound.cc/2022/10/06/some_idea.html</id>
        
        <author>
            <name>icebound</name>
        </author>
        
        <published>2022-10-06T06:59:21+00:00</published>
        <updated>2022-10-06T06:59:21+00:00</updated>
        
        <content type="html"><![CDATA[<p>中秋节在北京一个人过，整个人无比的焦虑：明明很困，躺在床上睡5分钟就会惊醒；看Hadoop源码分析，看不到10 […]</p>
<p>The post <a href="https://icebound.cc/2022/10/06/some_idea.html">一些想法</a> first appeared on <a href="https://icebound.cc">Icebound</a>.</p>]]></content>
        
        <summary type="html">
            
            中秋节在北京一个人过，整个人无比的焦虑：明明很困，躺在床上睡5分钟就会惊醒；看Hadoop源码分析，看不到10 […] The post 一些想法 first appeared on Icebound.
            
        </summary>
        
        <category term="人生感悟"/>
        
        <category term="文章分类"/>
        
    </entry>
    
    <entry>
        <title>光猫 SK-D740-C 超级密码</title>
        <link href="https://www.whosneo.com/sk-d740-c-admin/"/>
        <id>https://www.whosneo.com/sk-d740-c-admin/</id>
        
        <author>
            <name>Neo</name>
        </author>
        
        <published>2022-09-19T09:31:39+00:00</published>
        <updated>2022-09-19T09:31:39+00:00</updated>
        
        <content type="html"><![CDATA[<p>创维品牌系列光猫均可参考。<span></span></p>
<p>打开隐藏配置页面：<a href="http://192.168.1.1/hidden_version_switch.html">http://192.168.1.1/hidden_version_switch.html</a>，勾选 Telnet Enable，页面自动刷新即表示完成。如果页面打不开，可以试试 <a href="http://192.168.1.1/hidden_version_switch.gch">http://192.168.1.1/hidden_version_switch.gch</a>。</p>
<p>开启 telnet 的目的是使得超级密码明文存储在文件中，方便我们获取。</p>
<p>使用 FTP 登录 192.168.1.1，账号密码均为 useradmin，/tmp/telnet_su_passwd 文件内容即为超级密码。</p>
<p>此时再回到光猫管理员登录页面，使用文件内的密码即可登录管理员账户。</p>
<blockquote><p>
  参考链接：https://www.right.com.cn/forum/thread-8249610-1-1.html
</p></blockquote>]]></content>
        
        <summary type="html">
            
            创维品牌系列光猫均可参考。 打开隐藏配置页面：http://192.168.1.1/hidden_version_switch.html，勾选 Telnet Enable，页面自动刷新即表示完成。如果页面打不开，可以试试 http://192.168.1.1/hidden_ve
            
        </summary>
        
        <category term="Tips"/>
        
        <category term="光猫"/>
        
    </entry>
    
    <entry>
        <title>猫之城物理钓鱼挂（二）：图像采集以及画面分类</title>
        <link href="https://binux.blog/2022/09/cat-planet-bot-part-2-video-capture-and-classification/"/>
        <id>https://binux.blog/2022/09/cat-planet-bot-part-2-video-capture-and-classification/</id>
        
        <author>
            <name>Roy Binux</name>
        </author>
        
        <published>2022-09-18T22:19:13+00:00</published>
        <updated>2022-09-18T22:19:13+00:00</updated>
        
        <content type="html"><![CDATA[<p>上一篇中，我们实现了屏幕触控的物理输出，但是钓鱼这个小游戏还是需要根据画面反馈来做动作的。我一开始的想法是用一个摄像头拍摄平板的画面然后进行图像处理。尝试了一会发现，就摄像头这 720P 的分辨率，光是梯形校正准确率都不高，可能做个图像分类还行，但是要分辨画面中的信息对我来说还是有些困难。然后睡前一阵查找，发现了软件实现的 AirPlay。</p><h1><a href="https://binux.blog/2022/09/cat-planet-bot-part-2-video-capture-and-classification/#图像采集"></a>图像采集</h1><p>AirPlay 是 Apple 的屏幕镜像和投影协议，这个协议已经被逆向并且有软件实现了，例如 <a href="https://letsview.com/">LetsView</a>, <a href="https://www.airserver.com/">AirServer</a>。通过 AirPlay + 接收软件，我们可以将 iPad 画面镜像投影到电脑上，分辨率更高，而且没有<strong>色差</strong>，处理起来就更简单了。如果是安卓的平板，也可以通过 Chromecast 或者 Miracast 协议投影，原理是一样的。</p><p>当图像投影到 PC 上之后，就可以通过截取 PC 屏幕窗口的的方式获取到平板画面内容。第一种方案是使用 <a href="https://python-mss.readthedocs.io/">MSS</a>，一个跨平台的 Python 截图包，它能以大约 20 FPS 的速度捕获图片。使用也很简单，首先需要获取投影软件的窗口位置和大小，然后按帧截图发送给 OpenCV 处理。实现的代码在这里：<a href="https://github.com/binux/cat-planet-bot/blob/main/screen_capture.py">screen_capture.py</a>。由于 MSS 并没有提供获取窗口大小的方法，它的区域捕获仅仅依靠的是屏幕坐标。所以获取窗口还是需要我们自己实现的，而这部分不是跨平台的，也没办法获知窗口移动。再加上 MSS 仅仅是截图，当窗口在后台时就失效了，使用起来并不方便。</p><p>而更好的方法是通过 <a href="https://obsproject.com/">OBS</a> + 虚拟摄像头 + OpenCV，对的，就是平时游戏主播使用的直播软件。简单来说就是使用 OBS 捕获投影软件窗口，再通过虚拟摄像头输出给 OpenCV。OBS 软件本身是跨平台的（但是在不同平台可能会有些不同），FPS 要多少有多少，而且窗口可以被遮挡（窗口不能最小化到后台，但是可以放在另一个 Virtual Desktop），窗口移动什么的也完全没有问题，专业的确实就是专业。OBS 设置部分很简单，只要增加一个 Source，然后再根据需要调整输出分辨率就好了。Python 部分的源代码在：<a href="https://github.com/binux/cat-planet-bot/blob/main/obs_capture.py">obs_capture.py</a>。</p><p><img src="https://binux.blog/assets/image/OBS-window-capture.png" /></p><p>Note：虽然最新的 OBS 自带了 Virtual Cam，但是似乎在 Windows 上和 OpenCV 有兼容性问题，捕获的画面是黑的，依旧需要使用<a href="https://github.com/Fenrirthviti/obs-virtual-cam">插件</a>解决。</p><h1><a href="https://binux.blog/2022/09/cat-planet-bot-part-2-video-capture-and-classification/#画面分类"></a>画面分类</h1><p>现在采集到了平板上的游戏画面，下一步就是给画面进行分类，来获得游戏所处的界面。这么做主要有这些原因：</p><ol><li>很多游戏操作是有网络交互的，当点击按钮之后，会有不定长的延迟进入下一个界面，在下一步操作前进行画面分类识别能更<a href="https://baike.baidu.com/item/%E9%B2%81%E6%A3%92%E6%80%A7/832302">鲁棒</a>。</li><li>在有的界面中，存在需要进一步识别的交互内容，例如钓鱼小游戏的浮标。先识别界面类型，能更有效和准确地决定是否需要进行这些信息提取。</li><li>获取当前状态可以使 bot 更灵活，脚本可以从任意状态启动。这一部分会再 第四篇 blog 中讲到。</li></ol><p>在这个项目中，我直接抄了 <a href="https://www.tensorflow.org/">tensorflow</a> 的 <a href="https://www.tensorflow.org/tutorials/images/classification">Image Classification Tutorial</a>。对于这种标准的 UI 界面，随便什么模型效果应该都不差：<a href="https://github.com/binux/cat-planet-bot/blob/main/classifier_training.ipynb">classifier_training.ipynb</a>。</p><p>做图片分类的第一步是采集训练样本，你会注意到 <a href="https://github.com/binux/cat-planet-bot/blob/main/screen_capture.py">screen_capture.py</a> 和 <a href="https://github.com/binux/cat-planet-bot/blob/main/obs_capture.py">obs_capture.py</a> 的 <code>__main__</code> 部分都有 <code>cv.imwrite</code> 以及对应的按键绑定的代码。我首先会在开启图像采集的过程中，游玩游戏，手动进行需要自动化的整个流程，手动或者每 1 秒地频率采集一些原始图像。然后对应每一个分类新建一个文件夹，例如在《猫之城》中，我有 fish_idle, fish_ring, fish_drag, fish_reward 和 not_supported 这样一些分类。然后将采集到的图片拖到对应分类的文件夹中，我对于分类和图片的选取是这样的：</p><ul><li>分类之间的图像需要有较大的不同。例如，点击之后显示的确认对话框就没必要单独建立一个分类。</li><li>每个分类选取至少 10-20 张 <strong>不同</strong> 的图片，尽量涵盖这个类别可能出现的所有变种，例如《猫之城》中 fish_idle 会出现不同的场景导致背景不一样。</li><li>单个类别不应该有远多于别的类别的样本，最多和最少之间不超过 10 倍这样。</li><li>not_supported 可以用来放一些脚本用不到的 UI 截图来增加类别之间的差异性，以及在进入没有分类的页面的时候不会错误激活脚本。</li></ul><p>然后就是套代码了，图片分类并不需要很高的图片分辨率，这里我随便选了一个 220x300 来保持图片宽高比，套示例模型就能达到 99% 的准确度了。因为是 UI 界面，也不存在裁切变换，之后实际测试结果也非常好。最后将分类列表和模型保存下来就可以啦。为了保存单个文件，并且减少体积，使用的是 <a href="https://www.tensorflow.org/lite/">TensorFlow Lite</a> 模型，predict 的代码在 <a href="https://github.com/binux/cat-planet-bot/blob/main/classifier.py">classifier.py</a>。唯一需要注意的是使用的时候需要自己 resize 到 220x300，并且 OpenCV 图片的颜色是 BGR 而 tensorflow 是 RGB 的，需要要进行转换。其他就没什么了，总共有效代码也就 15 行，踩着巨人的肩膀，使用成熟的库之后还是挺简单的。</p><p><img src="https://binux.blog/assets/image/cat-plant-bot-image-classification-sample.jpg" /></p><p>Note: 图片中的 <code>fish_ring = 099%</code> 就是图片分类的结果和 score，而其他的图片识别内容和辅助线就在下一篇 blog 中讲解啦。</p>]]></content>
        
        <summary type="html">
            
            上一篇中，我们实现了屏幕触控的物理输出，但是钓鱼这个小游戏还是需要根据画面反馈来做动作的。我一开始的想法是用一个摄像头拍摄平板的画面然后进行图像处理。尝试了一会发现，就摄像头这 720P 的分辨率，光是梯形校正准确率都不高，可能做个图像分类还行，但是要分辨画面中的信息对我来说还
            
        </summary>
        
        <category term="自动化"/>
        
        <category term="open-source"/>
        
        <category term="github"/>
        
        <category term="tensorflow"/>
        
        <category term="ML"/>
        
    </entry>
    
    <entry>
        <title>OpenWrt SquashFS 镜像扩容</title>
        <link href="https://www.whosneo.com/openwrt-squashfs-expand/"/>
        <id>https://www.whosneo.com/openwrt-squashfs-expand/</id>
        
        <author>
            <name>Neo</name>
        </author>
        
        <published>2022-09-09T06:04:48+00:00</published>
        <updated>2022-09-09T06:04:48+00:00</updated>
        
        <content type="html"><![CDATA[<p>最近搞了个软路由，OpenWrt 官方下载的镜像默认空间只有一百多兆，完全不够用的，白白浪费了 SD 卡的空间。本文记录一下如何将默认的空间给扩容。<span></span></p>
<p>解压安装包，得到 img 镜像文件</p>
<pre><code>gzip -d friendlyarm_nanopi-r4s-squashfs-sysupgrade.img.gz
</code></pre>
<p>给 img 镜像文件末尾增加 6G 空白数据</p>
<pre><code>dd if=/dev/zero bs=1G count=6 &gt;&gt; friendlyarm_nanopi-r4s-squashfs-sysupgrade.img
</code></pre>
<p>对 img 镜像文件进行分区调整，使分区占满整个镜像文件</p>
<pre><code>parted friendlyarm_nanopi-r4s-squashfs-sysupgrade.img

# 显示出分区
print

# 将第二个分区调整为 100% 大小
resizepart 2 100%

# 完成退出
quit
</code></pre>
<p>最后，将 img 镜像文件打包成压缩文件</p>
<pre><code>gzip friendlyarm_nanopi-r4s-squashfs-sysupgrade.img
</code></pre>
<p>这样最后得到的安装包就是扩容完成的了，用这个刷机即可，再也不会提示空间不足了。</p>
<blockquote><p>
  参考链接：https://dickies.myds.me:56789/st/routeos/1024/
</p></blockquote>]]></content>
        
        <summary type="html">
            
            最近搞了个软路由，OpenWrt 官方下载的镜像默认空间只有一百多兆，完全不够用的，白白浪费了 SD 卡的空间。本文记录一下如何将默认的空间给扩容。 解压安装包，得到 img 镜像文件 gzip -d friendlyarm_nanopi-r4s-squashfs-sysupg
            
        </summary>
        
        <category term="Tips"/>
        
        <category term="OpenWrt"/>
        
    </entry>
    
    <entry>
        <title>[Leetcode系列]初级算法</title>
        <link href="https://icebound.cc/2022/08/28/leetcode_primary.html"/>
        <id>https://icebound.cc/2022/08/28/leetcode_primary.html</id>
        
        <author>
            <name>icebound</name>
        </author>
        
        <published>2022-08-28T11:55:29+00:00</published>
        <updated>2022-08-28T11:55:29+00:00</updated>
        
        <content type="html"><![CDATA[<p>初级系列：https://leetcode.cn/leetbook/detail/top-interview- […]</p>
<p>The post <a href="https://icebound.cc/2022/08/28/leetcode_primary.html">[Leetcode系列]初级算法</a> first appeared on <a href="https://icebound.cc">Icebound</a>.</p>]]></content>
        
        <summary type="html">
            
            初级系列：https://leetcode.cn/leetbook/detail/top-interview- […] The post [Leetcode系列]初级算法 first appeared on Icebound.
            
        </summary>
        
        <category term="刷题记录"/>
        
        <category term="文章分类"/>
        
        <category term="LeetCode"/>
        
    </entry>
    
    <entry>
        <title>猫之城物理钓鱼挂（一）：物理模拟触屏点击</title>
        <link href="https://binux.blog/2022/08/cat-planet-bot-part-1-touch-simulation/"/>
        <id>https://binux.blog/2022/08/cat-planet-bot-part-1-touch-simulation/</id>
        
        <author>
            <name>Roy Binux</name>
        </author>
        
        <published>2022-08-28T07:49:57+00:00</published>
        <updated>2022-08-28T07:49:57+00:00</updated>
        
        <content type="html"><![CDATA[<p>真的有2年半没有写 blog 了。我是那种不愿意在事情尘埃落定之前，把它写下来的类型。在这两年半里，H1B 抽到了，也跳槽了。收入上去之后，也更愿意花钱解决问题，而不是自己做点什么，有好几次想要提笔，又感觉没什么好写的。以后会改善吗？我觉得不会，虽然我依旧会去尝试各种新的东西，但是觉得有必要写下来的变少了，现在我更多的是追求安稳的生活吧。</p><p>言归正传，这次带来的是一个手游《猫之城》的物理挂。4年以前，我做过一个<a href="https://binux.blog/2018/10/girls-frontline-ankulua-vision/">《少前》的脚本</a>，使用的是一个机器内的 App 来采集图像然后驱动控制的，然后就被封号了：P 。于是这一次就打算使用物理的方法，在机器外部实现所有的信息处理和控制。比如下面这一段视频，就是这个物理挂识别游戏内的钓鱼小游戏，然后通过电极模拟触控实现的：</p><p></p><p>在这一系列 blog 中，我会分为</p><ul><li>模拟物理点击</li><li>图像采集以及画面分类</li><li>游戏图像细节信息提取</li><li>控制与 bot 状态机</li></ul><p>等篇章讲解这个 bot 的实现，同时源代码已经上传到了 github: <a href="https://github.com/binux/cat-planet-bot">cat-planet-bot</a>。<strong>注意</strong>：使用外挂是违反游戏用户协议的行为。由于代码中使用了大量 hard coded 图像坐标，我并不认为你能直接使用它。这份代码仅在 blog 中作为引用，讲解学习。</p><p>我也是第一次做硬件，电子电路以及图像处理开发（所以使用的最简单的 Arduino），我只会很简单地介绍这方面的知识，如果有什么错误，或者更好的方案，欢迎在评论中指出。</p><h3><a href="https://binux.blog/2022/08/cat-planet-bot-part-1-touch-simulation/#电容屏的物理触控"></a>电容屏的物理触控</h3><p>简单的说，现在的平板手机的触摸屏都是<a href="https://zh.m.wikipedia.org/zh-hans/%E7%94%B5%E5%AE%B9%E5%BC%8F%E6%84%9F%E5%BA%94">电容屏</a>，它是通过<strong>测量</strong>手指靠近屏幕导致的电容<strong>变化</strong>来获取点击位置的，所以只要你能造成屏幕上某个区域的电容变化，就能模拟出点击。不过，不管怎么说，不同屏幕实现方式和灵敏度还是有区别的，最靠谱简单的方式还是实践。毕竟只要某个方案在你自己的机器上有效就可以了嘛。这里我直接使用了一个<a href="https://patrickhlauke.github.io/touch/tracker/multi-touch-tracker-pointer-hud.html">网页</a>，在 iPad 上测试了一些可行和不可行的例子：</p><p>不可行的：</p><ul><li>塑料的笔（和其他绝缘材料）</li><li>没有接地的硬币（比如你手拿着硬币就可以认为是有效接地）</li><li>没有接地的铝箔卷（在形状合适的情况下，不接地的铝箔卷可以形成点击，类似多芯导线形成的毛刷）</li><li>接地了的硬币边缘</li><li>单芯导线，回形针或者金属餐具（和屏幕接触面积只有一个点，无论是否接地）</li></ul><p>可行的：</p><ul><li>电容笔或者触控笔（无论是否接地）</li><li>接地并躺平的硬币</li><li>接地了的铝箔卷</li><li>不接地的多芯导线形成的毛刷</li><li>电池正负极（类似上一条）</li></ul><p>总结起来这里有两个关键：</p><ul><li>接触面积要足够大（面积要和手指类似）</li><li>是否接地不是关键，但接地可以改变触控状态（这一点很重要，它是我们能够通过电路控制的关键）</li></ul><p>于是，我这里选择的是：<a href="https://www.google.com/search?q=%E7%94%B5%E5%87%BB+%E6%8C%89%E6%91%A9%E8%B4%B4">电击按摩贴</a>。首先，这东西导电，而且可以随意裁剪大小，并且自带粘性，可以粘在屏幕上。通过控制是否接地（初次粘贴时屏幕会感应为持续按住状态，需要关闭再打开屏幕reset，原因见下文）可以控制触摸状态。最最最重要的是，这东西在美国很容易买到，并且我家里有：D 。如果你在国内，可以买到成品连点器，或者直接买吸盘造型的导电橡胶，价格实惠，卖家甚至已经给你接好了导线。</p><p><img src="https://binux.blog/assets/image/touch-contact.jpg" /></p><h3><a href="https://binux.blog/2022/08/cat-planet-bot-part-1-touch-simulation/#电脑控制触控"></a>电脑控制触控</h3><p>在上一步我们知道可以通过电极的接地与否，模拟触摸的按下和抬起，这时候就需要一个 PC 到这个接地电路的控制器，这里一般是一个与 PC 通信的 MUC 中导出的 GPIO 接口。我这里使用的是 Arduino，一个非常成熟的入门级开发板和配套程序。不过你也可以用例如 树莓派，STM32，ESP32 等等平台，它们的开发板可能更便宜，而且有的还能做到无线控制。</p><p>然后电路具体怎么实现呢？简单查询，网上有说使用<a href="https://electronics.stackexchange.com/questions/423740/simulate-capacitive-touch">继电器，伺服电机的</a>，也有说可以使用 <a href="https://electronics.stackexchange.com/questions/60070/how-do-i-make-a-micro-controller-act-as-a-finger-on-a-touch-screen">N-channel MOSFET</a>（也有说用 <a href="https://electronics.stackexchange.com/questions/328031/how-to-physically-stimulate-a-touch-screen-with-an-external-device">P-channel</a> 或者<a href="https://electronics.stackexchange.com/a/60424">不能用的</a>）。但是都有一个问题：没有实物，而且我也不知道需要买什么规格的啊。在美国，如果一次没有搞定，重复购买的话，光运费就会多花出很多钱了。于是，我把镜头看向了国内，刷到了 <a href="https://www.bilibili.com/video/BV1wB4y1A76k">【单片机】Arduino光遇自动弹琴机器人2.0来了</a> 这个视频，视频中 UP 主使用了光耦甚至给出了型号。那还说什么呢？照着来呗。</p><blockquote><p>选择这个方案还有一些原因是，其他方案里的，伺服电机存在机械机构，安装麻烦；继电器往往是电磁继电器，开关时会发出噪音；而 MOSFET 的电路<a href="https://electronics.stackexchange.com/a/60424">不完全隔离</a>，可能会因为自身存在一些电容，而屏幕判断不准确。</p></blockquote><p>在面包板上将一个 GPIO 端口，与一个发光二极管，光耦，限流电阻串联，然后接地就可以了；光耦的另一端分别接按摩贴做的电极和地：</p><p><img src="https://binux.blog/assets/image/circle-connection.png" /></p><p>在 GPIO 高电平时，光耦开关闭合，会将电极和地连通，从而模拟出按下的状态。</p><blockquote><p>光耦和 LED 类似，需要串联一个限流电阻。例如我使用的 PC817 的 Forward Voltage 是 1.2V，电流 20mA。而 Arduino 的 GPIO 输出是 5V 的，通过 <a href="http://www.chinaaet.com/tools/led_current_limiting_resistance.html">计算</a> 我们需要串联一个大约 190Ω 的电阻。（什么，你说我还串联了一个 LED ？管它呢，又不是不能用）</p></blockquote><h4><a href="https://binux.blog/2022/08/cat-planet-bot-part-1-touch-simulation/#Arduino-控制程序"></a>Arduino 控制程序</h4><p>Arduino 非常简单地提供了一个 IDE，插上开发板的 USB 就可以开始编程了，你首先可以照着 Arduino 的标准教程 <a href="https://www.arduino.cc/en/Tutorial/BuiltInExamples/Blink">Blink</a> 熟悉下环境，当程序上传到开发板之后就不需要 IDE 了。PC 将通过 USB 连接 Arduino UART 串口进行通信。Arduino 部分的代码如下：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /><span>16</span><br /><span>17</span><br /><span>18</span><br /><span>19</span><br /><span>20</span><br /><span>21</span><br /><span>22</span><br /><span>23</span><br /></pre></td><td><pre><span><span><span>void</span> <span>setup</span><span>()</span> </span>{</span><br /><span>  <span>Serial</span>.<span>begin</span>(<span>9600</span>);</span><br /><span>  <span>for</span> (<span>int</span> i = <span>8</span>; i &lt;= <span>13</span>; i++) {</span><br /><span>    <span>pinMode</span>(i, <span>OUTPUT</span>);</span><br /><span>  }</span><br /><span>  <span>for</span> (<span>int</span> i = A0; i &lt;= A5; i++) {</span><br /><span>    <span>pinMode</span>(i, <span>OUTPUT</span>);</span><br /><span>  }</span><br /><span>  <span>Serial</span>.<span>println</span>(<span>"OK"</span>);</span><br /><span>}</span><br /><span></span><br /><span><span><span>void</span> <span>loop</span><span>()</span> </span>{</span><br /><span>  <span>while</span> (<span>Serial</span>.<span>available</span>()) {</span><br /><span>    <span>String</span> command = <span>Serial</span>.<span>readStringUntil</span>(<span>'\n'</span>);</span><br /><span>    <span>String</span> op = command.<span>substring</span>(<span>0</span>, <span>3</span>);</span><br /><span>    <span>String</span> rest = command.<span>substring</span>(<span>3</span>);</span><br /><span>    <span>if</span> (op == <span>"LOW"</span>) {</span><br /><span>      <span>digitalWrite</span>(rest.<span>toInt</span>(), <span>LOW</span>);</span><br /><span>    } <span>else</span> <span>if</span> (op == <span>"HIG"</span>) {</span><br /><span>      <span>digitalWrite</span>(rest.<span>toInt</span>(), <span>HIGH</span>);</span><br /><span>    }</span><br /><span>  }</span><br /><span>}</span><br /></pre></td></tr></table><p>是不是很简单呢？这里首先初始化了开发板的串口，和一些 GPIO 作为输出。然后我们定义了一个通信协议：HIG00 和 LOW00 来控制 GPIO 的高低电平。注意，这里开发板在初始化后会立即发送一个 OK 信息，这是因为 Arduino UNO 会在串口连接上时<a href="https://playground.arduino.cc/Main/DisablingAutoResetOnSerialConnection/">重启</a>，这个 OK 信息可以让 PC 端知道开发板已经准备好了。</p><h4><a href="https://binux.blog/2022/08/cat-planet-bot-part-1-touch-simulation/#PC-端"></a>PC 端</h4><p>PC 这边可以用 <a href="https://pyserial.readthedocs.io/en/latest/index.html">pySerial</a> 这个包，当开发板连接上 PC 或者 Mac 之后，会显示为 COM* 或者 /dev/tty* 设备。pySerial 也有 <code>serial.tools.list_ports.comports()</code> API 可以列出所有的串口设备，我们可以通过一些条件找到 Arduino：</p><p><a href="https://github.com/binux/cat-planet-bot/blob/main/arduino.py">https://github.com/binux/cat-planet-bot/blob/main/arduino.py</a></p><p>代码中我还实现了一些 helper function 例如 <code>throttle_press</code> 和 <code>autorelease</code> 并且记录了每个 pin 的按下状态。这些都只是为了方便，并不是必须的，串口的速率是完全足够直接发送每个指令的，并且我测试中也没有感觉到任何延迟。</p><h4><a href="https://binux.blog/2022/08/cat-planet-bot-part-1-touch-simulation/#更多？"></a>更多？</h4><p>只要在面包板上插上更多的光耦和 Arduino GPIO 连接，然后制作更多的电极，就能支持多点触控了。但是，很明显的，这个数量是有限制的。而且无法改变点击位置，也无法实现滑动。那么有解决方案吗？我这里有一些想法：</p><p>首先，可以增加电极的数量，以至于覆盖到整个屏幕，然后在屏幕上分区分块控制每个点的电容变化。这个想法在 <a href="http://www.fpl2012.org/Presentations/PHD7.pdf">这篇论文</a> 中有描述，但是我并没有找到成品。</p><p>而另一个更可行的方案是通过机械控制触控笔，实现全屏覆盖。例如改装一个 3D 打印机，将喷头换成一只触控笔，通过 3D 打印机的精确 3 轴移动来模拟点击。这个方案的好处在于 3D 打印机是一个非常便宜的成品，省去了零散零件采购的成本，而且很多 3D 打印机的固件是开源的，可以很容易地通过 <a href="https://en.wikipedia.org/wiki/G-code">G-code</a> 操作。</p><h3><a href="https://binux.blog/2022/08/cat-planet-bot-part-1-touch-simulation/#总结"></a>总结</h3><p>到这里，我们就打通了 PC 到平板的物理触控了。使用这些东西，就可以开发一些固定的自动化脚本了，例如下面这个脚本每次执行，自动按了 99 次 +10 然后购买：</p><p></p><p>在使用中，有一些影响触控成功率的经验：</p><ol><li>在安装电极后，需要关闭屏幕再打开。（刚安装上的贴片，无论是否接地都会被检测为按下，重启屏幕可以将这个状态重置为抬起，这样接地时改变的电容就会检测为按下了。）</li><li>将平板接上电源效果会更好。（这样可以给平板接地，类似你手持平板的状态。但是并不需要和 Arduino 接在一起。）</li><li>我在电极和地之间接了一个电阻，可见导线的长度并没有关系。不需要担心导线太长产生的电容。</li></ol>]]></content>
        
        <summary type="html">
            
            真的有2年半没有写 blog 了。我是那种不愿意在事情尘埃落定之前，把它写下来的类型。在这两年半里，H1B 抽到了，也跳槽了。收入上去之后，也更愿意花钱解决问题，而不是自己做点什么，有好几次想要提笔，又感觉没什么好写的。以后会改善吗？我觉得不会，虽然我依旧会去尝试各种新的东西，
            
        </summary>
        
        <category term="自动化"/>
        
        <category term="open-source"/>
        
        <category term="github"/>
        
        <category term="arduino"/>
        
    </entry>
    
    <entry>
        <title>在 Proxmox VE 上使用 LXC 建置 UU 加速器</title>
        <link href="https://asaba.sakuragawa.moe/2022/08/%e5%9c%a8-proxmox-ve-%e4%b8%8a%e4%bd%bf%e7%94%a8-lxc-%e5%bb%ba%e7%bd%ae-uu-%e5%8a%a0%e9%80%9f%e5%99%a8/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8"/>
        <id>https://asaba.sakuragawa.moe/2022/08/%e5%9c%a8-proxmox-ve-%e4%b8%8a%e4%bd%bf%e7%94%a8-lxc-%e5%bb%ba%e7%bd%ae-uu-%e5%8a%a0%e9%80%9f%e5%99%a8/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8</id>
        
        <author>
            <name>櫻川 浅羽</name>
        </author>
        
        <published>2022-08-23T18:39:53+00:00</published>
        <updated>2022-08-23T18:39:53+00:00</updated>
        
        <content type="html"><![CDATA[<div>
			
	
	
		<p>
			本篇爲「<em>家庭網路</em>」系列第 15 篇（全 15 篇）。		</p>
			

			<div>
			<ol>
									<li><a href="https://asaba.sakuragawa.moe/2017/12/%e5%85%a5%e6%89%8b-linksys-wrt1900ac-%e4%bd%9c%e7%88%b2-ap%ef%bc%8c%e5%88%b7-dd-wrt-%e5%9b%ba%e4%bb%b6/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">入手 Linksys WRT1900AC 作爲 AP，刷 DD-WRT 固件</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2017/12/%e9%97%96%e5%85%a5%e8%81%af%e9%80%9a%e5%ae%9a%e8%a3%bd%e7%83%bd%e7%81%ab-hg220g-u%ef%bc%88wo-36%ef%bc%89/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">闖入聯通定製烽火 HG220G-U（WO-36）</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/01/%e4%b9%9f%e8%a8%b1%e6%98%af%e6%9c%80%e6%8a%98%e9%a8%b0%e7%9a%84%ef%bc%88%e9%9a%a8%e8%ba%ab%ef%bc%89%e8%bf%b7%e4%bd%a0%e4%bc%ba%e6%9c%8d%e5%99%a8%ef%bc%9a%e8%a8%88%e5%8a%83/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">也許是最折騰的（隨身）迷你伺服器：計劃</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/01/%e4%b9%9f%e8%a8%b1%e6%98%af%e6%9c%80%e6%8a%98%e9%a8%b0%e7%9a%84%ef%bc%88%e9%9a%a8%e8%ba%ab%ef%bc%89%e8%bf%b7%e4%bd%a0%e4%bc%ba%e6%9c%8d%e5%99%a8%ef%bc%9a%e8%bb%9f%e9%ab%94/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">也許是最折騰的（隨身）迷你伺服器：軟體</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/01/%e4%b9%9f%e8%a8%b1%e6%98%af%e6%9c%80%e6%8a%98%e9%a8%b0%e7%9a%84%ef%bc%88%e9%9a%a8%e8%ba%ab%ef%bc%89%e8%bf%b7%e4%bd%a0%e4%bc%ba%e6%9c%8d%e5%99%a8%ef%bc%9a%e8%a3%9d%e6%a9%9f/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">也許是最折騰的（隨身）迷你伺服器：裝機</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/02/%e5%9c%a8%e5%9c%8b%e7%a7%91%e5%a4%a7%ef%bc%88ucas%ef%bc%89%e5%ae%bf%e8%88%8d%e9%85%8d%e7%bd%ae-ipv6-%e7%a9%bf%e9%80%8f/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">在國科大（UCAS）宿舍配置 IPv6 穿透</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/03/%e6%96%90%e8%a8%8a-k3-%e4%b8%8a%e8%bb%8a%ef%bc%8c%e9%96%8b%e5%95%93-telnet%e3%80%81%e5%88%b7%e5%b7%b2-root-%e7%89%88%e5%ae%98%e6%96%b9%e5%9b%ba%e4%bb%b6%e5%92%8c-merlin/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">斐訊 K3 上車，開啓 Telnet、刷已 Root 版官方固件和 Merlin</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/03/%e4%bd%bf%e7%94%a8-bind9-%e5%bb%ba%e7%bd%ae%e6%b7%b7%e5%90%88-dns%ef%bc%88response-policy-zone%ef%bc%89/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">使用 bind9 建置混合 DNS（Response Policy Zone）</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/06/%e6%96%90%e8%a8%8a-k2t-%e9%96%8b%e7%ae%b1%e8%88%87%e5%8b%95%e6%89%8b%e8%89%b9%ef%bc%88%e5%8b%95%e6%89%8b%e7%8e%a9%ef%bc%89/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">斐訊 K2T 開箱與動手艹（動手玩）</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/06/huawei-b315s-936-4g-lte-cpe-%e9%96%8b%e7%ae%b1%e8%88%87%e5%8b%95%e6%89%8b%e7%8e%a9/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">Huawei B315s-936 4G LTE CPE 開箱與動手玩</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/06/%e9%80%8f%e9%81%8e-vlan-%e5%be%9e%e4%b8%8d%e5%90%8c%e5%87%ba%e5%8f%a3%e7%8d%b2%e5%be%97-ipv4-ipv6-%e6%a7%8b%e5%bb%ba%e9%9b%99%e6%a3%a7%e7%b6%b2%e8%b7%af/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">透過 VLAN 從不同出口獲得 IPv4/IPv6 地址構建雙棧網路</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2020/02/%e9%97%9c%e6%96%bc%e5%8d%8a%e5%a4%9c%e8%89%b9%e8%b2%93%e7%9a%84%e9%80%99%e6%aa%94%e4%ba%8b%ef%bc%9a%e4%b8%ad%e8%88%88-zte-zxhn-f677v2-ont-%e8%a8%ad%e5%ae%9a%e6%a9%8b%e6%8e%a5/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">關於半夜艹貓的這檔事：中興 ZTE ZXHN F677V2 ONT 設定橋接</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2021/01/%e4%bf%ae%e5%be%a9-openwrt-%e4%b8%8a-clash%ef%bc%88openclash%ef%bc%89%e5%bd%b1%e9%9f%bf-port-forwarding-%e7%9a%84%e5%95%8f%e9%a1%8c/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">修復 OpenWRT 上 Clash（OpenClash）影響 Port Forwarding 的問題</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2021/10/%e5%9c%a8-openwrt-%e4%b8%8a%e6%ad%a3%e7%a2%ba%e9%96%8b%e5%95%93%e7%b6%b2%e6%98%93-uu-%e5%8a%a0%e9%80%9f%e5%99%a8/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">在 OpenWRT 上正確開啓網易 UU 加速器</a></li>
									<li><span>在 Proxmox VE 上使用 LXC 建置 UU 加速器</span></li>
							</ol>
		</div>
	</div>

<p>網易的 <a href="https://uu.163.com/router/direction.html" data-type="URL" data-id="https://uu.163.com/router/direction.html" target="_blank">UU 路由器插件</a>支援 Merlin、小米路由器和 OpenWRT。但是如果沒有支援的路由器如何使用呢？開 VM 是最簡單的方式，先前也<a href="https://asaba.sakuragawa.moe/2021/10/%e5%9c%a8-openwrt-%e4%b8%8a%e6%ad%a3%e7%a2%ba%e9%96%8b%e5%95%93%e7%b6%b2%e6%98%93-uu-%e5%8a%a0%e9%80%9f%e5%99%a8/" data-type="post" data-id="2380" target="_blank">分享過一些技巧</a>。容器作法也已經有<a href="https://github.com/DianQK/uuplugin">現成的工作</a>可以使用。不過在 Proxmox VE 上還可以使用 Linux 容器單獨運行 OpenWRT。</p>



<h2><a href="https://markdown.sakuragawa.moe/-EOu9OJBRcSlLdaR-pYFQA?view#%E5%BB%BA%E7%AB%8B-lxc-%E5%AE%B9%E5%99%A8"></a>建立 LXC 容器</h2>



<p>OpenWRT 現時已經提供了<a href="https://images.linuxcontainers.org/images/openwrt/" target="_blank">官方的 rootfs</a>，直接下載就可以使用了。不過由於 Proxmox VE 上的 LXC 作業系統類型未有預設 OpenWRT，所以需要在命令列下建立容器：</p>



<pre><code>export CTID=2000
pct create ${CTID} \
    /path/to/storage/template/cache/openwrt-21.02-amd64.tar.xz \
    --hostname openwrt-uu
    --rootfs local-lvm:1 \
    --cores 1 \
    --memory 512 \
    --arch amd64 \
    --ostype unmanaged \
    --unprivileged 0
pct set ${CTID} --net0 name=eth0,bridge=vmbr0,ip=manual</code></pre>



<p>注意：由於容器後續需要使用 TUN 裝置，所以<strong>需要是特權容器</strong>（<code>--unprivileged 0</code>）。至於其他部分則是看需求而定。</p>



<p>然後爲容器新增 TUN 裝置，編輯 <code>/etc/pve/lxc/${CTID}.conf</code> 加入以下行：</p>



<pre><code>lxc.cgroup2.devices.allow: c 10:200 rwm
lxc.hook.autodev: sh -c "modprobe tun; cd ${LXC_ROOTFS_MOUNT}/dev; mkdir net; mknod net/tun c 10 200; chmod 0666 net/tun"</code></pre>



<p>此時容器已經準備好，可以啓動了。</p>



<h2><a href="https://markdown.sakuragawa.moe/-EOu9OJBRcSlLdaR-pYFQA?view#%E8%A8%AD%E5%AE%9A%E7%B6%B2%E8%B7%AF"></a>設定網路</h2>



<p>啓動容器後，OpenWRT 預設是從 DHCP 獲得 IP 位置的，並且預設的網路介面劃定爲 WAN 區域。由於 UU 加速器需要 <code>br-lan</code> 接口，爲了方便後續設定，編輯 <code>/etc/config/network</code> 以調整 OpenWRT 的網路設定：</p>



<pre><code>config interface 'loopback'
	option proto 'static'
	option ipaddr '127.0.0.1'
	option netmask '255.0.0.0'
	option device 'lo'
	option ifname 'lo'

config interface 'lan'
	option type 'bridge'
	option ifname 'eth0'
	option proto 'static'
	option ipaddr '{{UU_LAN_IPADDR}}'
	option gateway '{{UU_LAN_GATEWAY}}'
	option netmask '{{UU_LAN_NETMASK}}'</code></pre>



<p>同時編輯 <code>/etc/config/dhcp</code> 關閉掉接口上的 DHCP：</p>



<pre><code>config dhcp 'lan'
        option interface 'lan'
        option ignore '1'
        option ra_management '0'</code></pre>



<p>重新啓動容器，然後安裝 UU 路由器插件及第三方的 LuCI 管理介面：</p>



<pre><code>opkg update
opkg install ca-certificates kmod-tun
opkg install uugamebooster luci-app-uugamebooster luci-i18n-uugamebooster-zh-cn</code></pre>



<p>出於保險考慮，可以禁用掉防火牆之類的無關服務：</p>



<pre><code>/etc/init.d/firewall disable
/etc/init.d/odhcpd disable</code></pre>



<p>最後開啓 UU 加速器：</p>



<pre><code>uci set uuplugin.uuplugin.enabled='1'
/etc/init.d/uuplugin enable
/etc/init.d/uuplugin start</code></pre>



<h2><a href="https://markdown.sakuragawa.moe/-EOu9OJBRcSlLdaR-pYFQA?view#%E4%BD%BF%E7%94%A8-uu-%E5%8A%A0%E9%80%9F%E6%9C%8D%E5%8B%99"></a>使用 UU 加速服務</h2>



<p>在 DHCP 伺服器上，爲遊戲主機下發特定的設定檔，將閘道器和 DNS 設定為容器的 IP。同時，在手機上的「UU 主機加速」應用程式中綁定路由器插件前，需要將手機閘道器和 DNS 也設定爲容器的 IP；綁定完畢後，可以改回原來的設定。設定完成後，打開「UU 主機加速」應用程式即可看到裝置出現，正常操作加速即可。</p>


<div>
<img src="https://asaba.sakuragawa.moe/wp-content/uploads/2022/08/cgi-bin_luci_admin_services_uuplugin.png" />第三方的 LuCI 管理介面</div>


<h2><a href="https://markdown.sakuragawa.moe/-EOu9OJBRcSlLdaR-pYFQA?view#%E9%96%B1%E8%AE%80%E6%9B%B4%E5%A4%9A"></a>閱讀更多</h2>



<ul><li><a href="https://openwrt.org/docs/guide-user/virtualization/lxc" target="_blank">OpenWrt in LXC containers</a></li></ul>
<img src="https://analytics.sakuragawa.moe/piwik.php?idsite=2&amp;rec=1&amp;url=https%3A%2F%2Fasaba.sakuragawa.moe%2F2022%2F08%2F%25e5%259c%25a8-proxmox-ve-%25e4%25b8%258a%25e4%25bd%25bf%25e7%2594%25a8-lxc-%25e5%25bb%25ba%25e7%25bd%25ae-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8%2F%3Fpk_campaign%3Dfeed%26pk_kwd%3D%2525e5%25259c%2525a8-proxmox-ve-%2525e4%2525b8%25258a%2525e4%2525bd%2525bf%2525e7%252594%2525a8-lxc-%2525e5%2525bb%2525ba%2525e7%2525bd%2525ae-uu-%2525e5%25258a%2525a0%2525e9%252580%25259f%2525e5%252599%2525a8&amp;action_name=%E5%9C%A8+Proxmox+VE+%E4%B8%8A%E4%BD%BF%E7%94%A8+LXC+%E5%BB%BA%E7%BD%AE+UU+%E5%8A%A0%E9%80%9F%E5%99%A8&amp;urlref=https%3A%2F%2Fasaba.sakuragawa.moe%2Ffeed%2F" /><div>
    <div>
    <a data-post-id="2763" data-trigger-type="like" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span>    </span>
</div><div>
    <a data-post-id="2763" data-trigger-type="dislike" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span></span>
</div></div>]]></content>
        
        <summary type="html">
            
                           本篇爲「家庭網路」系列第 15 篇（全 15 篇）。                         入手 Linksys WRT1900AC 作爲 AP，刷 DD-WRT 固件          闖入聯通定製烽火 HG220G-U（WO-36） 
            
        </summary>
        
        <category term="折騰"/>
        
        <category term="#SafeForLife"/>
        
        <category term="Linux"/>
        
        <category term="Network"/>
        
        <category term="國產"/>
        
    </entry>
    
    <entry>
        <title>【2022 秋招内推】阿里云后端研发工程师</title>
        <link href="https://www.ohyee.cc/post/writting_aliyun_2022_qiuzhaoi"/>
        <id>https://www.ohyee.cc/post/writting_aliyun_2022_qiuzhaoi</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-08-22T04:16:02+00:00</published>
        <updated>2022-08-22T04:16:02+00:00</updated>
        
        <content type="html"><![CDATA[null]]></content>
        
        <summary type="html">
            
            null
            
        </summary>
        
    </entry>
    
    <entry>
        <title>从零开始搭建NAS——硬件选购与装机</title>
        <link href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/"/>
        <id>https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/</id>
        
        <author>
            <name>高渐离</name>
        </author>
        
        <published>2022-12-04T13:34:45+00:00</published>
        <updated>2022-12-04T13:34:45+00:00</updated>
        
        <content type="html"><![CDATA[<h1><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#起因"></a>起因</h1><p>今年7月对于老二次元来说，是一个不寻常的夏天。除了酷热的高温之外，还有不断重复着延期——被举报——再延期的循环的漫展。在赛博二次元中，也有一个大事情：B站今年7月购买番剧数量是0！这标志着持续多年的番剧正版化运动正式回到原点，众多B站大会员喜提年度大怨种称号。那么，对于赛博时代的好青年，应该怎么看番呢？</p><a></a><p>我个人回退到了RSS+BT的原始方案。在<a href="https://acg.rip/" target="_blank">ACG.RIP</a>上订阅想看的番剧，然后使用qbittorrent自动下载，完成之后再使用tgbot给我发个消息：<br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /></p><p>我之前的设备其实是一个赛扬3867U的一体机盒子，装了Archlinux，里面上了一块2.5英寸的笔记本硬盘，连NAS都算不上。然而就这么小个身躯里面却承载着FreeRadius、qbittorrent、jellyfin等多种服务，考虑到单盘的现状和笔记本硬盘的可靠性，实在是有一些灵。但是它工作，而且工作得非常好，十天半个月不关机毫无问题，每次关机都是我主动滚系统导致的。但是随着各种小姐姐，番剧的累积，我的下载盒子空间逐渐变得捉襟见肘：<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" />)这个问题就很难通过软件进行优化了。这个时候我又恰好好看到了AZ的<a href="https://www.bilibili.com/video/BV1Ja411Y7ZB" target="_blank">视频</a>，考虑到Insta恐怖的素材体积（1天录满128G），在仔细地咨询了一下经验之后，遂决定自己也搞一个。</p><h2><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#为什么不考虑群晖"></a>为什么不考虑群晖</h2><p>一个字，贵！这个价格就配一个赛扬（ARM），真心不值得。</p><h1><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#需求"></a>需求</h1><p>首先列了一下我的需求：</p><ol><li>体积不能太大，不能超过MATX</li><li>需要上RAID，因此盘位至少需要4块</li><li>我想体验一下ZFS</li><li>直接上NAS系统，不想折腾从零开始安装软件了</li><li>我要安装Jellyfin，因此要能解码4k<br />首先关于3，网上一直有一个说法是ZFS必须使用ECC内存，否则有可能会<a href="https://jrs-s.net/2015/02/03/will-zfs-and-non-ecc-ram-kill-your-data/" target="_blank">丢失所有数据</a>，稍微咨询了一下群友也得到了肯定的结论：<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" />，那么就必须把ECC纳入考虑之中了。</li></ol><h1><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#选择"></a>选择</h1><h2><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#机箱选择"></a>机箱选择</h2><p>4盘位的机箱其实可选项并没有很多，AZ建议我看看银欣，万由的机箱，或者干脆星际蜗牛。乔思伯N1由于太长，直接出局；星际蜗牛虽然符合我的需求，但是太丑，而且据说风扇噪音很大；最后我相中了万由410，尺寸<code>263*195*197</code>，支持使用flex电源，风扇据说也比较安静。走闲鱼400块钱拿下来，比较划算。<br />值得一提的是万由410使用了一个巨傻逼的类肤涂层前面板，时间一长就特别黏，堪称吸灰神器。幸好龙哥(<a href="https://www.makiras.work/" target="_blank">Makiras</a>，包院士门徒，未来的中国半导体扛把子)愿意免费帮我改一下颜色，于是我便下单了一大堆喷漆和机箱直接邮给了他。</p><h2><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#硬件配置"></a>硬件配置</h2><p>搞定了机箱，接下来就是其他硬件了。由于要使用ECC，因此其实选择相当有限。在艰难的两天挑选过程中，我几乎翻遍了全网所有的相关文章，最终确定了两种方案：</p><h3><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#Intel"></a>Intel</h3><p>在随意的翻找Intel Ark的过程中，我无意中发现12代Intel全系支持ECC，尤其是大小核心的设计，对于NAS这种负载来说非常合适。粗略地翻找之后，我便看上了<a href="https://www.intel.cn/content/www/cn/zh/products/sku/132224/intel-core-i312100te-processor-12m-cache-up-to-4-00-ghz/specifications.html" target="_blank">i3-12100TE</a>这一CPU：4核8线程的设计，ECC内存的支持，35W的TDP，UDH730的核芯显卡都堪称完美。<br />但是，Intel CPU对于ECC的支持问题从来不是在CPU上，而是在主板。民用级别的芯片组，无论是H610还是Z690<em>均</em>不支持ECC，要想用ECC？对不起，请去使用W680芯片组。对于NAS这种尺寸，使用W680芯片组的主板不说绝对没有，也不超过2块。幸好华擎始终是爱世人的，这种奇葩规格的板子还真让我<a href="https://baijiahao.baidu.com/s?id=1727195949244610641&amp;wfr=spider&amp;for=pc" target="_blank">找到一块</a>。<br />仔细一看不得不说，这个板子是真的奇葩：首先上哪儿去找SO-DIMM的ECC内存就是个大坑，其次只有两个SATA接口，要想拓展只能使用宝贵的PCIE插槽。不过这些都是小问题，真正的致命问题是：<strong>买！不！到！</strong><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /></p><p>我翻遍了国内外购物网站包括亚马逊都没找到哪里能买到这块主板。不管你的板子多么牛逼，如果是空气板那一切都是零。既然12代Intel的主板买不到，就只能退而求其次了。Intel的i3系列似乎一直都有那么几个子型号支持ECC，在一通搜索之后我最终确定了<code>i3-10100T+W470</code>的方案，整体配置单如下：</p><table><thead><tr><th>配件名称</th><th>型号</th><th>单价</th><th>数量</th><th>合计</th></tr></thead><tbody><tr><td>CPU</td><td>i3-10100T</td><td>745</td><td>1</td><td>745</td></tr><tr><td>主板</td><td>超微X12SCV W480E</td><td>2550</td><td>1</td><td>2550</td></tr><tr><td>内存</td><td>三星 16GB DDR4 2666 SO-DIMM ECC</td><td>450</td><td>2</td><td>900</td></tr><tr><td>电源</td><td>海韵SSP-250SUB</td><td>355</td><td>1</td><td>355</td></tr><tr><td>机箱</td><td>万由410（闲鱼）</td><td>450</td><td>1</td><td>450</td></tr><tr><td>合计</td><td></td><td></td><td></td><td>5000</td></tr></tbody></table><p>我觉得不管怎么说这个配置单也是相当荒谬的，这个主板也太TM贵了，这还没算上硬盘的钱就超过5000了。这个CPU在这个板子上真就吕布骑狗。</p><h3><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#AMD"></a>AMD</h3><p>Intel不成，就只能来看看AMD了。首先好消息是AMD全系支持ECC，普通消费级主板也能支持ECC内存的使用；坏消息是由于我拥有核显的需求，因此只能考虑APU，而<strong>Ryzen APU必须是Pro版本才支持ECC</strong>。不过这个不是什么大问题，Pro的APU也没有特别昂贵。在挑选的过程中，我很大程度上参考了<a href="https://zhuanlan.zhihu.com/p/467669331" target="_blank">这篇文章</a>，在这里表示感谢。AMD方案的整体配置单如下：</p><table><thead><tr><th>配件名称</th><th>型号</th><th>单价</th><th>数量</th><th>合计</th></tr></thead><tbody><tr><td>CPU</td><td>Ryzen R3 Pro 4350G 闲鱼</td><td>648</td><td>1</td><td>648</td></tr><tr><td>主板</td><td>华擎 B450 gaming-itx 闲鱼</td><td>568</td><td>1</td><td>568</td></tr><tr><td>内存</td><td>三星 16GB DDR4 ECC</td><td>440</td><td>2</td><td>800</td></tr><tr><td>电源</td><td>海韵SSP-250SUB</td><td>355</td><td>1</td><td>355</td></tr><tr><td>网卡</td><td>TP-Link TL-NT521</td><td>409</td><td>1</td><td>409</td></tr><tr><td>机箱</td><td>万由410（闲鱼）</td><td>450</td><td>1</td><td>650</td></tr><tr><td>合计</td><td></td><td></td><td></td><td>3310</td></tr></tbody></table><p>这个价格就友好许多了，于是最终决定采用这个方案。当然由于实际操作中没有买到<code>4350G</code>，最后800块钱收了一个<code>R5 Pro 4400GE</code>，升级到6核12线程；TDP还降到了35W，还算不错。</p><h1><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#组装"></a>组装</h1><p>上周一，龙哥告诉我机箱的涂装已经完成，我下单的其他配件也陆陆续续开始发货。最终周四的时候所有配件到齐了，动手开始！</p><h2><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#插曲"></a>插曲</h2><p>然而其实在开始之前就遇到了一个非常傻逼的问题，这个机箱打不开！我卸下四颗螺丝之后不管我怎么操作这个机箱就是纹丝不动，在网上查找了一大堆教程之后终于找到了一个打开的方法：<a href="https://b23.tv/3DfWywA" target="_blank">https://b23.tv/3DfWywA</a> (请看4分55秒)。<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /></p><h2><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#组装-1"></a>组装</h2><p>总之最后在一通操作之后，虽然成功化身手肿治虫，还是打开了这个机箱。<br />先来看看CPU，毫无疑问这个CPU肯定是二手的，上面还有一些油渍。不过CPU这种东西反正也不会坏，也没人会用这东西来挖矿，应该问题不大。<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /></p><p>接下来是主板，其实这是我第一次见到华擎的主板，不得不说体积是真的小。另外这里有个教训，就是购买这种二手主板前一定要叫卖家刷好BIOS，不然点不亮就悲剧了。<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /></p><p>接下来略过一些残酷的ITX装机过程，让我们快进到结束吧！<br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /><br />可以看到装好之后还是相当紧凑的。</p><h2><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#硬盘"></a>硬盘</h2><p>关于NAS的硬盘选购，公说公有理，婆说婆有理，我在这里就不多做评价了。不过大家对比故障率之后得出的一致结论是：别买希捷。</p><p>其他不管是HC550还是HC530都是不错的硬盘，但是HC550的噪音恶名昭著，在听信一个知乎回答说东芝更加安静之后，我最终选择了4块东芝的<code>MG08ACA16TE</code>，容量为16TB。</p><h2><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#关于系统"></a>关于系统</h2><p>因为想直接使用一个简单的成品系统，同时又不想使用国产灵车群晖，我便选择了大名鼎鼎的FreeNAS（现已改名TrueNAS）。安装系统非常快速，操作界面也十分清晰，三下五除二搞定了RAIDZ的配置，再把NAS的万兆网口和PC连接起来，基本就算大功告成了。<br />（主板识别有问题，识别成了4650GE）<br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /><br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /></p><p>TrueNAS Core不同于其他常见NAS系统，其底层基于的是FreeBSD。幸好TrueNAS的UI还算完善（才怪），加上我有一些BSD的使用经验，因此使用没有遇到特别大的问题。BSD的Jail和LXC非常类似，区别只是没有Dockerfile，需要手动安装而已。不过对于NAS这种不需要大规模部署的场景，反而更加适合私人定制。花了1个下午搞定了qbittrorent和nginx的安装，再从老盒子同步完数据，NAS的安装就差不多搞一段了了。</p><h1><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#最终效果图"></a>最终效果图</h1><p>最后放一个效果图<br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /><br />(关于硬盘提手的问题，真的不是20年前的塑料老化了！是龙哥建议的奶米黄，至于旧不旧，龙哥说不旧，是光线问题，那大家就当他是光线问题吧）<br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /></p><p>では、諸君は。</p><h3><a href="https://blog.gaojianli.me/2022/08/20/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E7%A1%AC%E4%BB%B6%E9%80%89%E8%B4%AD%E4%B8%8E%E8%A3%85%E6%9C%BA/#8月22日-Update："></a>8月22日 Update：</h3><p>我错了，我根本不懂FreeBSD。这傻逼系统，狗都不用，具体请看下一篇<a href="https://blog.gaojinali.me/2022/12/04/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BANAS%E2%80%94%E2%80%94%E5%9D%91%E7%88%B9%E7%9A%84TrueNAS/#more" target="_blank">文章</a>。</p>]]></content>
        
        <summary type="html">
            
            起因今年7月对于老二次元来说，是一个不寻常的夏天。除了酷热的高温之外，还有不断重复着延期——被举报——再延期的循环的漫展。在赛博二次元中，也有一个大事情：B站今年7月购买番剧数量是0！这标志着持续多年的番剧正版化运动正式回到原点，众多B站大会员喜提年度大怨种称号。那么，对于赛博
            
        </summary>
        
        <category term="电子文玩"/>
        
        <category term="消费电子"/>
        
        <category term="NAS"/>
        
    </entry>
    
    <entry>
        <title>使用函数计算获取 IP 地址信息</title>
        <link href="https://www.ohyee.cc/post/note_fc_ip"/>
        <id>https://www.ohyee.cc/post/note_fc_ip</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-08-06T09:55:08+00:00</published>
        <updated>2022-08-06T09:55:08+00:00</updated>
        
        <content type="html"><![CDATA[根据 IP 获取地区信息]]></content>
        
        <summary type="html">
            
            根据 IP 获取地区信息
            
        </summary>
        
    </entry>
    
    <entry>
        <title>正确获取客户端 IP/HTTP Header 也可能重复</title>
        <link href="https://www.ohyee.cc/post/note_repeat_headers"/>
        <id>https://www.ohyee.cc/post/note_repeat_headers</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-08-06T09:30:44+00:00</published>
        <updated>2022-08-06T09:30:44+00:00</updated>
        
        <content type="html"><![CDATA[博客支持 IP 地区显示的遇到的 BUG]]></content>
        
        <summary type="html">
            
            博客支持 IP 地区显示的遇到的 BUG
            
        </summary>
        
    </entry>
    
    <entry>
        <title>斷捨離 | 再見，如果你不那麼 Pro：紅米 Redmi K40 Pro 一年經驗談</title>
        <link href="https://asaba.sakuragawa.moe/2022/07/%e6%96%b7%e6%8d%a8%e9%9b%a2-%e5%86%8d%e8%a6%8b%ef%bc%8c%e5%a6%82%e6%9e%9c%e4%bd%a0%e4%b8%8d%e9%82%a3%e9%ba%bc-pro%ef%bc%9a%e7%b4%85%e7%b1%b3-redmi-k40-pro-%e4%b8%80%e5%b9%b4%e7%b6%93%e9%a9%97/?pk_campaign=feed&amp;pk_kwd=%25e6%2596%25b7%25e6%258d%25a8%25e9%259b%25a2-%25e5%2586%258d%25e8%25a6%258b%25ef%25bc%258c%25e5%25a6%2582%25e6%259e%259c%25e4%25bd%25a0%25e4%25b8%258d%25e9%2582%25a3%25e9%25ba%25bc-pro%25ef%25bc%259a%25e7%25b4%2585%25e7%25b1%25b3-redmi-k40-pro-%25e4%25b8%2580%25e5%25b9%25b4%25e7%25b6%2593%25e9%25a9%2597"/>
        <id>https://asaba.sakuragawa.moe/2022/07/%e6%96%b7%e6%8d%a8%e9%9b%a2-%e5%86%8d%e8%a6%8b%ef%bc%8c%e5%a6%82%e6%9e%9c%e4%bd%a0%e4%b8%8d%e9%82%a3%e9%ba%bc-pro%ef%bc%9a%e7%b4%85%e7%b1%b3-redmi-k40-pro-%e4%b8%80%e5%b9%b4%e7%b6%93%e9%a9%97/?pk_campaign=feed&amp;pk_kwd=%25e6%2596%25b7%25e6%258d%25a8%25e9%259b%25a2-%25e5%2586%258d%25e8%25a6%258b%25ef%25bc%258c%25e5%25a6%2582%25e6%259e%259c%25e4%25bd%25a0%25e4%25b8%258d%25e9%2582%25a3%25e9%25ba%25bc-pro%25ef%25bc%259a%25e7%25b4%2585%25e7%25b1%25b3-redmi-k40-pro-%25e4%25b8%2580%25e5%25b9%25b4%25e7%25b6%2593%25e9%25a9%2597</id>
        
        <author>
            <name>櫻川 浅羽</name>
        </author>
        
        <published>2022-07-23T14:33:06+00:00</published>
        <updated>2022-07-23T14:33:06+00:00</updated>
        
        <content type="html"><![CDATA[<h6><a href="https://markdown.sakuragawa.moe/U3deInS4RkesfV2QJq34UA?view#tags-draft-blog"></a></h6>



<p>儘管大家對於紅米 Redmi K40 系列褒貶不一，但其熱度無疑是足夠的。整個系列之中，定位最低的 K40 （在一系列優惠之後）是最受歡迎的。但是定位夾在中間的 K40 Pro 則在核心部分有諸多升級：</p>



<ul><li>SoC 由 Snapdragon 870 更換爲 Snapdragon 888</li><li>主鏡頭由 IMX582 提升到 IMX686 感測器（<em>f</em> = 1/1.89）</li><li>Wi-Fi 6E</li></ul>



<p>整體來看，除去 SoC 的升級外，其他方面可感知的改進不多。但考慮到 SD870 無法兩張 SIM 卡同時 5G 駐網，再加上 K40 在發表之後一時竟難以購買，浅羽最終還是選擇了「比較 Pro」的 K40 Pro。</p>



<p>浅羽是將 K40 Pro 作工具機用，主要解決電話、簡訊、地圖和支付功能。從這個角度出發，K40 Pro 應該說<strong>該有的功能都不缺</strong>，而且<strong>重量控制尚可</strong>；至於飽受詬病的塑料邊框，實際的質感也並不差，並且外觀上可以做到無斷點。K40 Pro 全系列都是使用了側邊指紋辨識，對於浅羽這種<s>老索狗</s> Sony 老用家來說很是得討喜。側邊指紋辨識的好處之一是有準確的位置標識，並且兼顧靈敏與準確，實際體驗比 Xperia 的指紋辨識還是好不少。號稱「最小」的前鏡頭打孔確實很小，且周圍沒有額外一圈黑色區域；相比之下，小米 11 系列、小米 10S 和小米 Civi 反而都沒有做到。</p>



<p>當然，作爲一款「廉價」機種，K40 Pro 也有不少缺點──甚至可以說拿着好的硬體做着極差的體驗。首先是飽受詬病的 SD888 發熱問題，以 K40 Pro 上的散熱自然是無法完全發揮其效能。不過浅羽對於 K40 Pro 的定位就是電話支付機，極少使用它玩大型遊戲，倒也還算流暢。這當然同時也得益於宣傳的「三星 E4 AMOLED 硬性螢幕」的 120Hz 刷新率。不過，這片螢幕也僅有 1920×1080 的解析度，無硬體 DC 調光功能，久看易累不知是否於此有關；系統中也有原色顯示功能，但<strong>對於外部色溫的測定不準確，容易忽冷忽暖</strong>。</p>



<p>背面的一片霧面處理的玻璃算是外觀上的一大賣點，但是非常<strong>不耐刮擦</strong>，<strong>容易劃傷</strong>。浅羽剛拿到幾日就在擦拭灰塵時就不慎刮出幾道淺印，好在後來貼了保護貼後就看不出來了。而且有了好的先天條件卻沒有無線充電，<strong>有線充電也只給到 33W 的功率</strong>，應該是受限制於定位了。好在 NFC 和紅外都完整保留，這也算是小米（紅米）手機的保留項目了。</p>


<div>
<img src="https://asaba.sakuragawa.moe/wp-content/uploads/2022/07/IMG_20220723_154121-scaled.jpg" />框內爲擦拭灰塵時不慎刮出的淺印</div>


<p>最後在相機的方面。廣角加上超廣角的組合僅僅是保證能影到相，兩顆鏡頭都沒有 OIS，所以低光下基本也不用想什麼。另外，主鏡頭是 64MP（日常使用開啓 4-in-1 拍攝 12MP 相片），浅羽用得更多超廣角的畫素卻只給到 8MP。倒是附贈一顆 5MP 微距镜头頗爲有趣，用來拍攝細緻的貓咪皮膚紋理還是很好用的。浅羽其實對這部份不太在意，因爲影相還是用相機或者 instax 比較多，手機嘛可以記錄到就好了。</p>



<p>至於最終換掉它的理由也很樸素：強迫症浅羽不太喜歡螢幕上打孔……然後機緣巧合就換了屏下鏡頭的手機。閒置之後，浅羽開始思考給 K40 Pro 換個系統當作玩樂機，結果發現選擇寥寥無幾（截止 2022 年 2 月──是的，這篇網誌拖了半年）；對比之下，去掉 Pro 的 K40 選擇則多了不少。這也從一個側面反應了不同機種的熱度差別。最終在新舊手機的過渡期結束時候，還是決定「手機不需要可以給有需要的人」，最終以首發價 45% off 轉讓了它。</p>


<div>
<img src="https://asaba.sakuragawa.moe/wp-content/uploads/2022/07/IMG_20220723_154353-4096x2304.jpg" />最後看一眼（沒有本體的）全家福</div>


<p>如果是 K40 代表的是極致的 C/P 值，對比之下 K40 Pro 就顯得有些尷尬了。背負了 Pro 之名的它既要做得更好、卻處處受限於品牌定位不能做到最好。這種「帶着鐐銬跳舞」的做法，不但考驗着廠牌如何做取捨，更考驗用家如何說服自己去接受一些不完美。也許想真正接受這樣的不完美，只有把付出的代價和期望都降低——比如，如果 K40 Pro 沒有那麼 Pro。</p>
<img src="https://analytics.sakuragawa.moe/piwik.php?idsite=2&amp;rec=1&amp;url=https%3A%2F%2Fasaba.sakuragawa.moe%2F2022%2F07%2F%25e6%2596%25b7%25e6%258d%25a8%25e9%259b%25a2-%25e5%2586%258d%25e8%25a6%258b%25ef%25bc%258c%25e5%25a6%2582%25e6%259e%259c%25e4%25bd%25a0%25e4%25b8%258d%25e9%2582%25a3%25e9%25ba%25bc-pro%25ef%25bc%259a%25e7%25b4%2585%25e7%25b1%25b3-redmi-k40-pro-%25e4%25b8%2580%25e5%25b9%25b4%25e7%25b6%2593%25e9%25a9%2597%2F%3Fpk_campaign%3Dfeed%26pk_kwd%3D%2525e6%252596%2525b7%2525e6%25258d%2525a8%2525e9%25259b%2525a2-%2525e5%252586%25258d%2525e8%2525a6%25258b%2525ef%2525bc%25258c%2525e5%2525a6%252582%2525e6%25259e%25259c%2525e4%2525bd%2525a0%2525e4%2525b8%25258d%2525e9%252582%2525a3%2525e9%2525ba%2525bc-pro%2525ef%2525bc%25259a%2525e7%2525b4%252585%2525e7%2525b1%2525b3-redmi-k40-pro-%2525e4%2525b8%252580%2525e5%2525b9%2525b4%2525e7%2525b6%252593%2525e9%2525a9%252597&amp;action_name=%E6%96%B7%E6%8D%A8%E9%9B%A2+%7C+%E5%86%8D%E8%A6%8B%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BD%A0%E4%B8%8D%E9%82%A3%E9%BA%BC+Pro%EF%BC%9A%E7%B4%85%E7%B1%B3+Redmi+K40+Pro+%E4%B8%80%E5%B9%B4%E7%B6%93%E9%A9%97%E8%AB%87&amp;urlref=https%3A%2F%2Fasaba.sakuragawa.moe%2Ffeed%2F" /><div>
    <div>
    <a data-post-id="2711" data-trigger-type="like" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span>    </span>
</div><div>
    <a data-post-id="2711" data-trigger-type="dislike" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span></span>
</div></div>]]></content>
        
        <summary type="html">
            
                儘管大家對於紅米 Redmi K40 系列褒貶不一，但其熱度無疑是足夠的。整個系列之中，定位最低的 K40 （在一系列優惠之後）是最受歡迎的。但是定位夾在中間的 K40 Pro 則在核心部分有諸多升級：    SoC 由 Snapdragon 870 更換爲 Snapd
            
        </summary>
        
        <category term="日常 / 流水帳"/>
        
        <category term="開箱"/>
        
        <category term="#SafeForLife"/>
        
        <category term="國產"/>
        
        <category term="數位電子"/>
        
        <category term="斷捨離"/>
        
    </entry>
    
    <entry>
        <title>评测 Oculus Quest2 及 BigScreen</title>
        <link href="https://www.ohyee.cc/post/evaluation_quest2_with_bigscreen"/>
        <id>https://www.ohyee.cc/post/evaluation_quest2_with_bigscreen</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-06-28T17:51:20+00:00</published>
        <updated>2022-06-28T17:51:20+00:00</updated>
        
        <content type="html"><![CDATA[一个值得一试的 idea——使用 VR 眼镜来替代多显示分屏]]></content>
        
        <summary type="html">
            
            一个值得一试的 idea——使用 VR 眼镜来替代多显示分屏
            
        </summary>
        
    </entry>
    
    <entry>
        <title>NextJS 热重载保留状态</title>
        <link href="https://www.ohyee.cc/post/note_cache_variables_for_hotload"/>
        <id>https://www.ohyee.cc/post/note_cache_variables_for_hotload</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-06-22T17:36:13+00:00</published>
        <updated>2022-06-22T17:36:13+00:00</updated>
        
        <content type="html"><![CDATA[js 热重载时保留 cache]]></content>
        
        <summary type="html">
            
            js 热重载时保留 cache
            
        </summary>
        
    </entry>
    
    <entry>
        <title>如何优雅地贴 gist 代码</title>
        <link href="https://www.ohyee.cc/post/note_paste_gist_gracefully"/>
        <id>https://www.ohyee.cc/post/note_paste_gist_gracefully</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-06-22T16:12:17+00:00</published>
        <updated>2022-06-22T16:12:17+00:00</updated>
        
        <content type="html"><![CDATA[优雅使用 gist]]></content>
        
        <summary type="html">
            
            优雅使用 gist
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Linux 精细化文件权限</title>
        <link href="https://www.ohyee.cc/post/note_linux_acl"/>
        <id>https://www.ohyee.cc/post/note_linux_acl</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-06-13T04:17:12+00:00</published>
        <updated>2022-06-13T04:17:12+00:00</updated>
        
        <content type="html"><![CDATA[null]]></content>
        
        <summary type="html">
            
            null
            
        </summary>
        
    </entry>
    
    <entry>
        <title>從 DSM 6 更新到 DSM 7（DS119j/DS120j）</title>
        <link href="https://asaba.sakuragawa.moe/2022/05/%e5%be%9e-dsm-6-%e6%9b%b4%e6%96%b0%e5%88%b0-dsm-7%ef%bc%88ds119j-ds120j%ef%bc%89/?pk_campaign=feed&amp;pk_kwd=%25e5%25be%259e-dsm-6-%25e6%259b%25b4%25e6%2596%25b0%25e5%2588%25b0-dsm-7%25ef%25bc%2588ds119j-ds120j%25ef%25bc%2589"/>
        <id>https://asaba.sakuragawa.moe/2022/05/%e5%be%9e-dsm-6-%e6%9b%b4%e6%96%b0%e5%88%b0-dsm-7%ef%bc%88ds119j-ds120j%ef%bc%89/?pk_campaign=feed&amp;pk_kwd=%25e5%25be%259e-dsm-6-%25e6%259b%25b4%25e6%2596%25b0%25e5%2588%25b0-dsm-7%25ef%25bc%2588ds119j-ds120j%25ef%25bc%2589</id>
        
        <author>
            <name>櫻川 浅羽</name>
        </author>
        
        <published>2022-05-21T14:53:51+00:00</published>
        <updated>2022-05-21T14:53:51+00:00</updated>
        
        <content type="html"><![CDATA[<p>DSM 7 已經釋出一段時間了，但是大量的新功能都屬於「買多一臺」系列，對浅羽來說不是很有吸引力。不過考慮到更好看的用戶介面以及整合的 <strong>Syno</strong>logy Drive，趁得閒還是升級一下好了。</p>



<h2><a href="https://markdown.sakuragawa.moe/6niu1SJCQHeEenknfdBDXA?both#entware"></a>Entware 環境</h2>



<p><strong>Syno</strong>logy 暫未向 ARM 機種提供 Container Station，但浅羽需要使用一些第三方套件，因此只能透過 Entware 安裝。浅羽的 Entware 是在 DSM 6 時安裝的，更新至 DSM 7 後可以繼續使用，無需額外操作。更新完成後，iPKGui 等相關套件會提示損壞，但是無需理會；而且 <code>opkg</code> 是可以正常使用的。</p>



<img src="https://asaba.sakuragawa.moe/wp-content/uploads/2022/05/網頁擷取_21-5-2022_224243_skg-pt-01.ad_.sakuragawa.cloud_.jpeg" />



<p>由於 <a href="https://www.cphub.net/?p=ebi" target="_blank">Easy Bootstrap Installer</a> 需要使用 root 權限，所以暫時無法正常使用。不過仍然可以<a href="https://github.com/Entware/Entware/wiki/Install-on-Synology-NAS" target="_blank">在 DSM 7 上手動安裝</a>。</p>



<h2>網路影像錄影機功能</h2>



<p>剛完成更新時，Surveilance Station 還停留在版本 8 上，套件中心也未能檢測到新版本，於是只好<a href="https://archive.synology.com/download/Package/SurveillanceStation" target="_blank">自己下載 SPK 包</a>安裝。DSM 7 中似乎取消了 <code>armada37xx</code> 架構，安裝 <code>armv8</code> 的 SPK 包即可。</p>



<p>Surveillance Station 9 更新了 DSM 7 風格的用戶介面，並且整合了實時監看和回放功能，不過需要搭配 2.0 版本以上的 Surveillance Station Client。新版本的 Client 的用戶介面也變得更加現代了。但更新到 DSM 7.1 後，H.265 的相關授權轉移到 <a href="https://www.synology.com/zh-tw/dsm/7.1/software_spec/advanced_media_extensions" target="_blank">Advanced Media Extensions</a> 內，並且<strong>要求登入 Synology 賬戶後才能安裝 HEVC codec pack</strong>。如果有需要使用 H.265 編碼但介意登入 Synology 的賬戶的話謹慎更新。</p>



<h2><a href="https://markdown.sakuragawa.moe/6niu1SJCQHeEenknfdBDXA?both#%E5%AE%98%E6%96%B9%E5%A5%97%E4%BB%B6"></a>官方套件</h2>



<p>有部分套件未能隨 DSM 更新而更新，浅羽這邊就遇到 Cloud Sync 一例。這些套件在套件中心中顯示爲「已安裝」，但無法開啓。從套件中心中移除（選擇<em>保留資料庫</em>）、重新安裝以後，就可以正常開啓、使用了。</p>
<img src="https://analytics.sakuragawa.moe/piwik.php?idsite=2&amp;rec=1&amp;url=https%3A%2F%2Fasaba.sakuragawa.moe%2F2022%2F05%2F%25e5%25be%259e-dsm-6-%25e6%259b%25b4%25e6%2596%25b0%25e5%2588%25b0-dsm-7%25ef%25bc%2588ds119j-ds120j%25ef%25bc%2589%2F%3Fpk_campaign%3Dfeed%26pk_kwd%3D%2525e5%2525be%25259e-dsm-6-%2525e6%25259b%2525b4%2525e6%252596%2525b0%2525e5%252588%2525b0-dsm-7%2525ef%2525bc%252588ds119j-ds120j%2525ef%2525bc%252589&amp;action_name=%E5%BE%9E+DSM+6+%E6%9B%B4%E6%96%B0%E5%88%B0+DSM+7%EF%BC%88DS119j%2FDS120j%EF%BC%89&amp;urlref=https%3A%2F%2Fasaba.sakuragawa.moe%2Ffeed%2F" /><div>
    <div>
    <a data-post-id="2601" data-trigger-type="like" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span>    </span>
</div><div>
    <a data-post-id="2601" data-trigger-type="dislike" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span></span>
</div></div>]]></content>
        
        <summary type="html">
            
            DSM 7 已經釋出一段時間了，但是大量的新功能都屬於「買多一臺」系列，對浅羽來說不是很有吸引力。不過考慮到更好看的用戶介面以及整合的 Synology Drive，趁得閒還是升級一下好了。    Entware 環境    Synology 暫未向 ARM 機種提供 Cont
            
        </summary>
        
        <category term="折騰"/>
        
        <category term="#SafeForLife"/>
        
        <category term="Network"/>
        
        <category term="數位電子"/>
        
    </entry>
    
    <entry>
        <title>VSCode 容器开发环境</title>
        <link href="https://www.ohyee.cc/post/note_vscode_container_remote"/>
        <id>https://www.ohyee.cc/post/note_vscode_container_remote</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-05-18T18:10:22+00:00</published>
        <updated>2022-05-18T18:10:22+00:00</updated>
        
        <content type="html"><![CDATA[使用 Remote Docker 构建干净的开发环境及 Remote SSH + Remote Container 双重 Buff]]></content>
        
        <summary type="html">
            
            使用 Remote Docker 构建干净的开发环境及 Remote SSH + Remote Container 双重 Buff
            
        </summary>
        
    </entry>
    
    <entry>
        <title>我丢失了一位朋友</title>
        <link href="https://icebound.cc/2022/05/14/lost_friend.html"/>
        <id>https://icebound.cc/2022/05/14/lost_friend.html</id>
        
        <author>
            <name>icebound</name>
        </author>
        
        <published>2022-05-14T10:56:36+00:00</published>
        <updated>2022-05-14T10:56:36+00:00</updated>
        
        <content type="html"><![CDATA[<p>当然，是我又一次和朋友闹掰了。 当然，事情的起因经过结果也都是因为我自己。 在很多人眼里，看上去什么也没有发生 […]</p>
<p>The post <a href="https://icebound.cc/2022/05/14/lost_friend.html">我丢失了一位朋友</a> first appeared on <a href="https://icebound.cc">Icebound</a>.</p>]]></content>
        
        <summary type="html">
            
            当然，是我又一次和朋友闹掰了。 当然，事情的起因经过结果也都是因为我自己。 在很多人眼里，看上去什么也没有发生 […] The post 我丢失了一位朋友 first appeared on Icebound.
            
        </summary>
        
        <category term="人生感悟"/>
        
        <category term="文章分类"/>
        
    </entry>
    
    <entry>
        <title>Clash 的不兼容更新排查</title>
        <link href="https://www.ohyee.cc/post/note_clash_breaking_update"/>
        <id>https://www.ohyee.cc/post/note_clash_breaking_update</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-05-07T16:37:50+00:00</published>
        <updated>2022-05-07T16:37:50+00:00</updated>
        
        <content type="html"><![CDATA[同一个线路，V2Ray 可以用，Clash 不能用]]></content>
        
        <summary type="html">
            
            同一个线路，V2Ray 可以用，Clash 不能用
            
        </summary>
        
    </entry>
    
    <entry>
        <title>WordPress 子主题</title>
        <link href="https://www.whosneo.com/wordpress-child-theme/"/>
        <id>https://www.whosneo.com/wordpress-child-theme/</id>
        
        <author>
            <name>Neo</name>
        </author>
        
        <published>2022-04-29T14:29:59+00:00</published>
        <updated>2022-04-29T14:29:59+00:00</updated>
        
        <content type="html"><![CDATA[<p>为了能对 WordPress 的主题自定义，有时候会对主题文件进行编辑；但如果遇到主题文件有升级，则修改的内容便会丢失。若想保持自己的修改不受主题升级影响，则可考虑使用 WordPress 的子主题功能。<span></span></p>
<h2>创建子主题文件夹</h2>
<p>第一步则是在 <code>wp-content/themes</code> 下创建子主题文件夹，为了方便，名称最好是在原主题文件夹名称后加上 <code>-child</code>，以 Twenty Twelve 主题为例，子主题文件夹最好是 <code>twentytwelve-child</code>，以下涉及到的文件都在子主题文件夹内。</p>
<h2>创建样式表 style.css</h2>
<p>接下来需要创建名为 <code>style.css</code> 的样式表文件，文件的开头需要有以下格式的内容，以便 WordPress 能正确识别这是一个子主题。</p>
<pre><code>/*
Theme Name:     Twenty Twelve Child
Description:    Child theme for Twenty Twelve
Author:         Neo
Author URI:     https://www.whosneo.com/about/
Template:       twentytwelve
Version:        0.1.0
*/
</code></pre>
<p>其中，有几项是必不可少的：<br />
– <strong>Theme Name</strong> – 主题名称不可与其他主题相同<br />
– <strong>Template</strong> – 父主题的文件夹名称</p>
<p>其余的信息可以选择性的添加。虽然子主题可以只有一个 <code>style.css</code> 样式表文件，但是不能缺了 <code>functions.php</code>，否则便无法正确加载样式。</p>
<h2>装载样式</h2>
<p>最后一步便是装载父主题和子主题的样式了。</p>
<blockquote><p>
  以前通用的做法是在 <code>style.css</code> 文件中使用 <code>@import</code> 引入父主题的样式，但现在已经不再推荐使用，因为这会增加样式加载时间，也有可能造成父主题样式重复加载。
</p></blockquote>
<p>装载主题推荐的方法就是在子主题的 <code>functions.php</code> 文件中增加一个 <code>wp_enqueue_scripts</code> 动作，并使用 <code>wp_enqueue_style()</code> 函数。如果不存在 <code>functions.php</code> 文件，则创建。同时不要忘了。所有的 php 代码都需要用 php 标签包围起来<code>&lt;?php 👻 ?&gt;</code>。</p>
<pre><code>&lt;?php
add_action( 'wp_enqueue_scripts', 'enqueue_parent_styles' );
function enqueue_parent_styles() {
    $theme = wp_get_theme();
    wp_enqueue_style( 'parent-style', get_template_directory_uri() . '/style.css', array(), $theme-&gt;parent()-&gt;get('Version') );
    wp_enqueue_style( 'child-style', get_stylesheet_uri(), array( 'parent-style' ), $theme-&gt;get('Version') );
}
?&gt;
</code></pre>
<h2>安装激活子主题</h2>
<p>在后台管理 &gt; 外观 &gt; 主题 中，激活你的子主题即可。</p>
<h2>添加模版文件</h2>
<p>除了上面提到的  <code>style.css</code>  <code>functions.php</code> 文件之外，添加的其他任何文件都会覆盖父主题的同名文件。例如你想修改父主题的页脚，就可以复制 <code>footer.php</code> 文件到子主题文件夹中进行修改。修改完成后，刷新页面就可以看到修改效果了。</p>]]></content>
        
        <summary type="html">
            
            为了能对 WordPress 的主题自定义，有时候会对主题文件进行编辑；但如果遇到主题文件有升级，则修改的内容便会丢失。若想保持自己的修改不受主题升级影响，则可考虑使用 WordPress 的子主题功能。 创建子主题文件夹 第一步则是在 wp-content/themes 下创
            
        </summary>
        
        <category term="Tips"/>
        
        <category term="WordPress"/>
        
    </entry>
    
    <entry>
        <title>Zeek 导出 PCAP</title>
        <link href="https://www.ohyee.cc/post/note_zeek_extract_pcap"/>
        <id>https://www.ohyee.cc/post/note_zeek_extract_pcap</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-04-28T03:50:34+00:00</published>
        <updated>2022-04-28T03:50:34+00:00</updated>
        
        <content type="html"><![CDATA[null]]></content>
        
        <summary type="html">
            
            null
            
        </summary>
        
    </entry>
    
    <entry>
        <title>记一次 ssh 配置问题</title>
        <link href="https://www.ohyee.cc/post/note_ssh_bash"/>
        <id>https://www.ohyee.cc/post/note_ssh_bash</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-04-25T15:59:22+00:00</published>
        <updated>2022-04-25T15:59:22+00:00</updated>
        
        <content type="html"><![CDATA[记一次由于错误配置 .bashrc 导致无法 ssh 进入服务器]]></content>
        
        <summary type="html">
            
            记一次由于错误配置 .bashrc 导致无法 ssh 进入服务器
            
        </summary>
        
    </entry>
    
    <entry>
        <title>備用機，還是第二支手機？</title>
        <link href="https://asaba.sakuragawa.moe/2022/04/%e5%82%99%e7%94%a8%e6%a9%9f%ef%bc%8c%e9%82%84%e6%98%af%e7%ac%ac%e4%ba%8c%e6%94%af%e6%89%8b%e6%a9%9f%ef%bc%9f/?pk_campaign=feed&amp;pk_kwd=%25e5%2582%2599%25e7%2594%25a8%25e6%25a9%259f%25ef%25bc%258c%25e9%2582%2584%25e6%2598%25af%25e7%25ac%25ac%25e4%25ba%258c%25e6%2594%25af%25e6%2589%258b%25e6%25a9%259f%25ef%25bc%259f"/>
        <id>https://asaba.sakuragawa.moe/2022/04/%e5%82%99%e7%94%a8%e6%a9%9f%ef%bc%8c%e9%82%84%e6%98%af%e7%ac%ac%e4%ba%8c%e6%94%af%e6%89%8b%e6%a9%9f%ef%bc%9f/?pk_campaign=feed&amp;pk_kwd=%25e5%2582%2599%25e7%2594%25a8%25e6%25a9%259f%25ef%25bc%258c%25e9%2582%2584%25e6%2598%25af%25e7%25ac%25ac%25e4%25ba%258c%25e6%2594%25af%25e6%2589%258b%25e6%25a9%259f%25ef%25bc%259f</id>
        
        <author>
            <name>櫻川 浅羽</name>
        </author>
        
        <published>2022-04-17T07:41:34+00:00</published>
        <updated>2022-04-17T07:41:34+00:00</updated>
        
        <content type="html"><![CDATA[<h6><a href="https://markdown.sakuragawa.moe/sMj4hNVaRB6Q-EKYzNJh3g?both#tags-draft-blog"></a></h6>



<p>近年來，越來越多的人購入了第二支手機，「備用機」這個概念也愈發流行。第二支手機用來「備用」的地方有很多，往往也是「專機專用」，區分用途。</p>



<p>最常見的用備用機的理由應該是「多張電話卡」了：在這個到處都要手機門號的年代，公開號碼、私人門號分開已經是再尋常不過的事情了；又或者<strong>一卡工作、一卡生活</strong>；再或者因爲計劃優惠，所以<strong>一卡通話、一卡流量</strong>。當電話卡越來越多，雙卡雙待不能滿足需求的時候，如果不想換「非洲之王」 TENCO 的四卡四待手機，只能多備一支手機了。多出的手機往往只用來接收簡訊或這電話驗證，。</p>



<p>隨着越來越多的屬性被附加在手機上，手機早已不是電話、簡訊能概括的了；<strong>手機之間不是相互取代的關係</strong>，而是而是漸漸地開始出現生態、區分「陣營」，被賦予更多「定位」和「屬性」，各有所長、又各有所短。往往是「大螢幕，我所欲也；單手操作，亦我所欲也」、「拍照，我所欲也；輕薄，亦我所欲也」；這種兩支手機分工合作，既佔盡了一支的優勢、又可以另一支形成互補。反而頗有一種「分久必合，合久必分」的意味了。舉例來說：一機打機、聽音樂、看影片，主打娛樂，電量隨心用；一機通話、訊息、支付，主打生活，保證全天候──這樣的「雙機黨」也是愈發常見了。近年來，手機換代很快，往往買了新款，舊的還用得好好的；如此正好以舊手機應付生活通訊，不用來回遷移和同步資料，而以新手機之最新硬體應付娛樂，可謂是兩全其美。同時，不同廠牌的手機體驗也不盡相同，兩支手機也可以作爲體驗之用、或作爲更換廠牌的過渡。更爲極端一些，有些手機遊戲會區分 iOS 和 Android 平臺的帳號，不同平臺之間帳號無法通用，也就不難理解許多用家在更換手機後依然保留另一平臺的裝置用作娛樂的現象了。也有人選擇儘量用平板解決一些需求，只把手機作爲通話和數據資料之用。這樣一直不更換的手機就是「主力機」，而時常更換的、較新的裝置反而成爲了「備用」。</p>



<p>浅羽自己也在使用多台裝置。浅羽的主要手機是 Hisense A5 Pro，它主打一塊電子紙螢幕，在戶外有絕佳的可讀性。對於浅羽來說，不出門時則將它當作傻瓜機（dumb phone）使用，大部分時候無需理會它；而出門在外時，它可以滿足最基礎的聯絡、地圖和支付需求，並且充電一次可以使用 3-4 天，無需特別計劃出門時間然後提前充好電。唯其更新率偏低、也不支援彩色顯示，因此使用其他裝置進行補充也是在所難免的。類似這樣<strong>傻瓜機爲主、其他裝置作爲補充</strong>的組合也非常常見，無論是不想頻繁充電、不想被太多訊息干擾或是踐行數位極簡主義的用家都不少。這種狀況下，其實到底哪隻手機是作爲「主力」、哪隻作爲「備用」都很難界定了。</p>



<div><img src="https://asaba.sakuragawa.moe/wp-content/uploads/2022/04/PSX_20220417_153357-2048x1152.jpg" />浅羽的兩支手機</div>



<p>最後，還聽說有人使用第二支手機的原因是工作要求：比如自己使用 iPhone，但工作運用到只能在 Android 上運行應用程式；比如自己使用其他廠牌，但是工作僱主對手機廠牌有強硬要求……這種爲了滿足某些要求而添置的手機，反倒更接近真正意義上的「備用」了──因爲不到非用不可的場合，可能不會真的去使用吧。</p>
<img src="https://analytics.sakuragawa.moe/piwik.php?idsite=2&amp;rec=1&amp;url=https%3A%2F%2Fasaba.sakuragawa.moe%2F2022%2F04%2F%25e5%2582%2599%25e7%2594%25a8%25e6%25a9%259f%25ef%25bc%258c%25e9%2582%2584%25e6%2598%25af%25e7%25ac%25ac%25e4%25ba%258c%25e6%2594%25af%25e6%2589%258b%25e6%25a9%259f%25ef%25bc%259f%2F%3Fpk_campaign%3Dfeed%26pk_kwd%3D%2525e5%252582%252599%2525e7%252594%2525a8%2525e6%2525a9%25259f%2525ef%2525bc%25258c%2525e9%252582%252584%2525e6%252598%2525af%2525e7%2525ac%2525ac%2525e4%2525ba%25258c%2525e6%252594%2525af%2525e6%252589%25258b%2525e6%2525a9%25259f%2525ef%2525bc%25259f&amp;action_name=%E5%82%99%E7%94%A8%E6%A9%9F%EF%BC%8C%E9%82%84%E6%98%AF%E7%AC%AC%E4%BA%8C%E6%94%AF%E6%89%8B%E6%A9%9F%EF%BC%9F&amp;urlref=https%3A%2F%2Fasaba.sakuragawa.moe%2Ffeed%2F" /><div>
    <div>
    <a data-post-id="2574" data-trigger-type="like" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span>3    </span>
</div><div>
    <a data-post-id="2574" data-trigger-type="dislike" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span></span>
</div></div>]]></content>
        
        <summary type="html">
            
                近年來，越來越多的人購入了第二支手機，「備用機」這個概念也愈發流行。第二支手機用來「備用」的地方有很多，往往也是「專機專用」，區分用途。    最常見的用備用機的理由應該是「多張電話卡」了：在這個到處都要手機門號的年代，公開號碼、私人門號分開已經是再尋常不過的事情了；又
            
        </summary>
        
        <category term="想法"/>
        
        <category term="#SafeForLife"/>
        
        <category term="數位電子"/>
        
    </entry>
    
    <entry>
        <title>Git Commit 规范化工具</title>
        <link href="https://www.ohyee.cc/post/note_git_commit"/>
        <id>https://www.ohyee.cc/post/note_git_commit</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-04-11T18:25:52+00:00</published>
        <updated>2022-04-11T18:25:52+00:00</updated>
        
        <content type="html"><![CDATA[规范化 Git Commit 记录]]></content>
        
        <summary type="html">
            
            规范化 Git Commit 记录
            
        </summary>
        
    </entry>
    
    <entry>
        <title>自动驾驶中的名词解释</title>
        <link href="https://icebound.cc/2022/04/05/self-driving.html"/>
        <id>https://icebound.cc/2022/04/05/self-driving.html</id>
        
        <author>
            <name>icebound</name>
        </author>
        
        <published>2022-04-05T12:34:07+00:00</published>
        <updated>2022-04-05T12:34:07+00:00</updated>
        
        <content type="html"><![CDATA[<p>上班半年多，学习到了不少东西。为了防止像之前在字节那样，跑路了之后完全忘了自己学到了些什么业务知识，在这里做一 […]</p>
<p>The post <a href="https://icebound.cc/2022/04/05/self-driving.html">自动驾驶中的名词解释</a> first appeared on <a href="https://icebound.cc">Icebound</a>.</p>]]></content>
        
        <summary type="html">
            
            上班半年多，学习到了不少东西。为了防止像之前在字节那样，跑路了之后完全忘了自己学到了些什么业务知识，在这里做一 […] The post 自动驾驶中的名词解释 first appeared on Icebound.
            
        </summary>
        
        <category term="文章分类"/>
        
        <category term="电脑常识"/>
        
        <category term="自动驾驶"/>
        
    </entry>
    
    <entry>
        <title>谈谈《星之卡比-探索发现》</title>
        <link href="https://www.ohyee.cc/post/writting_kirby_forgotten_land"/>
        <id>https://www.ohyee.cc/post/writting_kirby_forgotten_land</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-04-02T19:52:57+00:00</published>
        <updated>2022-04-02T19:52:57+00:00</updated>
        
        <content type="html"><![CDATA[好游戏，以一个游戏评价；问题频发，以任天堂能力评价]]></content>
        
        <summary type="html">
            
            好游戏，以一个游戏评价；问题频发，以任天堂能力评价
            
        </summary>
        
    </entry>
    
    <entry>
        <title>OpenWrt IPv6 DDNS</title>
        <link href="https://www.whosneo.com/openwrt-ipv6-ddns/"/>
        <id>https://www.whosneo.com/openwrt-ipv6-ddns/</id>
        
        <author>
            <name>Neo</name>
        </author>
        
        <published>2022-03-28T01:44:41+00:00</published>
        <updated>2022-03-28T01:44:41+00:00</updated>
        
        <content type="html"><![CDATA[<p>若想使用 DDNS 服务，则需要有一个自己的域名。花钱注册一个自己专属的域名是比较省心的办法，也有网站提供免费域名，但是服务不太稳定，不建议使用。本文中的例子是将域名托管在了 Cloudflare。<span></span></p>
<p>本文假设注册了域名 example.com，并给路由器分配一个域名 openwrt1.example.com，且已经设置好该域名的 AAAA 记录为路由器的公网 IPv6 地址。</p>
<h2>安装 DDNS</h2>
<p>在 系统 – 软件 中搜索安装 <code>luci-i18n-ddns-zh-cn ddns-scripts-cloudflare bind-host ca-certificates</code>，系统会自动安装好所有的依赖。</p>
<h2>添加 DDNS 配置</h2>
<p>在 服务 – 动态 DNS 中，点击左下角添加新服务，名称可以随意填写，IP 地址版本这里选择 IPv6，DDNS 服务提供商这里本文以 Cloudflare 为例所以选择 cloudflare-v4：<br />
<img src="https://static.whosneo.com/img/2022/03/Snipaste_2022-03-29_17-44-15.png" /></p>
<p>在 Cloudflare 的 API 中，用户名对应 Cloudflare 账户的登录邮箱，密码对应的则是 API Key。<br />
登录 Cloudflare 账户之后，访问 API 令牌页面 <a href="https://dash.cloudflare.com/profile/api-tokens">https://dash.cloudflare.com/profile/api-tokens</a> 即可在下方看到 API 密钥，在下方的 Global API Key 的右侧点击查看，输入 Cloudflare 账户的密码之后即可获取 API Key。<br />
<img src="https://static.whosneo.com/img/2022/03/2022-03-28_09.22.58.png" /></p>
<p>获取到 API Key 之后就可以把基本设置中的条目填写完成了：<br />
<img src="https://static.whosneo.com/img/2022/03/Snipaste_2022-03-29_18-24-50.png" /></p>
<p>高级设置中，需要将 IP 地址来源修改为接口，接口这里由于是路由器拨号上网，所以我选择了 pppoe-wan，其余选项可以不用调整也可以照图里的设置来：<br />
<img src="https://static.whosneo.com/img/2022/03/Snipaste_2022-03-29_18-27-18.png" /></p>
<p>计时器设定中，检查间隔可以根据自己的需要来，间隔小的话更新 IP 地址就更快速：<br />
<img src="https://static.whosneo.com/img/2022/03/Snipaste_2022-03-29_18-59-48.png" /></p>
<p>保存并应用所有设置之后，点击新增配置的重新加载，即可启动 DDNS 更新服务：<br />
<img src="https://static.whosneo.com/img/2022/03/Snipaste_2022-03-29_19-01-51.png" /></p>]]></content>
        
        <summary type="html">
            
            若想使用 DDNS 服务，则需要有一个自己的域名。花钱注册一个自己专属的域名是比较省心的办法，也有网站提供免费域名，但是服务不太稳定，不建议使用。本文中的例子是将域名托管在了 Cloudflare。 本文假设注册了域名 example.com，并给路由器分配一个域名 openw
            
        </summary>
        
        <category term="Tips"/>
        
        <category term="DDNS"/>
        
        <category term="IPv6"/>
        
        <category term="OpenWrt"/>
        
    </entry>
    
    <entry>
        <title>VSCode 快捷键绑定 Shell 命令</title>
        <link href="https://www.ohyee.cc/post/note_vscode_keybindings_command"/>
        <id>https://www.ohyee.cc/post/note_vscode_keybindings_command</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-03-25T17:03:00+00:00</published>
        <updated>2022-03-25T17:03:00+00:00</updated>
        
        <content type="html"><![CDATA[别家有的功能，VSCode 也可以有。在 VSCode 中使用快捷键执行 Shell 命令]]></content>
        
        <summary type="html">
            
            别家有的功能，VSCode 也可以有。在 VSCode 中使用快捷键执行 Shell 命令
            
        </summary>
        
    </entry>
    
    <entry>
        <title>CentOS 添加 Swap 分区</title>
        <link href="https://www.whosneo.com/centos-swap/"/>
        <id>https://www.whosneo.com/centos-swap/</id>
        
        <author>
            <name>Neo</name>
        </author>
        
        <published>2022-03-16T14:39:56+00:00</published>
        <updated>2022-03-16T14:39:56+00:00</updated>
        
        <content type="html"><![CDATA[<p>当系统的内存空间满了之后，Linux 系统就会使用硬盘的空间来“扩展”内存。如果没有设置 Swap 分区，当内存耗尽之后，系统可能就会假死。<span></span></p>
<h2>创建和激活 Swap 文件</h2>
<p>首先创建 Swap 文件：</p>
<pre><code>sudo fallocate -l 4G /swapfile
</code></pre>
<p>如果 <code>fallocate</code> 不可用，则可以换用另一种方法：</p>
<pre><code>sudo dd if=/dev/zero of=/swapfile bs=1024 count=4194304
</code></pre>
<p>设置权限，确保只有 root 用户可以读写 Swap 文件：</p>
<pre><code>sudo chmod 600 /swapfile
</code></pre>
<p>接下来，在 Swap 文件上设置 Swap 分区：</p>
<pre><code>sudo mkswap /swapfile
</code></pre>
<p>然后就是激活 Swap 分区：</p>
<pre><code>sudo swapon /swapfile
</code></pre>
<p>激活之后可以使用 <code>free -h</code> 命令查看 Swap 分区的使用情况，以验证是否成功激活 Swap 分区。</p>
<p>最后，需要在 <code>/etc/fstab</code> 文件的最后添加条目，确保设置永久生效：</p>
<pre><code>/swapfile swap swap defaults 0 0
</code></pre>
<h2>调整 Swappiness 值</h2>
<p>Swappiness 值是 Linux 内核中定义的使用 Swap 分区的优先级，值可以为 0 至 100 之间的任何整数。值越小系统就尽量少去使用 Swap 分区，值越大系统就尽可能多的去使用 Swap 分区。</p>
<p>在 CentOS 上，Swappiness 值默认是 30。可以通过以下命令检查当前系统的 Swappiness 值：</p>
<pre><code>cat /proc/sys/vm/swappiness
</code></pre>
<p>30 的 Swappiness 值对于桌面系统来说是合适的，但对于服务器来说，小一点可能会合适。例如，设置 Swappiness 值为 10：</p>
<pre><code>sudo sysctl vm.swappiness=10
</code></pre>
<p>如果想永久设置 Swappiness 值，需要编辑 <code>/etc/sysctl.conf</code> 文件，在末尾添加以下内容：</p>
<pre><code>vm.swappiness=10
</code></pre>
<h2>移除 Swap 分区和文件</h2>
<p>首先，取消激活 Swap 分区：</p>
<pre><code>sudo swapoff -v /swapfile
</code></pre>
<p>然后，将 <code>/etc/fstab</code> 文件中的条目 <code>/swapfile swap swap defaults 0 0</code> 删除。</p>
<p>最后，删除 Swap 文件：</p>
<pre><code>sudo rm /swapfile
</code></pre>]]></content>
        
        <summary type="html">
            
            当系统的内存空间满了之后，Linux 系统就会使用硬盘的空间来“扩展”内存。如果没有设置 Swap 分区，当内存耗尽之后，系统可能就会假死。 创建和激活 Swap 文件 首先创建 Swap 文件： sudo fallocate -l 4G /swapfile  如果 fallo
            
        </summary>
        
        <category term="Tips"/>
        
        <category term="CentOS"/>
        
        <category term="Swap"/>
        
    </entry>
    
    <entry>
        <title>ASN.1 语法及 X.509 证书格式解析解析</title>
        <link href="https://www.ohyee.cc/post/note_asn1_and_x509_parse"/>
        <id>https://www.ohyee.cc/post/note_asn1_and_x509_parse</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-03-08T09:15:27+00:00</published>
        <updated>2022-03-08T09:15:27+00:00</updated>
        
        <content type="html"><![CDATA[根据 ASN.1 语法解析 X.509 证书信息]]></content>
        
        <summary type="html">
            
            根据 ASN.1 语法解析 X.509 证书信息
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Tinc on OpenWrt 组网</title>
        <link href="https://www.whosneo.com/tinc-openwrt/"/>
        <id>https://www.whosneo.com/tinc-openwrt/</id>
        
        <author>
            <name>Neo</name>
        </author>
        
        <published>2022-02-21T03:21:40+00:00</published>
        <updated>2022-02-21T03:21:40+00:00</updated>
        
        <content type="html"><![CDATA[<p>上一篇写了在路由器上使用 WireGuard 在 IPv6 上直连组网，效果也不错。但是 WireGuard 是使用 UDP 通信的，有可能会被运营商 QoS 限速，所以还可以试试使用 TCP 通信的 Tinc 来组网。<span></span></p>
<h2>安装 Tinc</h2>
<p>在两台路由器上均进行安装。</p>
<pre><code>opkg update
opkg install tinc
</code></pre>
<h2>配置 Tinc</h2>
<p>此处假设使用两台路由器来配置互相连接，名称为 A 和 B。<br />
路由器 A 的 DDNS 地址为 A.router.com，路由器 B 的 DDNS 地址为 B.router.com，这里解析出来的地址无论是 IPv4 还是 IPv6 都没关系，只要是公网能访问的地址就可以。<br />
路由器 A 和 B 均使用 665 端口监听 tinc 的传入连接。<br />
路由器 A 的局域网为 192.168.88.0/24，路由器 B 的局域网为 192.168.99.0/24。<br />
在 tinc 网络中，路由器 A 使用 IP 10.0.0.88，路由器 B 使用 IP 10.0.0.99。</p>
<h3>路由器 A</h3>
<p>首先需要定义一个网络名称，这里使用 <code>tincnet</code>。</p>
<p>在 <code>/etc/tinc/</code> 目录中新建文件夹，名字为网络名称，即创建 <code>/etc/tinc/tincnet/</code> 目录。<br />
在此目录下创建 <code>tinc.conf tinc-up tinc-down</code> 文件和 <code>hosts</code> 文件夹。<br />
<code>tinc.conf</code> 为 <code>tincnet</code> 的配置文件，<code>tinc-up</code> 为启动该网络时自动执行的脚本，<code>tinc-down</code> 为关闭该网络时自动执行的脚本，<code>hosts</code> 文件夹保存着各个节点（路由器）的信息。</p>
<p><code>tinc.conf</code> 文件中保存着路由器 A 的配置信息：</p>
<pre><code>Name = A #路由器 A 的名称
BindToAddress = * 665 #监听端口
Interface = tinc #虚拟接口名称
Device = /dev/net/tun
Mode = switch #交换机模式
ConnectTo = B #默认连接路由器 B
</code></pre>
<p><code>tinc-up</code> 文件是网络启动时执行的脚本，一般在这里为 tinc 的接口添加地址信息：</p>
<pre><code>#!/bin/sh

ip link set $INTERFACE up
ip addr add 10.0.0.88/24 dev $INTERFACE
ip route add 192.168.99.0/24 via 10.0.0.99 dev tinc src 10.0.0.88 onlink
</code></pre>
<p><code>tinc-down</code> 文件是网络关闭时执行的脚本，一般在这里为 tinc 的接口清除配置：</p>
<pre><code>#!/bin/sh

ip route del 192.168.99.0/24
ip addr del 10.0.0.88/24 dev $INTERFACE
ip link set $INTERFACE down
</code></pre>
<p>配置好 <code>tinc-up tinc-down</code> 文件之后，不要忘了为这两个文件增加执行权限：</p>
<pre><code>chmod +x tinc-up
chmod +x tinc-down
</code></pre>
<p><code>hosts</code> 文件夹中先创建好本机的文件，名称需要与上方 <code>tinc.conf</code> 中第一行的配置保持一致，即文件 <code>A</code>：</p>
<pre><code>Address = A.router.com
Port = 665
Subnet = 10.0.0.88/32
</code></pre>
<p>接下来为 <code>tincnet</code> 创建密钥信息，在询问保存位置时直接回车使用默认位置即可：</p>
<pre><code>tinc -n tincnet generate-rsa-keys
tinc -n tincnet generate-ed25519-keys
</code></pre>
<p>此时路由器 A 的 <code>/etc/tinc/tincnet/</code> 目录下的情况为：</p>
<pre><code>├── ed25519_key.priv
├── hosts/
│   └── A
├── rsa_key.priv
├── tinc-down*
├── tinc-up*
└── tinc.conf
</code></pre>
<p>最后需要编辑 <code>/etc/config/tinc</code> 文件：</p>
<pre><code>config tinc-net tincnet
    option enabled 1
    option Name A

config tinc-host A
    option enabled 1
    option net tincnet
</code></pre>
<h3>路由器 B</h3>
<p>首先需要定义一个网络名称，这里还是使用 <code>tincnet</code>。</p>
<p>在 <code>/etc/tinc/</code> 目录中新建文件夹，名字为网络名称，即创建 <code>/etc/tinc/tincnet/</code> 目录。<br />
在此目录下创建 <code>tinc.conf tinc-up tinc-down</code> 文件和 <code>hosts</code> 文件夹。<br />
<code>tinc.conf</code> 为 <code>tincnet</code> 的配置文件，<code>tinc-up</code> 为启动该网络时自动执行的脚本，<code>tinc-down</code> 为关闭该网络时自动执行的脚本，<code>hosts</code> 文件夹保存着各个节点（路由器）的信息。</p>
<p><code>tinc.conf</code> 文件中保存着路由器 B 的配置信息：</p>
<pre><code>Name = B #路由器 B 的名称
BindToAddress = * 665 #监听端口
Interface = tinc #虚拟接口名称
Device = /dev/net/tun
Mode = switch #交换机模式
ConnectTo = A #默认连接路由器 A
</code></pre>
<p><code>tinc-up</code> 文件是网络启动时执行的脚本，一般在这里为 tinc 的接口添加地址信息：</p>
<pre><code>#!/bin/sh

ip link set $INTERFACE up
ip addr add 10.0.0.99/24 dev $INTERFACE
ip route add 192.168.88.0/24 via 10.0.0.88 dev tinc src 10.0.0.99 onlink
</code></pre>
<p><code>tinc-down</code> 文件是网络关闭时执行的脚本，一般在这里为 tinc 的接口清除配置：</p>
<pre><code>#!/bin/sh

ip route del 192.168.88.0/24
ip addr del 10.0.0.99/24 dev $INTERFACE
ip link set $INTERFACE down
</code></pre>
<p>配置好 <code>tinc-up tinc-down</code> 文件之后，不要忘了为这两个文件增加执行权限：</p>
<pre><code>chmod +x tinc-up
chmod +x tinc-down
</code></pre>
<p><code>hosts</code> 文件夹中先创建好本机的文件，名称需要与上方 <code>tinc.conf</code> 中第一行的配置保持一致，即文件 <code>B</code>：</p>
<pre><code>Address = B.router.com
Port = 665
Subnet = 10.0.0.99/32
</code></pre>
<p>接下来为 <code>tincnet</code> 创建密钥信息，在询问保存位置时直接回车使用默认位置即可：</p>
<pre><code>tinc -n tincnet generate-rsa-keys
tinc -n tincnet generate-ed25519-keys
</code></pre>
<p>此时路由器 B 的 <code>/etc/tinc/tincnet/</code> 目录下的情况为：</p>
<pre><code>├── ed25519_key.priv
├── hosts/
│   └── B
├── rsa_key.priv
├── tinc-down*
├── tinc-up*
└── tinc.conf
</code></pre>
<p>最后需要编辑 <code>/etc/config/tinc</code> 文件：</p>
<pre><code>config tinc-net tincnet
    option enabled 1
    option Name B

config tinc-host B
    option enabled 1
    option net tincnet
</code></pre>
<h3>交换密钥</h3>
<p>需要将路由器 A 上的 <code>/etc/tinc/tincnet/hosts/A</code> 文件复制到路由器 B 的<code>/etc/tinc/tincnet/hosts/</code> 目录下，同理，需要将路由器 B 上的 <code>/etc/tinc/tincnet/hosts/B</code> 文件复制到路由器 A 的<code>/etc/tinc/tincnet/hosts/</code> 目录下。</p>
<p>此时两个路由器的 <code>/etc/tinc/tincnet/</code> 目录下均为这样：</p>
<pre><code>├── ed25519_key.priv
├── hosts/
│   ├── A
│   └── B
├── rsa_key.priv
├── tinc-down*
├── tinc-up*
└── tinc.conf
</code></pre>
<p>需要注意两个路由器要在防火墙中开放 665 端口。</p>
<p>在两个路由器上均启动 tinc，即可连通两个路由器：</p>
<pre><code>/etc/init.d/tinc start
</code></pre>
<h2>完成</h2>
<p>如果需要更省心的操作，可以参考上一篇文章中的自动化的配置。</p>]]></content>
        
        <summary type="html">
            
            上一篇写了在路由器上使用 WireGuard 在 IPv6 上直连组网，效果也不错。但是 WireGuard 是使用 UDP 通信的，有可能会被运营商 QoS 限速，所以还可以试试使用 TCP 通信的 Tinc 来组网。 安装 Tinc 在两台路由器上均进行安装。 opkg u
            
        </summary>
        
        <category term="Tips"/>
        
        <category term="OpenWrt"/>
        
        <category term="Tinc"/>
        
    </entry>
    
    <entry>
        <title>腾讯企业邮箱忽略 MX 记录发信</title>
        <link href="https://www.ohyee.cc/post/note_tencent_exmail_mx"/>
        <id>https://www.ohyee.cc/post/note_tencent_exmail_mx</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-02-09T09:09:40+00:00</published>
        <updated>2022-02-09T09:09:40+00:00</updated>
        
        <content type="html"><![CDATA[该问题会导致部分邮件被错误投递，无论是发送方还是接收方都会受到影响，同时可能存在潜在的安全隐患]]></content>
        
        <summary type="html">
            
            该问题会导致部分邮件被错误投递，无论是发送方还是接收方都会受到影响，同时可能存在潜在的安全隐患
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Chrome/Edge 标签组插件</title>
        <link href="https://www.ohyee.cc/post/evaluation_browser_tabgroups_extensions"/>
        <id>https://www.ohyee.cc/post/evaluation_browser_tabgroups_extensions</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-02-06T16:58:49+00:00</published>
        <updated>2022-02-06T16:58:49+00:00</updated>
        
        <content type="html"><![CDATA[针对浏览器标签组自动分组插件的对比]]></content>
        
        <summary type="html">
            
            针对浏览器标签组自动分组插件的对比
            
        </summary>
        
    </entry>
    
    <entry>
        <title>【应届内推】阿里云后端研发工程师</title>
        <link href="https://www.ohyee.cc/post/writting_aliyun_2023"/>
        <id>https://www.ohyee.cc/post/writting_aliyun_2023</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-01-24T04:57:18+00:00</published>
        <updated>2022-01-24T04:57:18+00:00</updated>
        
        <content type="html"><![CDATA[内推，速投简历]]></content>
        
        <summary type="html">
            
            内推，速投简历
            
        </summary>
        
    </entry>
    
    <entry>
        <title>损坏的 Typecho 备份处理为 JSON</title>
        <link href="https://www.ohyee.cc/post/note_typecho_backup_json"/>
        <id>https://www.ohyee.cc/post/note_typecho_backup_json</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2022-01-15T18:00:42+00:00</published>
        <updated>2022-01-15T18:00:42+00:00</updated>
        
        <content type="html"><![CDATA[一定不能太懒癌]]></content>
        
        <summary type="html">
            
            一定不能太懒癌
            
        </summary>
        
    </entry>
    
    <entry>
        <title>VS Code VIM 插件高效使用</title>
        <link href="https://www.ohyee.cc/post/note_vim"/>
        <id>https://www.ohyee.cc/post/note_vim</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-12-31T04:29:29+00:00</published>
        <updated>2021-12-31T04:29:29+00:00</updated>
        
        <content type="html"><![CDATA[在 VSCode 中使用 VIM 实现高效操作]]></content>
        
        <summary type="html">
            
            在 VSCode 中使用 VIM 实现高效操作
            
        </summary>
        
    </entry>
    
    <entry>
        <title>參加購物節浅羽到底經歷了什麼</title>
        <link href="https://asaba.sakuragawa.moe/2021/12/%e5%8f%83%e5%8a%a0%e8%b3%bc%e7%89%a9%e7%af%80%e6%b5%85%e7%be%bd%e5%88%b0%e5%ba%95%e7%b6%93%e6%ad%b7%e4%ba%86%e4%bb%80%e9%ba%bc/?pk_campaign=feed&amp;pk_kwd=%25e5%258f%2583%25e5%258a%25a0%25e8%25b3%25bc%25e7%2589%25a9%25e7%25af%2580%25e6%25b5%2585%25e7%25be%25bd%25e5%2588%25b0%25e5%25ba%2595%25e7%25b6%2593%25e6%25ad%25b7%25e4%25ba%2586%25e4%25bb%2580%25e9%25ba%25bc"/>
        <id>https://asaba.sakuragawa.moe/2021/12/%e5%8f%83%e5%8a%a0%e8%b3%bc%e7%89%a9%e7%af%80%e6%b5%85%e7%be%bd%e5%88%b0%e5%ba%95%e7%b6%93%e6%ad%b7%e4%ba%86%e4%bb%80%e9%ba%bc/?pk_campaign=feed&amp;pk_kwd=%25e5%258f%2583%25e5%258a%25a0%25e8%25b3%25bc%25e7%2589%25a9%25e7%25af%2580%25e6%25b5%2585%25e7%25be%25bd%25e5%2588%25b0%25e5%25ba%2595%25e7%25b6%2593%25e6%25ad%25b7%25e4%25ba%2586%25e4%25bb%2580%25e9%25ba%25bc</id>
        
        <author>
            <name>櫻川 浅羽</name>
        </author>
        
        <published>2021-12-28T19:03:04+00:00</published>
        <updated>2021-12-28T19:03:04+00:00</updated>
        
        <content type="html"><![CDATA[<h6><a href="https://markdown.sakuragawa.moe/hHPk3Q8tRPeLAv815Tdseg?both#tags-blog-draft"></a></h6>



<p>自從京東「618 店慶」、淘寶「雙 11」開了購物節的先河後，「購物節」越辦越多，而且每次都有「預熱」、「返場」，時間越來越長，可以說是「每月一次節，每次一個月」。經過幾年的大力宣傳炒作，購物節的形式也漸漸被大家所認識和瞭解；浅羽也不能免俗，想要薅一把羊毛。</p>



<p>平臺促銷，什麼「秒殺」「限時優惠」已經是司空見慣了，守着螢幕等着零點時分也是家常便飯，不過近年的促銷活動週期拉得更長，也就少了些立減限量搶購。優惠的大頭還是滿額減價；有時爲了享受到優惠就不免要湊單。極端一點如浅羽本貓甚至變成了從按需消費變成了計劃消費，購買品牌產品漸漸地就變成了「等 618」「等雙 11」。除掉急用的必需品，其餘的儘量都在「購物節」時購買，甚至於日用品也選擇在優惠期間大量購買「屯貨」，徹底過成了優惠日曆的樣子。</p>



<p>有些情況則是比較可氣，比如說店家要參加「滿 200 減 30」的活動，原本標價 200 元出個頭的產品，在活動期間內突然做小幅度的減價，以至於不能輕易湊夠滿減。可是眼見稍加一點就可以夠上滿減的門檻，怎麼辦呢？這種時候只好去尋找「湊單品」。久而久之，訂單記錄裏就堆滿了各種幾塊錢的小商品，家裏也堆滿了沒什麼用的小零碎。好在這樣一通操作下來，原本打算購買的商品還是獲得了一定的優惠。也有甚者，爲了不多花一分錢，用隨機商品湊單之後再申請退款，只能說與活動的策劃者也不是無辜的。</p>



<p>希望有朝一日能看到這些平臺有更純粹的促銷活動，而非不停地佈置的「消費主義陷阱」；不需要分享「砍價」、不需要計算湊單，更不用爲了尷尬的紅包每天花費時間在毫無樂趣的「遊戲」上。</p>
<img src="https://analytics.sakuragawa.moe/piwik.php?idsite=2&amp;rec=1&amp;url=https%3A%2F%2Fasaba.sakuragawa.moe%2F2021%2F12%2F%25e5%258f%2583%25e5%258a%25a0%25e8%25b3%25bc%25e7%2589%25a9%25e7%25af%2580%25e6%25b5%2585%25e7%25be%25bd%25e5%2588%25b0%25e5%25ba%2595%25e7%25b6%2593%25e6%25ad%25b7%25e4%25ba%2586%25e4%25bb%2580%25e9%25ba%25bc%2F%3Fpk_campaign%3Dfeed%26pk_kwd%3D%2525e5%25258f%252583%2525e5%25258a%2525a0%2525e8%2525b3%2525bc%2525e7%252589%2525a9%2525e7%2525af%252580%2525e6%2525b5%252585%2525e7%2525be%2525bd%2525e5%252588%2525b0%2525e5%2525ba%252595%2525e7%2525b6%252593%2525e6%2525ad%2525b7%2525e4%2525ba%252586%2525e4%2525bb%252580%2525e9%2525ba%2525bc&amp;action_name=%E5%8F%83%E5%8A%A0%E8%B3%BC%E7%89%A9%E7%AF%80%E6%B5%85%E7%BE%BD%E5%88%B0%E5%BA%95%E7%B6%93%E6%AD%B7%E4%BA%86%E4%BB%80%E9%BA%BC&amp;urlref=https%3A%2F%2Fasaba.sakuragawa.moe%2Ffeed%2F" /><div>
    <div>
    <a data-post-id="2394" data-trigger-type="like" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span>    </span>
</div><div>
    <a data-post-id="2394" data-trigger-type="dislike" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span></span>
</div></div>]]></content>
        
        <summary type="html">
            
                自從京東「618 店慶」、淘寶「雙 11」開了購物節的先河後，「購物節」越辦越多，而且每次都有「預熱」、「返場」，時間越來越長，可以說是「每月一次節，每次一個月」。經過幾年的大力宣傳炒作，購物節的形式也漸漸被大家所認識和瞭解；浅羽也不能免俗，想要薅一把羊毛。    平臺
            
        </summary>
        
        <category term="想法"/>
        
        <category term="日常 / 流水帳"/>
        
        <category term="#SafeForLife"/>
        
        <category term="吐槽"/>
        
    </entry>
    
    <entry>
        <title>SSH 正反向代理</title>
        <link href="https://www.ohyee.cc/post/note_ssh_proxy"/>
        <id>https://www.ohyee.cc/post/note_ssh_proxy</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-12-22T13:55:36+00:00</published>
        <updated>2021-12-22T13:55:36+00:00</updated>
        
        <content type="html"><![CDATA[让服务器用本地网络、让本地用服务器的网络，做你懂的事情（加速依赖下载）]]></content>
        
        <summary type="html">
            
            让服务器用本地网络、让本地用服务器的网络，做你懂的事情（加速依赖下载）
            
        </summary>
        
    </entry>
    
    <entry>
        <title>WireGuard on OpenWrt+IPv6 组网</title>
        <link href="https://www.whosneo.com/wireguard-openwrt-ipv6/"/>
        <id>https://www.whosneo.com/wireguard-openwrt-ipv6/</id>
        
        <author>
            <name>Neo</name>
        </author>
        
        <published>2021-12-10T08:13:17+00:00</published>
        <updated>2021-12-10T08:13:17+00:00</updated>
        
        <content type="html"><![CDATA[<p>之前在路由器上使用 Zerotier 组网，效果还是不错的。但是两台路由器都是通过打洞连接的，效果可能并不是特别稳定。恰好我的两台路由器都是有 IPv6 地址的，那么何不试试使用 IPv6 地址直连的方式来进行组网呢？<span></span></p>
<h2>安装 WireGuard 依赖</h2>
<p>在两台路由器上均安装相关的依赖，只需要安装 <code>luci-i18n-wireguard-zh-cn</code> 系统即可自动将所有依赖安装完毕，完成之后必须要重启路由器。</p>
<pre><code>opkg update
opkg install luci-i18n-wireguard-zh-cn
</code></pre>
<p>重新登录路由器管理页面，就可以在 状态 – WireGuard 中看到 WireGuard 连接的状态。</p>
<h2>配置 WireGuard 接口</h2>
<p>若使用 N 台路由器互相连接，则需要在每台路由器上设置 N-1 个对端，这样可以确保任意两台路由器之间能互相连接。此处假设使用两台路由器来配置互相连接，每台路由器上均需要设置一个对端。</p>
<p>路由器 A 的网段为 192.168.1.0/24，路由器 B 的网段为 192.168.2.0/24，我们选择为 WireGuard 网络设置网段 172.16.0.0/16，路由器 A 在 WireGuard 网络中的地址为 172.16.1.1，路由器 B 在 WireGuard 网络中的地址为 172.16.2.1。</p>
<h3>路由器 A</h3>
<p>进入 网络 – 接口 页面中，添加新的接口，接口名称填入 wg，协议需要选择 WireGuard VPN。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_08-33-45.png" /><br />
在 常规设置 中，点击生成密钥按钮，私钥栏中会自动生成内容，监听端口填写 12000，IP 地址填入 172.16.1.1/16，注意此处最好是带上网段。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_08-46-11.png" /><br />
在 高级设置 中，MTU 填入 1280，此处如果填大了会让两端连接速度变慢。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_08-55-48.png" /><br />
在 防火墙设置 中，新建一个 vpn 区域。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_08-57-34.png" /><br />
保存并应用，创建端口。</p>
<p>在 状态 – WireGuard 中可以看到路由器 A 的公钥，复制下来，等下要填入路由器 B 的对端设置中。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_09-00-05.png" /></p>
<p>回到 网络 – 接口 中，编辑 wg 接口，在 对端 中，添加一个对端，描述可以写 OpenWrt2，公钥中填入路由器 B 的公钥（参考本文后面路由器 B 的设置获得公钥），允许的 IP 中填入 172.16.2.1/32 和 192.168.2.0/24，勾选路由允许的 IP，端点主机填入对端路由器的公网地址，端点端口填入对端路由器的端口 12000，持续 Keep-Alive 中可以填入自己喜欢的大小，如 15，保存并应用所有设置。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_09-14-22.png" /></p>
<p>进入 网络 – 防火墙 – 常规设置 – 区域 中，编辑 lan 区域，将允许转发到目标区域勾选上 vpn 区域，将允许来自源区域的转发也勾选上 vpn 区域，保存；将 vpn 区域的转发改为接受，保存并应用设置。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_13-30-47.png" /><br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_13-29-05.png" /></p>
<p>在 网络 – 防火墙 – 通信规则 页面中，新增一项规则。<br />
在 常规设置 中，名称填写 Allow-WireGuard，协议保持默认 TCP+UDP 即可，源区域选择 wan，目标区域选择 设备（输入），目标端口调入 WireGuard 监听端口 12000，操作选择接受，保存防火墙设置。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_13-34-24.png" /></p>
<p>回到 网络 – 接口 页面中，重启 wg 接口。</p>
<h3>路由器 B</h3>
<p>进入 网络 – 接口 页面中，添加新的接口，接口名称填入 wg，协议需要选择 WireGuard VPN。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_08-33-45.png" /><br />
在 常规设置 中，点击生成密钥按钮，私钥栏中会自动生成内容，监听端口填写 12000，IP 地址填入 172.16.2.1/16，注意此处最好是带上网段。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_08-46-11.png" /><br />
在 高级设置 中，MTU 填入 1280，此处如果填大了会让两端连接速度变慢。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_08-55-48.png" /><br />
在 防火墙设置 中，新建一个 vpn 区域。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_08-57-34.png" /><br />
保存并应用，创建端口。</p>
<p>在 状态 – WireGuard 中可以看到路由器 B 的公钥，复制下来，等下要填入路由器 A 的对端设置中。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_09-03-06.png" /></p>
<p>回到 网络 – 接口 中，编辑 wg 接口，在 对端 中，添加一个对端，描述可以写 OpenWrt1，公钥中填入路由器 A 的公钥（参考本文前面路由器 A 的设置获得公钥），允许的 IP 中填入 172.16.1.1/32 和 192.168.1.0/24，勾选路由允许的 IP，端点主机填入对端路由器的公网地址，端点端口填入对端路由器的端口 12000，持续 Keep-Alive 中可以填入自己喜欢的大小，如 15，保存并应用所有设置。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_09-30-11.png" /></p>
<p>进入 网络 – 防火墙 – 常规设置 – 区域 中，编辑 lan 区域，将允许转发到目标区域勾选上 vpn 区域，将允许来自源区域的转发也勾选上 vpn 区域，保存；将 vpn 区域的转发改为接受，保存并应用设置。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_13-30-47.png" /><br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_13-29-05.png" /></p>
<p>在 网络 – 防火墙 – 通信规则 页面中，新增一项规则。<br />
在 常规设置 中，名称填写 Allow-WireGuard，协议保持默认 TCP+UDP 即可，源区域选择 wan，目标区域选择 设备（输入），目标端口调入 WireGuard 监听端口 12000，操作选择接受，保存防火墙设置。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_13-34-24.png" /></p>
<p>回到 网络 – 接口 页面中，重启 wg 接口。</p>
<h2>完成</h2>
<p>此时，稍等片刻，在两台路由器的 状态 – WireGuard 中即可看到另外一台路由器的连接信息。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_09-34-55.png" /></p>
<p>此时两端路由器下的设备就都可以访问另一端路由器下的设备了，就像是在同一个局域网中。</p>
<p>如果需要更省心的操作，可以选择参考以下内容。</p>
<h3>配合 DDNS 使用</h3>
<p>当其中一个路由器重新连接网络之后，公网地址可能会发生变化，此时可能会无法连接 WireGuard，不过我们可以配合 DDNS 使用。<br />
两台路由器均配置好 DDNS 之后，可以在 WireGuard 的对端配置中将端点主机的地址由 IP 地址更换为域名。<br />
DDNS 配置好之后，这样即使路由器更换了 IP 地址也可以重新连接上。</p>
<h3>配合 IPv6 使用</h3>
<p>WireGuard 可完美兼容 IPv6 使用，只需要 DDNS 的域名只有 IPv6 地址记录即可，在这种情况下，WireGuard 就使用 IPv6 与其他路由器连接。只需将上文图中 172.27.0.0/16 的地址替换为 DDNS 域名即可。</p>
<p>IPv6 DDNS 的配置可以参考另一篇文章：<a href="https://www.whosneo.com/openwrt-ipv6-ddns/">OpenWrt IPv6 DDNS</a></p>
<h3>配合 WatchCat 使用</h3>
<p>当出现问题无法连通对端路由器的时候，如果有自动化的操作可以直接重启接口，就很方便了，省去手动重启操作。</p>
<pre><code>opkg update
opkg install watchcat luci-app-watchcat luci-i18n-watchcat-zh-cn
</code></pre>
<p>在 服务 – WatchCat 页面中，增加一项配置，模式选择“重启接口”（有些固件可能会翻译为“重启实例”），周期可以设置为 1m，在路由器 A 上安装的 WatchCat 就填写路由器 B 的地址 192.168.2.1，在路由器 B 上安装的 WatchCat 就填写路由器 A 的地址 192.168.1.1，检查间隔填写 10s，接口的话就选择 wg，其余保持不动，保存应用所有设置。<br />
<img src="https://static.whosneo.com/img/2021/12/Snipaste_2021-12-10_13-42-01.png" /></p>
<p>这样，在路由器发现无法 ping 通对端路由器 1 分钟之后将会自动重启 wg 接口，保证两台路由器之间持续连接。</p>]]></content>
        
        <summary type="html">
            
            之前在路由器上使用 Zerotier 组网，效果还是不错的。但是两台路由器都是通过打洞连接的，效果可能并不是特别稳定。恰好我的两台路由器都是有 IPv6 地址的，那么何不试试使用 IPv6 地址直连的方式来进行组网呢？ 安装 WireGuard 依赖 在两台路由器上均安装相关的
            
        </summary>
        
        <category term="Tips"/>
        
        <category term="IPv6"/>
        
        <category term="OpenWrt"/>
        
        <category term="WireGuard"/>
        
    </entry>
    
    <entry>
        <title>Let&#39;s Encrypt 根证书过期引发的问题</title>
        <link href="https://www.ohyee.cc/post/note_lets_encrypt"/>
        <id>https://www.ohyee.cc/post/note_lets_encrypt</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-12-04T15:13:59+00:00</published>
        <updated>2021-12-04T15:13:59+00:00</updated>
        
        <content type="html"><![CDATA[Let's Encrypt 在部分设备上提示证书错误]]></content>
        
        <summary type="html">
            
            Let&#39;s Encrypt 在部分设备上提示证书错误
            
        </summary>
        
    </entry>
    
    <entry>
        <title>OpenWRT 忽略内核依赖</title>
        <link href="https://www.ohyee.cc/post/note_openwrt_kernel"/>
        <id>https://www.ohyee.cc/post/note_openwrt_kernel</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-11-21T18:30:55+00:00</published>
        <updated>2021-11-21T18:30:55+00:00</updated>
        
        <content type="html"><![CDATA[内核版本导致 Cannot satisfy the following dependencies for kmod-xxx]]></content>
        
        <summary type="html">
            
            内核版本导致 Cannot satisfy the following dependencies for kmod-xxx
            
        </summary>
        
    </entry>
    
    <entry>
        <title>V2Ray + TLS + WS(WSS) Docker 部署</title>
        <link href="https://www.ohyee.cc/post/note_v2ray_tls_ws_docker"/>
        <id>https://www.ohyee.cc/post/note_v2ray_tls_ws_docker</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-11-21T16:24:23+00:00</published>
        <updated>2021-11-21T16:24:23+00:00</updated>
        
        <content type="html"><![CDATA[伪装成正常 wss 的 v2ray 流量]]></content>
        
        <summary type="html">
            
            伪装成正常 wss 的 v2ray 流量
            
        </summary>
        
    </entry>
    
    <entry>
        <title>博客前端字体选择</title>
        <link href="https://www.ohyee.cc/post/note_blog_font"/>
        <id>https://www.ohyee.cc/post/note_blog_font</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-11-16T11:10:28+00:00</published>
        <updated>2021-11-16T11:10:28+00:00</updated>
        
        <content type="html"><![CDATA[根据字体效果选择了一个清晰易读还尽可能不那么常规的可商用字体]]></content>
        
        <summary type="html">
            
            根据字体效果选择了一个清晰易读还尽可能不那么常规的可商用字体
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Zerotier 主路由旁路由搭配组网</title>
        <link href="https://www.whosneo.com/zerotier-lan/"/>
        <id>https://www.whosneo.com/zerotier-lan/</id>
        
        <author>
            <name>Neo</name>
        </author>
        
        <published>2021-11-16T02:39:37+00:00</published>
        <updated>2021-11-16T02:39:37+00:00</updated>
        
        <content type="html"><![CDATA[<p>最近新入了一个 R4S 软路由，放在家里当作旁路由来使用，同时单位有一台刷了 OpenWrt 系统的小米路由器 Pro。苦于无法自由访问家中和单位的局域网，便研究了一下利用 Zerotier 来组网。<span></span></p>
<p>本文假设两台路由器分别叫 OpenWrt1 和 OpenWrt2，其中 OpenWrt1 作为主路由，OpenWrt2 作为旁路由。OpenWrt1 的局域网为 192.168.1.0/24，OpenWrt2 的局域网为 192.168.2.0/24。</p>
<h2>注册 Zerotier</h2>
<p>首先去 <a href="https://my.zerotier.com">https://my.zerotier.com</a> 注册账户，然后在 <a href="https://my.zerotier.com/network">https://my.zerotier.com/network</a> 网络页面，点击页面上方一个大大的黄色按钮“Create A Network”即可创建完成一个网络，在下方的列表中，获得你的网络 ID。</p>
<h2>安装 Zerotier</h2>
<p>两台路由器均安装 Zerotier：</p>
<pre><code>opkg install zerotier
</code></pre>
<p>两台路由器均编辑 Zerotier 配置：</p>
<pre><code>vi /etc/config/zerotier
</code></pre>
<p>修改里面的内容，将 ‘xxxxxxxxxxxxxxxx’ 修改为自己的 Zerotier 网络 ID。</p>
<pre><code>config zerotier 'sample_config'
    option enabled '1'
    list join 'xxxxxxxxxxxxxxxx'
    option nat '1'
    option secret ''
</code></pre>
<p>两台路由器均启动 Zerotier：</p>
<pre><code>/etc/init.d/zerotier start
</code></pre>
<p>网络 – 防火墙 – 常规设置 – 区域设置，将“转发”修改为“接受”：<br />
<img src="https://static.whosneo.com/img/2021/11/Snipaste_2021-11-16_14-53-01.png" /></p>
<h2>设置 Zerotier 网络</h2>
<p>在两台路由器都启动了 Zerotier 之后，在 Zerotier 的网络管理 Members 里面就可以看到两个设备了，在前面的框内都打上勾，稍等一下就可以在右边看到两个 IP 地址了：<br />
<img src="https://static.whosneo.com/img/2021/11/Snipaste_2021-11-16_14-07-54.png" /></p>
<p>再到两台路由器上运行一下 Zerotier 的命令来检查一下两台路由器到底分配的是哪个 IP：</p>
<pre><code>zerotier-cli listnetworks
</code></pre>
<p>从命令输出的最后可以出来当前路由器使用的是哪个 IP。<br />
本文中 OpenWrt1 为 10.147.19.32，OpenWrt2 为 10.147.19.12。</p>
<p>然后在 Zerotier 网络管理的高级设置中，添加对应的路由表，Destination 填入路由器的网段，Via 填入其得到的 Zerotier 地址：<br />
<img src="https://static.whosneo.com/img/2021/11/Snipaste_2021-11-16_14-30-16.png" /></p>
<h2>最后</h2>
<p>在这番设置之后，便可以在不同网段之间互相访问其他局域网中的设备了。</p>
<p>网上充斥着大量的教程，却也没有说清楚旁路由 Zerotier 到底应该如何配置。在经历了两天的配置之后，终于将主路由/旁路由任意搭配使用的配置总结好。记录一下，以便查阅。</p>]]></content>
        
        <summary type="html">
            
            最近新入了一个 R4S 软路由，放在家里当作旁路由来使用，同时单位有一台刷了 OpenWrt 系统的小米路由器 Pro。苦于无法自由访问家中和单位的局域网，便研究了一下利用 Zerotier 来组网。 本文假设两台路由器分别叫 OpenWrt1 和 OpenWrt2，其中 Op
            
        </summary>
        
        <category term="Tips"/>
        
        <category term="OpenWrt"/>
        
        <category term="Zerotier"/>
        
    </entry>
    
    <entry>
        <title>Surface Pro 8 测评</title>
        <link href="https://www.ohyee.cc/post/evaluation_surface_pro_8"/>
        <id>https://www.ohyee.cc/post/evaluation_surface_pro_8</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-11-07T05:01:54+00:00</published>
        <updated>2021-11-07T05:01:54+00:00</updated>
        
        <content type="html"><![CDATA[第一波预购，第一波收货，最后一波测评]]></content>
        
        <summary type="html">
            
            第一波预购，第一波收货，最后一波测评
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Go 中值为 nil 的 interface</title>
        <link href="https://www.ohyee.cc/post/note_go_nil_interface"/>
        <id>https://www.ohyee.cc/post/note_go_nil_interface</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-11-06T15:06:57+00:00</published>
        <updated>2021-11-06T15:06:57+00:00</updated>
        
        <content type="html"><![CDATA[记一个尽管我知道，但是仍然在项目里义无反顾踩了坑的知识点]]></content>
        
        <summary type="html">
            
            记一个尽管我知道，但是仍然在项目里义无反顾踩了坑的知识点
            
        </summary>
        
    </entry>
    
    <entry>
        <title>在 OpenWRT 上正確開啓網易 UU 加速器</title>
        <link href="https://asaba.sakuragawa.moe/2021/10/%e5%9c%a8-openwrt-%e4%b8%8a%e6%ad%a3%e7%a2%ba%e9%96%8b%e5%95%93%e7%b6%b2%e6%98%93-uu-%e5%8a%a0%e9%80%9f%e5%99%a8/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8"/>
        <id>https://asaba.sakuragawa.moe/2021/10/%e5%9c%a8-openwrt-%e4%b8%8a%e6%ad%a3%e7%a2%ba%e9%96%8b%e5%95%93%e7%b6%b2%e6%98%93-uu-%e5%8a%a0%e9%80%9f%e5%99%a8/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8</id>
        
        <author>
            <name>櫻川 浅羽</name>
        </author>
        
        <published>2021-10-26T21:37:53+00:00</published>
        <updated>2021-10-26T21:37:53+00:00</updated>
        
        <content type="html"><![CDATA[<div>
			
	
	
		<p>
			本篇爲「<em>家庭網路</em>」系列第 14 篇（全 15 篇）。		</p>
			

			<div>
			<ol>
									<li><a href="https://asaba.sakuragawa.moe/2017/12/%e5%85%a5%e6%89%8b-linksys-wrt1900ac-%e4%bd%9c%e7%88%b2-ap%ef%bc%8c%e5%88%b7-dd-wrt-%e5%9b%ba%e4%bb%b6/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">入手 Linksys WRT1900AC 作爲 AP，刷 DD-WRT 固件</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2017/12/%e9%97%96%e5%85%a5%e8%81%af%e9%80%9a%e5%ae%9a%e8%a3%bd%e7%83%bd%e7%81%ab-hg220g-u%ef%bc%88wo-36%ef%bc%89/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">闖入聯通定製烽火 HG220G-U（WO-36）</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/01/%e4%b9%9f%e8%a8%b1%e6%98%af%e6%9c%80%e6%8a%98%e9%a8%b0%e7%9a%84%ef%bc%88%e9%9a%a8%e8%ba%ab%ef%bc%89%e8%bf%b7%e4%bd%a0%e4%bc%ba%e6%9c%8d%e5%99%a8%ef%bc%9a%e8%a8%88%e5%8a%83/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">也許是最折騰的（隨身）迷你伺服器：計劃</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/01/%e4%b9%9f%e8%a8%b1%e6%98%af%e6%9c%80%e6%8a%98%e9%a8%b0%e7%9a%84%ef%bc%88%e9%9a%a8%e8%ba%ab%ef%bc%89%e8%bf%b7%e4%bd%a0%e4%bc%ba%e6%9c%8d%e5%99%a8%ef%bc%9a%e8%bb%9f%e9%ab%94/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">也許是最折騰的（隨身）迷你伺服器：軟體</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/01/%e4%b9%9f%e8%a8%b1%e6%98%af%e6%9c%80%e6%8a%98%e9%a8%b0%e7%9a%84%ef%bc%88%e9%9a%a8%e8%ba%ab%ef%bc%89%e8%bf%b7%e4%bd%a0%e4%bc%ba%e6%9c%8d%e5%99%a8%ef%bc%9a%e8%a3%9d%e6%a9%9f/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">也許是最折騰的（隨身）迷你伺服器：裝機</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/02/%e5%9c%a8%e5%9c%8b%e7%a7%91%e5%a4%a7%ef%bc%88ucas%ef%bc%89%e5%ae%bf%e8%88%8d%e9%85%8d%e7%bd%ae-ipv6-%e7%a9%bf%e9%80%8f/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">在國科大（UCAS）宿舍配置 IPv6 穿透</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/03/%e6%96%90%e8%a8%8a-k3-%e4%b8%8a%e8%bb%8a%ef%bc%8c%e9%96%8b%e5%95%93-telnet%e3%80%81%e5%88%b7%e5%b7%b2-root-%e7%89%88%e5%ae%98%e6%96%b9%e5%9b%ba%e4%bb%b6%e5%92%8c-merlin/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">斐訊 K3 上車，開啓 Telnet、刷已 Root 版官方固件和 Merlin</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/03/%e4%bd%bf%e7%94%a8-bind9-%e5%bb%ba%e7%bd%ae%e6%b7%b7%e5%90%88-dns%ef%bc%88response-policy-zone%ef%bc%89/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">使用 bind9 建置混合 DNS（Response Policy Zone）</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/06/%e6%96%90%e8%a8%8a-k2t-%e9%96%8b%e7%ae%b1%e8%88%87%e5%8b%95%e6%89%8b%e8%89%b9%ef%bc%88%e5%8b%95%e6%89%8b%e7%8e%a9%ef%bc%89/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">斐訊 K2T 開箱與動手艹（動手玩）</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/06/huawei-b315s-936-4g-lte-cpe-%e9%96%8b%e7%ae%b1%e8%88%87%e5%8b%95%e6%89%8b%e7%8e%a9/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">Huawei B315s-936 4G LTE CPE 開箱與動手玩</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2018/06/%e9%80%8f%e9%81%8e-vlan-%e5%be%9e%e4%b8%8d%e5%90%8c%e5%87%ba%e5%8f%a3%e7%8d%b2%e5%be%97-ipv4-ipv6-%e6%a7%8b%e5%bb%ba%e9%9b%99%e6%a3%a7%e7%b6%b2%e8%b7%af/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">透過 VLAN 從不同出口獲得 IPv4/IPv6 地址構建雙棧網路</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2020/02/%e9%97%9c%e6%96%bc%e5%8d%8a%e5%a4%9c%e8%89%b9%e8%b2%93%e7%9a%84%e9%80%99%e6%aa%94%e4%ba%8b%ef%bc%9a%e4%b8%ad%e8%88%88-zte-zxhn-f677v2-ont-%e8%a8%ad%e5%ae%9a%e6%a9%8b%e6%8e%a5/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">關於半夜艹貓的這檔事：中興 ZTE ZXHN F677V2 ONT 設定橋接</a></li>
									<li><a href="https://asaba.sakuragawa.moe/2021/01/%e4%bf%ae%e5%be%a9-openwrt-%e4%b8%8a-clash%ef%bc%88openclash%ef%bc%89%e5%bd%b1%e9%9f%bf-port-forwarding-%e7%9a%84%e5%95%8f%e9%a1%8c/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">修復 OpenWRT 上 Clash（OpenClash）影響 Port Forwarding 的問題</a></li>
									<li><span>在 OpenWRT 上正確開啓網易 UU 加速器</span></li>
									<li><a href="https://asaba.sakuragawa.moe/2022/08/%e5%9c%a8-proxmox-ve-%e4%b8%8a%e4%bd%bf%e7%94%a8-lxc-%e5%bb%ba%e7%bd%ae-uu-%e5%8a%a0%e9%80%9f%e5%99%a8/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8">在 Proxmox VE 上使用 LXC 建置 UU 加速器</a></li>
							</ol>
		</div>
	</div>

<p>網易 UU 加速器不知道爲何被戲稱爲「富家子弟加速器」。不過傻老婆恰好還有一段時間的訂閱，而且可以安裝在網關上，給遊戲主機加速，所以也不妨用用看。</p>



<h2>安裝路由器插件</h2>



<p>網易 UU 加速器有<a href="https://uu.163.com/router/direction.html" data-type="URL" data-id="https://uu.163.com/router/direction.html" target="_blank">官方的路由器插件</a>，支援 OpenWRT 系統，但需要登入 SSH 手動執行指令稿安裝。好在有人類打包了 <code><a href="https://github.com/coolsnowwolf/lede/commits/master/package/lean/luci-app-uugamebooster" data-type="URL" data-id="https://github.com/coolsnowwolf/lede/commits/master/package/lean/luci-app-uugamebooster" target="_blank">luci-app-uugamebooster</a></code>，可以直接安裝而不用執行內容繁多的指令稿。不過還是要保證 <code>kmod-tun</code> 已經安裝並正確工作。</p>



<h2>更新插件版本</h2>



<p>加速器的路由器插件實際上是不停更新的，有時候版本太舊是會導致綁定失敗。從官方下載最新的插件包：</p>



<pre><code>curl -s "http://router.uu.163.com/api/plugin?type=openwrt-x86_64" | jq .url | sed -E 's|/([^/"]+)|/{\1}|g' | xargs curl -o "#2-#3-#4.tar.gz"</code></pre>



<p>解壓縮以後將所有的檔案都拷貝到 OpenWRT 上的 <code>/usr/share/uugamebooster</code> 中並覆蓋所有。</p>



<h2>確認 LAN 接口橋接</h2>



<p>一切準備就緒，浅羽嘗試使用客戶端應用程式綁定路由器，但卻一直收到「該路由器型號暫不支持加速」的錯誤。可是路由器插件已經在正常運行了。正常的想法是打開調試開關檢查日誌，可是這個 <code>uuplugin</code> 怎麼都不說話，只好拆可執行檔看看：</p>



<pre><code>      uVar7 = 0;
      if (*(long *)(unaff_RBP + -0x12d70) != 0) {
        uVar7 = *(undefined8 *)(unaff_RBP + -0x12d78);
      }
                    /* try { // try from 00401476 to 0040159d has its CatchHandler @ 00401a39 */
      DAT_00903308 = FUN_0041cb77(uVar7,"br-lan");</code></pre>



<p>再對比一下安裝時候用的指令稿生成 S/N 的相關函式：</p>



<pre><code>print_sn() {
    local interface=""
    case "${ROUTER}" in
        ${ASUSWRT_MERLIN})
            interface="br0"
            ;;
        ${XIAOMI} | ${HIWIFI} | ${OPENWRT})
            interface="br-lan"
            ;;
        *)
            return 1
            ;;
    esac

    local info=$(ip addr show ${interface})
    local mac=$(echo "${info}" | grep "link/ether" | awk '{print $2}')
    echo "sn=${mac}"
    return 0
}</code></pre>



<p>可以注意到兩邊都會使用 <code>br-lan</code> 接口的 MAC 地址計算出一個 S/N 類似物。巧的是浅羽的 LAN 口是獨立的接口，沒有 <code>br-lan</code>，大約因此路由器插件無法正確生成 S/N，導致客戶端綁定失敗。解決方法也很簡單，在「接口」頁面上修改 LAN 端口，從「物理設定」中找到「橋接接口」勾選保存即可。等網路恢復後，在客戶端中就可以正常綁定路由器並開啓加速了。</p>



<h2>更多參考</h2>



<p>針對路由器不是 OpenWRT 或者無法安裝網易 UU 加速器路由器插件的情況，還可以選擇其他部署方式：</p>



<ul><li><a href="https://www.bilibili.com/read/cv9149050" target="_blank">OpenWrt 旁路由用上 UU 加速器</a></li><li><a href="https://www.bilibili.com/read/cv9624192" target="_blank">使用 Docker 部署 UU 加速器</a><ul><li><a href="https://github.com/DianQK/uuplugin" data-type="URL" data-id="https://github.com/DianQK/uuplugin" target="_blank">uuplugin docker 版本</a></li></ul></li></ul>
<img src="https://analytics.sakuragawa.moe/piwik.php?idsite=2&amp;rec=1&amp;url=https%3A%2F%2Fasaba.sakuragawa.moe%2F2021%2F10%2F%25e5%259c%25a8-openwrt-%25e4%25b8%258a%25e6%25ad%25a3%25e7%25a2%25ba%25e9%2596%258b%25e5%2595%2593%25e7%25b6%25b2%25e6%2598%2593-uu-%25e5%258a%25a0%25e9%2580%259f%25e5%2599%25a8%2F%3Fpk_campaign%3Dfeed%26pk_kwd%3D%2525e5%25259c%2525a8-openwrt-%2525e4%2525b8%25258a%2525e6%2525ad%2525a3%2525e7%2525a2%2525ba%2525e9%252596%25258b%2525e5%252595%252593%2525e7%2525b6%2525b2%2525e6%252598%252593-uu-%2525e5%25258a%2525a0%2525e9%252580%25259f%2525e5%252599%2525a8&amp;action_name=%E5%9C%A8+OpenWRT+%E4%B8%8A%E6%AD%A3%E7%A2%BA%E9%96%8B%E5%95%93%E7%B6%B2%E6%98%93+UU+%E5%8A%A0%E9%80%9F%E5%99%A8&amp;urlref=https%3A%2F%2Fasaba.sakuragawa.moe%2Ffeed%2F" /><div>
    <div>
    <a data-post-id="2380" data-trigger-type="like" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span>8    </span>
</div><div>
    <a data-post-id="2380" data-trigger-type="dislike" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span></span>
</div></div>]]></content>
        
        <summary type="html">
            
                           本篇爲「家庭網路」系列第 14 篇（全 15 篇）。                         入手 Linksys WRT1900AC 作爲 AP，刷 DD-WRT 固件          闖入聯通定製烽火 HG220G-U（WO-36） 
            
        </summary>
        
        <category term="折騰"/>
        
        <category term="#SafeForLife"/>
        
        <category term="Linux"/>
        
        <category term="Network"/>
        
        <category term="國產"/>
        
    </entry>
    
    <entry>
        <title>stty 控制输入流</title>
        <link href="https://www.ohyee.cc/post/note_stty"/>
        <id>https://www.ohyee.cc/post/note_stty</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-10-24T15:05:57+00:00</published>
        <updated>2021-10-24T15:05:57+00:00</updated>
        
        <content type="html"><![CDATA[在实现自己实现 docker exec 命令时，发现需要对输入流做一些特殊处理，这些处理都涉及了 stty 的一些内容]]></content>
        
        <summary type="html">
            
            在实现自己实现 docker exec 命令时，发现需要对输入流做一些特殊处理，这些处理都涉及了 stty 的一些内容
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Docker IPv6</title>
        <link href="https://www.whosneo.com/docker-ipv6/"/>
        <id>https://www.whosneo.com/docker-ipv6/</id>
        
        <author>
            <name>Neo</name>
        </author>
        
        <published>2021-10-15T14:31:23+00:00</published>
        <updated>2021-10-15T14:31:23+00:00</updated>
        
        <content type="html"><![CDATA[<p>最近在支持 IPv6 的 VPS 上面部署了一些 docker 应用，需要容器内的应用访问外部的 IPv6 地址，结果并不如我所想的那样简单，docker 仍需一些配置才可以。<span></span></p>
<h2>计算 IPv6 网段</h2>
<p>首先确定自己服务器的 IPv6 地址、后缀的大小，划分两个或两个以上的网段。<br />
例如服务器的 IPv6 地址的网段为 <code>fd00::/64</code>，则可以划分 <code>[fd00::/66] [fd00:0:0:4000::/66] [fd00:0:0:8000::/66] [fd00:0:0:c000::/66]</code> 四个子网，具体可以使用 <a href="http://www.gestioip.net/cgi-bin/subnet_calculator.cgi">这个页面</a> 来计算网段。</p>
<h2>IPv6 配置</h2>
<p>在<code>/etc/docker/daemon.json</code>文件中添加以下配置项，若文件不存在则需要新建：</p>
<pre><code>{
  "ipv6": true,
  "fixed-cidr-v6": "fd00::/66"
}
</code></pre>
<p>其中 IPv6 地址可以使用划分的第一个网段。<br />
再重启 docker 服务：</p>
<pre><code>sudo systemctl restart docker
</code></pre>
<h2>配置 ip6tables</h2>
<p>若系统中启用了 firewalld 则需要先禁用：</p>
<pre><code>sudo systemctl disable firewalld
sudo systemctl stop firewalld
</code></pre>
<p>若未安装 iptables，则：</p>
<pre><code>sudo yum install iptables-services -y
</code></pre>
<p>启用 iptables 与 ip6tables：</p>
<pre><code>sudo systemctl enable --now iptables
sudo systemctl enable --now ip6tables
</code></pre>
<p>添加 IPv6 转发配置：</p>
<pre><code>sudo ip6tables -t nat -I POSTROUTING -j MASQUERADE
sudo service ip6tables save
</code></pre>
<p>此时，docker 环境已配置完毕。</p>
<h2>使 docker-compose 支持</h2>
<p>若想使在 docker-compose.yml 文件中添加的容器支持 IPv6，则需要配置自定义网络：</p>
<pre><code>services:
        web:
                container_name: busybox
                image: busybox
                restart: always
                command: tail -f /dev/null
                networks:
                        - apps

networks:
        apps:
                enable_ipv6: true
                driver: bridge
                ipam:
                        driver: default
                        config:
                                - subnet: 172.16.99.0/24
                                  gateway: 172.16.99.1
                                - subnet: fd00:0:0:4000::/66
                                  gateway: fd00:0:0:4000::1
</code></pre>
<p>其中 IPv6 地址可以使用划分的第二个网段或者第三第四个网段。<br />
如此使用 docker-compose 创建的容器便可以使用 IPv6 了。</p>]]></content>
        
        <summary type="html">
            
            最近在支持 IPv6 的 VPS 上面部署了一些 docker 应用，需要容器内的应用访问外部的 IPv6 地址，结果并不如我所想的那样简单，docker 仍需一些配置才可以。 计算 IPv6 网段 首先确定自己服务器的 IPv6 地址、后缀的大小，划分两个或两个以上的网段。 
            
        </summary>
        
        <category term="Tips"/>
        
        <category term="Docker"/>
        
        <category term="IPv6"/>
        
    </entry>
    
    <entry>
        <title>Go io 流管道连接</title>
        <link href="https://www.ohyee.cc/post/note_go_io_pipe"/>
        <id>https://www.ohyee.cc/post/note_go_io_pipe</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-10-10T07:48:30+00:00</published>
        <updated>2021-10-10T07:48:30+00:00</updated>
        
        <content type="html"><![CDATA[将不同的 io 流连接起来]]></content>
        
        <summary type="html">
            
            将不同的 io 流连接起来
            
        </summary>
        
    </entry>
    
    <entry>
        <title>工作三个月的反思</title>
        <link href="https://icebound.cc/2021/10/10/work-3-month.html"/>
        <id>https://icebound.cc/2021/10/10/work-3-month.html</id>
        
        <author>
            <name>icebound</name>
        </author>
        
        <published>2021-10-09T16:28:24+00:00</published>
        <updated>2021-10-09T16:28:24+00:00</updated>
        
        <content type="html"><![CDATA[<p>最近一段时间同事离职了好几个，工作非常的忙，陪女朋友的时间少了，更不要提更博客，写技术文档了。下周要去上海出差 […]</p>
<p>The post <a href="https://icebound.cc/2021/10/10/work-3-month.html">工作三个月的反思</a> first appeared on <a href="https://icebound.cc">Icebound</a>.</p>]]></content>
        
        <summary type="html">
            
            最近一段时间同事离职了好几个，工作非常的忙，陪女朋友的时间少了，更不要提更博客，写技术文档了。下周要去上海出差 […] The post 工作三个月的反思 first appeared on Icebound.
            
        </summary>
        
        <category term="人生感悟"/>
        
        <category term="文章分类"/>
        
        <category term="工作"/>
        
    </entry>
    
    <entry>
        <title>使用 Lego 申请 Let‘s Encrypt SSL 证书</title>
        <link href="https://www.ohyee.cc/post/note_lets_encrypt_lego"/>
        <id>https://www.ohyee.cc/post/note_lets_encrypt_lego</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-10-05T13:08:10+00:00</published>
        <updated>2021-10-05T13:08:10+00:00</updated>
        
        <content type="html"><![CDATA[突然发现这个竟然没有博客留档]]></content>
        
        <summary type="html">
            
            突然发现这个竟然没有博客留档
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Gitea 添加 jupyter 支持</title>
        <link href="https://www.ohyee.cc/post/note_gitea_jupyter"/>
        <id>https://www.ohyee.cc/post/note_gitea_jupyter</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-10-04T08:52:42+00:00</published>
        <updated>2021-10-04T08:52:42+00:00</updated>
        
        <content type="html"><![CDATA[为 Gitea 添加 jupyter notebook 支持]]></content>
        
        <summary type="html">
            
            为 Gitea 添加 jupyter notebook 支持
            
        </summary>
        
    </entry>
    
    <entry>
        <title>在舊版 Mac OS X (macOS) 下更新 iOS 13+</title>
        <link href="https://asaba.sakuragawa.moe/2021/10/%e5%9c%a8%e8%88%8a%e7%89%88-mac-os-x-macos-%e4%b8%8b%e6%9b%b4%e6%96%b0-ios-13/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8%25e8%2588%258a%25e7%2589%2588-mac-os-x-macos-%25e4%25b8%258b%25e6%259b%25b4%25e6%2596%25b0-ios-13"/>
        <id>https://asaba.sakuragawa.moe/2021/10/%e5%9c%a8%e8%88%8a%e7%89%88-mac-os-x-macos-%e4%b8%8b%e6%9b%b4%e6%96%b0-ios-13/?pk_campaign=feed&amp;pk_kwd=%25e5%259c%25a8%25e8%2588%258a%25e7%2589%2588-mac-os-x-macos-%25e4%25b8%258b%25e6%259b%25b4%25e6%2596%25b0-ios-13</id>
        
        <author>
            <name>櫻川 浅羽</name>
        </author>
        
        <published>2021-10-02T10:27:06+00:00</published>
        <updated>2021-10-02T10:27:06+00:00</updated>
        
        <content type="html"><![CDATA[<h6><a href="https://markdown.apps.central.sakuragawa.cloud/NtZBhAhzRdimeXbobsqbVQ#tags-blog-draft"></a></h6>



<p>iOS 12 或者更新的版本要求系統版本至少爲 OS X 10.11.4 並 iTunes 12.8.0.150；而 iOS 13 則要求使用 iTunes 12.8.2.3，同時對系統版本提出了更高的要求。</p>



<p>通常情況下，更新 iOS 裝置會要求更新到最新的 macOS 及 iTunes。但實際上，只要 iTunes 滿足一個最低版本，也是一樣可以正常更新的：</p>



<ol><li>解鎖裝置並使用 USB 連線到 Mac</li><li>使用 Finder 轉到 <code>/System/Library/PrivateFrameworks/MobileDevice.framework/Versions/Current/Resources</code></li><li>雙擊運行資料夾中的 <code>MobileDeviceUpdater</code></li></ol>



<p>此時系統應該就會提示「需要更新軟件才可連線」。按照提示確認更新後，就可以按照一般更新的方式透過 iTunes 更新 iOS 裝置了。</p>



<ul><li><img src="https://asaba.sakuragawa.moe/wp-content/uploads/2021/10/螢幕快照-2021-04-27-03.21.17.png" /></li></ul>



<blockquote><p>iTunes is not recognizing my iPhone (iOS 13). I have an Early 2011 MacBook Pro and the highest version it can update to is High Sierra. So is High Sierra not compatible with iOS 13?</p><a href="https://discussions.apple.com/thread/250822411" target="_blank">Apple Communities: iOS 13 iPhone not compatible with iTunes on High Sierra?</a></blockquote>



<p></p>
<img src="https://analytics.sakuragawa.moe/piwik.php?idsite=2&amp;rec=1&amp;url=https%3A%2F%2Fasaba.sakuragawa.moe%2F2021%2F10%2F%25e5%259c%25a8%25e8%2588%258a%25e7%2589%2588-mac-os-x-macos-%25e4%25b8%258b%25e6%259b%25b4%25e6%2596%25b0-ios-13%2F%3Fpk_campaign%3Dfeed%26pk_kwd%3D%2525e5%25259c%2525a8%2525e8%252588%25258a%2525e7%252589%252588-mac-os-x-macos-%2525e4%2525b8%25258b%2525e6%25259b%2525b4%2525e6%252596%2525b0-ios-13&amp;action_name=%E5%9C%A8%E8%88%8A%E7%89%88+Mac+OS+X+%28macOS%29+%E4%B8%8B%E6%9B%B4%E6%96%B0+iOS+13%2B&amp;urlref=https%3A%2F%2Fasaba.sakuragawa.moe%2Ffeed%2F" /><div>
    <div>
    <a data-post-id="2359" data-trigger-type="like" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span>    </span>
</div><div>
    <a data-post-id="2359" data-trigger-type="dislike" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span></span>
</div></div>]]></content>
        
        <summary type="html">
            
                iOS 12 或者更新的版本要求系統版本至少爲 OS X 10.11.4 並 iTunes 12.8.0.150；而 iOS 13 則要求使用 iTunes 12.8.2.3，同時對系統版本提出了更高的要求。    通常情況下，更新 iOS 裝置會要求更新到最新的 ma
            
        </summary>
        
        <category term="折騰"/>
        
        <category term="#SafeForLife"/>
        
        <category term="macOS"/>
        
        <category term="數位電子"/>
        
    </entry>
    
    <entry>
        <title>Goroutine 池</title>
        <link href="https://www.ohyee.cc/post/note_goroutine_pool"/>
        <id>https://www.ohyee.cc/post/note_goroutine_pool</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-10-02T05:57:40+00:00</published>
        <updated>2021-10-02T05:57:40+00:00</updated>
        
        <content type="html"><![CDATA[实现一个 goroutine 池，避免大量创建 goroutine]]></content>
        
        <summary type="html">
            
            实现一个 goroutine 池，避免大量创建 goroutine
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LRU + Expired Map</title>
        <link href="https://www.ohyee.cc/post/note_lru_expired_map"/>
        <id>https://www.ohyee.cc/post/note_lru_expired_map</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-10-02T05:52:00+00:00</published>
        <updated>2021-10-02T05:52:00+00:00</updated>
        
        <content type="html"><![CDATA[实现一个支持超过容量自动删除，超时自动删除的 Map 作为缓存]]></content>
        
        <summary type="html">
            
            实现一个支持超过容量自动删除，超时自动删除的 Map 作为缓存
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Google Play 商店能访问无限等待下载</title>
        <link href="https://www.ohyee.cc/post/note_google_play_store"/>
        <id>https://www.ohyee.cc/post/note_google_play_store</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-09-29T09:11:08+00:00</published>
        <updated>2021-09-29T09:11:08+00:00</updated>
        
        <content type="html"><![CDATA[Google Play 商店无限等待不下载解决]]></content>
        
        <summary type="html">
            
            Google Play 商店无限等待不下载解决
            
        </summary>
        
    </entry>
    
    <entry>
        <title>修復 Discuz! 從 7.2 轉換到 X 時的資料庫錯誤</title>
        <link href="https://asaba.sakuragawa.moe/2021/09/%e4%bf%ae%e5%be%a9-discuz-%e5%be%9e-7-2-%e8%bd%89%e6%8f%9b%e5%88%b0-x-%e6%99%82%e7%9a%84%e8%b3%87%e6%96%99%e5%ba%ab%e9%8c%af%e8%aa%a4/?pk_campaign=feed&amp;pk_kwd=%25e4%25bf%25ae%25e5%25be%25a9-discuz-%25e5%25be%259e-7-2-%25e8%25bd%2589%25e6%258f%259b%25e5%2588%25b0-x-%25e6%2599%2582%25e7%259a%2584%25e8%25b3%2587%25e6%2596%2599%25e5%25ba%25ab%25e9%258c%25af%25e8%25aa%25a4"/>
        <id>https://asaba.sakuragawa.moe/2021/09/%e4%bf%ae%e5%be%a9-discuz-%e5%be%9e-7-2-%e8%bd%89%e6%8f%9b%e5%88%b0-x-%e6%99%82%e7%9a%84%e8%b3%87%e6%96%99%e5%ba%ab%e9%8c%af%e8%aa%a4/?pk_campaign=feed&amp;pk_kwd=%25e4%25bf%25ae%25e5%25be%25a9-discuz-%25e5%25be%259e-7-2-%25e8%25bd%2589%25e6%258f%259b%25e5%2588%25b0-x-%25e6%2599%2582%25e7%259a%2584%25e8%25b3%2587%25e6%2596%2599%25e5%25ba%25ab%25e9%258c%25af%25e8%25aa%25a4</id>
        
        <author>
            <name>櫻川 浅羽</name>
        </author>
        
        <published>2021-09-16T12:22:44+00:00</published>
        <updated>2021-09-16T12:22:44+00:00</updated>
        
        <content type="html"><![CDATA[<h2><a href="https://markdown.apps.central.sakuragawa.cloud/#%E8%BD%89%E6%8F%9B%E5%B7%A5%E5%85%B7%E6%8F%90%E7%A4%BA%E9%87%8D%E8%A4%87%E4%B8%BB%E9%8D%B5"></a>轉換工具提示重複主鍵</h2>



<p>使用轉換工具進行轉換時，會遇到莫名的主鍵重複錯誤，提示 <code>#1062 - Duplicate entry '...' for key PRIMARY</code>。一番找尋，相關的結果都說「刪掉了就好了」，問題是刪了一個又出一個，最後逼得淺羽直接用 SQL 批量刪了五六千條，下一個還是有問題。</p>



<p>然而原來的資料庫也是 MariaDB，也指定了 PRIMARY KEY，怎麼會重複呢？</p>



<blockquote><p>囧,这个是转换程序的一个Bug,<br />我开始的想法和你一样,删除重复的记录,<br />结果没用,其它记录又会出错,<br />后来才知道是因为转换程序里的SQL语句没有order by,<br />所以…</p>CzBiX 2011-04-24<br /><a href="https://lengxx.com/post/157.html" target="_blank">Discuz7.2升级至DX1.5数据表转换时出错的解决方法</a></blockquote>



<p>知道了原理，修復起來就比較簡單了：</p>



<pre><code>--- Discuz_X1.5_SC_UTF8/utility/convert/source/d7.2_x1.5/table/posts.php    2011-12-20 16:58:50.000000000 +0800
+++ bbs/convert/source/d7.2_x1.5/table/posts.php                            (new)
@@ -20,7 +20,7 @@
        $db_target-&gt;query("TRUNCATE $table_target");
 }

-$query = $db_source-&gt;query("SELECT * FROM $table_source WHERE pid&gt;'$start' LIMIT $limit");
+$query = $db_source-&gt;query("SELECT * FROM $table_source WHERE pid&gt;'$start' ORDER BY pid ASC LIMIT $limit");
 while($row = $db_source-&gt;fetch_array($query)) {
        $nextid = $row['pid'];
        $row = daddslashes($row, 1);</code></pre>



<p>保存，再執行轉換程序，這次就很順利了。</p>
<img src="https://analytics.sakuragawa.moe/piwik.php?idsite=2&amp;rec=1&amp;url=https%3A%2F%2Fasaba.sakuragawa.moe%2F2021%2F09%2F%25e4%25bf%25ae%25e5%25be%25a9-discuz-%25e5%25be%259e-7-2-%25e8%25bd%2589%25e6%258f%259b%25e5%2588%25b0-x-%25e6%2599%2582%25e7%259a%2584%25e8%25b3%2587%25e6%2596%2599%25e5%25ba%25ab%25e9%258c%25af%25e8%25aa%25a4%2F%3Fpk_campaign%3Dfeed%26pk_kwd%3D%2525e4%2525bf%2525ae%2525e5%2525be%2525a9-discuz-%2525e5%2525be%25259e-7-2-%2525e8%2525bd%252589%2525e6%25258f%25259b%2525e5%252588%2525b0-x-%2525e6%252599%252582%2525e7%25259a%252584%2525e8%2525b3%252587%2525e6%252596%252599%2525e5%2525ba%2525ab%2525e9%25258c%2525af%2525e8%2525aa%2525a4&amp;action_name=%E4%BF%AE%E5%BE%A9+Discuz%21+%E5%BE%9E+7.2+%E8%BD%89%E6%8F%9B%E5%88%B0+X+%E6%99%82%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB%E9%8C%AF%E8%AA%A4&amp;urlref=https%3A%2F%2Fasaba.sakuragawa.moe%2Ffeed%2F" /><div>
    <div>
    <a data-post-id="2343" data-trigger-type="like" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span>    </span>
</div><div>
    <a data-post-id="2343" data-trigger-type="dislike" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span></span>
</div></div>]]></content>
        
        <summary type="html">
            
            轉換工具提示重複主鍵    使用轉換工具進行轉換時，會遇到莫名的主鍵重複錯誤，提示 #1062 - Duplicate entry &#39;...&#39; for key PRIMARY。一番找尋，相關的結果都說「刪掉了就好了」，問題是刪了一個又出一個，最後逼得淺羽直接用 SQL 批量刪了
            
        </summary>
        
        <category term="折騰"/>
        
        <category term="#SafeForLife"/>
        
        <category term="國產"/>
        
    </entry>
    
    <entry>
        <title>犯水災和丟東西</title>
        <link href="https://asaba.sakuragawa.moe/2021/09/%e7%8a%af%e6%b0%b4%e7%81%bd%e5%92%8c%e4%b8%9f%e6%9d%b1%e8%a5%bf/?pk_campaign=feed&amp;pk_kwd=%25e7%258a%25af%25e6%25b0%25b4%25e7%2581%25bd%25e5%2592%258c%25e4%25b8%259f%25e6%259d%25b1%25e8%25a5%25bf"/>
        <id>https://asaba.sakuragawa.moe/2021/09/%e7%8a%af%e6%b0%b4%e7%81%bd%e5%92%8c%e4%b8%9f%e6%9d%b1%e8%a5%bf/?pk_campaign=feed&amp;pk_kwd=%25e7%258a%25af%25e6%25b0%25b4%25e7%2581%25bd%25e5%2592%258c%25e4%25b8%259f%25e6%259d%25b1%25e8%25a5%25bf</id>
        
        <author>
            <name>櫻川 浅羽</name>
        </author>
        
        <published>2021-09-15T15:59:55+00:00</published>
        <updated>2021-09-15T15:59:55+00:00</updated>
        
        <content type="html"><![CDATA[<p>近來數月都極少寫網誌，主要是年初搬到了小漁村，忙碌的安家過後便開始懶散；期間斷續寫了不少草稿，但最終或只有主幹、或缺少配圖，都未能成文。</p>



<p>小漁村的夏季雨水連綿。本來雨季氣候是浅羽這隻南方貓咪從小適應的，大雨時節窩在家裏中聽雨安睡也很愜意。當時浅羽和傻老婆尚在睡夢中，直至被熱醒了，才發現空調好像不工作了，進而發現全屋都斷電了。摸到了門後的空气開關，打算重設一下，但只能閉路照明供電的線路，電器線路的始終合不上，估計是哪裏短路了。繞着客廳檢查了一圈似乎都沒發現什麼問題；正當一籌莫展，走進工作室準備坐一坐冷靜冷靜時，才發現事情的起因——因爲雨勢急大，不巧鄰居家又安裝了角度比較準確的雨棚，因此一晚大雨過後，半掩的窗戶竟然也進了不少水，以至於窗臺像洗過一般。淋進窗臺的雨水順着牆壁流下，浸溼了低處的插座，因此造成了空氣開關跳脫。偏偏浅羽的工作桌還是靠着有窗的一邊，顯示器、耳擴、手機外加幾本書都放在上，結果當然也免不了一起被淋溼。好在最後清點下來，數位裝置基本沒有問題，手機也只是接埠有些進水。書本當然是不可逆的損害，但用紙吸水晾乾後倒也還能正常讀，一時也不能計較太多了。只是窗戶是再也不敢常開了；在這多雨的地方，偶爾開一下也是提心吊膽。</p>



<p>正所謂「屋漏偏逢連夜雨」，年邁的空調本就有些機械問題，又突然開始滴水。可是空調貼着牆，正下方也是桌面，浅羽只好先用容器接住滴水；有時滴水量大，還需要放塊軟布防止濺起水花。這滴水的問題，按說也是空調常見病，發作起來也是時斷時續：往往連續幾天都沒問題，突然毫無預兆地就開始滴水。可氣的是每每想要找修理工上門時，空調又不滴水了，而且又能好上幾天。這樣一來二去的，浅羽也就犯懶，想着相安無事、得過且過了；卻不想某日夜裏空調突然又開始施水魔法，打溼了桌子放檯燈的一角，順帶着連檯燈一起報銷了。</p>



<p>到此是犯水衝，雖然多少有些損失，但尚且還能安慰自己是破財消災。然而隨後又丟了不少東西。五一剛過，浅羽突然發現一台 VPS 無法連線，於是立即提交工單。隨後浅羽發現服務確已超過續費期限 2 天，但卻未收到服務商的任何郵件，因此立即向服務商反饋郵件系統問題並要求恢復服務。服務商的反應也很迅速，立即告訴浅羽帳單逾期後 1 日即會刪除服務並無法恢復，同時表示系統已經發出郵件，是浅羽自己未及時檢查郵件；然而浅羽的郵箱幾乎每日都有在使用，並且查看郵件紀錄後發現服務商已有逾半年未能成功向 Gmail 投遞郵件。結果是服務商裝死，雖然從工單的回覆通知可以發現他們偷偷修復了郵件系統的投遞問題，但對於自己造成的問題不做任何表態。</p>



<p>禍不單行。七月末的一日，浅羽剛剛回覆完網誌上的一條留言，Jetpack 突然提示網誌「處於離線狀態」了，同時存放網誌的主機也無法登入，相信是遇到暫時的網路穩定性問題。然而等了逾四小時未恢復，浅羽不得不又緊張起來，給服務商開工單。結果等待數小時，某位客服竟然直接回覆了一句：「給你重裝系統可以嗎？」在隨後數週，浅羽才慢慢瞭解整件事情的背景：服務商正在更換虛擬化平臺，並限時要求客戶自行遷移資料，遷移完成後會關閉原有的主機。根據服務商解釋，在此過程中，員工誤將浅羽的主機關閉。至於恢復時間，「如果关机是找不到了」「资料还在」「要回数据没这么快」。幸好網誌是有定期備份資料，內容不會丟失，但會損失部分留言，因此還是有限讓服務商處理。最後經過 24 天的催促和等待，服務商終於找回了實例；而恢復後浅羽第一件做的事，就是遷移到更加大牌的服務商處。雖然對於運營商來說，浅羽只是一個小客戶、這只是一個小失誤，但一旦信任出現問題，就很難再有修補的機會了。</p>



<p>還有前些日子，出門辦事，剛下飛機就接到家裏來電，說是有一隻貓跑了。浅羽當時就有些愣了，一面是擔心一面是不甘，在機場的洗手間舉着手機打了十幾分鍾電話。幸好後來發現是家裏來了生人，貓太害怕，躲到洗衣機後人找不到的地方去了。再後來在醫院，進出診室時太匆忙，一不留神手機也丟了，問了兩天失物招領也沒有說撿到的，於是就去派出所報了案。派出所很客氣地給了一張「被偷竊案」的回執，當然到現在也還沒有找到。</p>



<p>這一篇雜七雜八的，大概就是浅羽近幾月的狀況了。總之各方面似乎都不順心，但倒也還能過。</p>



<h6><a href="https://markdown.apps.central.sakuragawa.cloud/#tags-blog-draft"></a></h6>
<img src="https://analytics.sakuragawa.moe/piwik.php?idsite=2&amp;rec=1&amp;url=https%3A%2F%2Fasaba.sakuragawa.moe%2F2021%2F09%2F%25e7%258a%25af%25e6%25b0%25b4%25e7%2581%25bd%25e5%2592%258c%25e4%25b8%259f%25e6%259d%25b1%25e8%25a5%25bf%2F%3Fpk_campaign%3Dfeed%26pk_kwd%3D%2525e7%25258a%2525af%2525e6%2525b0%2525b4%2525e7%252581%2525bd%2525e5%252592%25258c%2525e4%2525b8%25259f%2525e6%25259d%2525b1%2525e8%2525a5%2525bf&amp;action_name=%E7%8A%AF%E6%B0%B4%E7%81%BD%E5%92%8C%E4%B8%9F%E6%9D%B1%E8%A5%BF&amp;urlref=https%3A%2F%2Fasaba.sakuragawa.moe%2Ffeed%2F" /><div>
    <div>
    <a data-post-id="2341" data-trigger-type="like" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span>3    </span>
</div><div>
    <a data-post-id="2341" data-trigger-type="dislike" data-restriction="cookie" data-already-liked="0">
                           <i></i>
                    </a>
    <span></span>
</div></div>]]></content>
        
        <summary type="html">
            
            近來數月都極少寫網誌，主要是年初搬到了小漁村，忙碌的安家過後便開始懶散；期間斷續寫了不少草稿，但最終或只有主幹、或缺少配圖，都未能成文。    小漁村的夏季雨水連綿。本來雨季氣候是浅羽這隻南方貓咪從小適應的，大雨時節窩在家裏中聽雨安睡也很愜意。當時浅羽和傻老婆尚在睡夢中，直至被
            
        </summary>
        
        <category term="日常 / 流水帳"/>
        
        <category term="#SafeForLife"/>
        
        <category term="吐槽"/>
        
    </entry>
    
    <entry>
        <title>Linux Shell</title>
        <link href="https://www.ohyee.cc/post/note_linux_shell"/>
        <id>https://www.ohyee.cc/post/note_linux_shell</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-09-10T12:11:24+00:00</published>
        <updated>2021-09-10T12:11:24+00:00</updated>
        
        <content type="html"><![CDATA[记一下可能用得到的 Linux 命令]]></content>
        
        <summary type="html">
            
            记一下可能用得到的 Linux 命令
            
        </summary>
        
    </entry>
    
    <entry>
        <title>博客订阅功能重构</title>
        <link href="https://www.ohyee.cc/post/note_blotter_spider"/>
        <id>https://www.ohyee.cc/post/note_blotter_spider</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-09-10T12:08:27+00:00</published>
        <updated>2021-09-10T12:08:27+00:00</updated>
        
        <content type="html"><![CDATA[一个提取页面里文章部分的思路，有一说一这比写个论文有意思多了]]></content>
        
        <summary type="html">
            
            一个提取页面里文章部分的思路，有一说一这比写个论文有意思多了
            
        </summary>
        
    </entry>
    
    <entry>
        <title>氮化镓充电器测评</title>
        <link href="https://www.ohyee.cc/post/evaluation_gan"/>
        <id>https://www.ohyee.cc/post/evaluation_gan</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-09-01T15:13:03+00:00</published>
        <updated>2021-09-01T15:13:03+00:00</updated>
        
        <content type="html"><![CDATA[测试了两款不同的氮化镓充电器]]></content>
        
        <summary type="html">
            
            测试了两款不同的氮化镓充电器
            
        </summary>
        
    </entry>
    
    <entry>
        <title>博客 Docker 化 Part Ⅰ</title>
        <link href="https://www.ohyee.cc/post/note_blotter_docker_1"/>
        <id>https://www.ohyee.cc/post/note_blotter_docker_1</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-08-28T19:15:03+00:00</published>
        <updated>2021-08-28T19:15:03+00:00</updated>
        
        <content type="html"><![CDATA[博客 Docker 化部署第一部分 —— 基本功能实现]]></content>
        
        <summary type="html">
            
            博客 Docker 化部署第一部分 —— 基本功能实现
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Go 1.17 泛型！</title>
        <link href="https://www.ohyee.cc/post/note_go1.17_generic"/>
        <id>https://www.ohyee.cc/post/note_go1.17_generic</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-08-27T18:37:12+00:00</published>
        <updated>2021-08-27T18:37:12+00:00</updated>
        
        <content type="html"><![CDATA[Go 1.17 已经支持泛型了！]]></content>
        
        <summary type="html">
            
            Go 1.17 已经支持泛型了！
            
        </summary>
        
    </entry>
    
    <entry>
        <title>随机数与并发</title>
        <link href="https://www.ohyee.cc/post/note_random"/>
        <id>https://www.ohyee.cc/post/note_random</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-08-13T09:32:13+00:00</published>
        <updated>2021-08-13T09:32:13+00:00</updated>
        
        <content type="html"><![CDATA[随便地使用随机数，可能会导致性能问题]]></content>
        
        <summary type="html">
            
            随便地使用随机数，可能会导致性能问题
            
        </summary>
        
    </entry>
    
    <entry>
        <title>白嫖阿里云函数计算实现 V2Ray、Clash 订阅转换</title>
        <link href="https://www.ohyee.cc/post/note_lambda_v2ray_clash"/>
        <id>https://www.ohyee.cc/post/note_lambda_v2ray_clash</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-07-31T17:01:52+00:00</published>
        <updated>2021-07-31T17:01:52+00:00</updated>
        
        <content type="html"><![CDATA[白嫖阿里云函数计算，实现聚合各个“机场”订阅链接、自建 subconverter 转换订阅]]></content>
        
        <summary type="html">
            
            白嫖阿里云函数计算，实现聚合各个“机场”订阅链接、自建 subconverter 转换订阅
            
        </summary>
        
    </entry>
    
    <entry>
        <title>从读锁切换至写锁</title>
        <link href="https://www.ohyee.cc/post/note_read_lock_to_write_lock"/>
        <id>https://www.ohyee.cc/post/note_read_lock_to_write_lock</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-07-22T17:05:35+00:00</published>
        <updated>2021-07-22T17:05:35+00:00</updated>
        
        <content type="html"><![CDATA[为什么在读锁切换写锁时需要重新检查状态]]></content>
        
        <summary type="html">
            
            为什么在读锁切换写锁时需要重新检查状态
            
        </summary>
        
    </entry>
    
    <entry>
        <title>TLS 协议流程</title>
        <link href="https://www.ohyee.cc/post/note_tls_protocol"/>
        <id>https://www.ohyee.cc/post/note_tls_protocol</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-07-05T13:56:42+00:00</published>
        <updated>2021-07-05T13:56:42+00:00</updated>
        
        <content type="html"><![CDATA[SSL/TLS 协议的简单流程]]></content>
        
        <summary type="html">
            
            SSL/TLS 协议的简单流程
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Suricata 与 Kafka 连接</title>
        <link href="https://www.ohyee.cc/post/note_suricata_kafka"/>
        <id>https://www.ohyee.cc/post/note_suricata_kafka</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-05-13T10:10:57+00:00</published>
        <updated>2021-05-13T10:10:57+00:00</updated>
        
        <content type="html"><![CDATA[将 Suricata 输出至 Kafka]]></content>
        
        <summary type="html">
            
            将 Suricata 输出至 Kafka
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 137. 只出现一次的数字 II</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_137"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_137</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-04-30T17:03:38+00:00</published>
        <updated>2021-04-30T17:03:38+00:00</updated>
        
        <content type="html"><![CDATA[一道甚至涉及数电的算法题]]></content>
        
        <summary type="html">
            
            一道甚至涉及数电的算法题
            
        </summary>
        
    </entry>
    
    <entry>
        <title>SMTP 协议抓包理解</title>
        <link href="https://www.ohyee.cc/post/note_smtp"/>
        <id>https://www.ohyee.cc/post/note_smtp</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-04-29T06:50:01+00:00</published>
        <updated>2021-04-29T06:50:01+00:00</updated>
        
        <content type="html"><![CDATA[对 SMTP 协议进行抓包理解]]></content>
        
        <summary type="html">
            
            对 SMTP 协议进行抓包理解
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Kafka 部署和基础使用</title>
        <link href="https://www.ohyee.cc/post/note_kafka"/>
        <id>https://www.ohyee.cc/post/note_kafka</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-04-22T09:20:43+00:00</published>
        <updated>2021-04-22T09:20:43+00:00</updated>
        
        <content type="html"><![CDATA[Docker 下启动 Kafka，并使用 librdkafka 进行测试]]></content>
        
        <summary type="html">
            
            Docker 下启动 Kafka，并使用 librdkafka 进行测试
            
        </summary>
        
    </entry>
    
    <entry>
        <title>WSL Docker 抓包</title>
        <link href="https://www.ohyee.cc/post/note_docker_tcpdump"/>
        <id>https://www.ohyee.cc/post/note_docker_tcpdump</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-04-08T03:30:53+00:00</published>
        <updated>2021-04-08T03:30:53+00:00</updated>
        
        <content type="html"><![CDATA[Docker 内抓宿主机的数据包]]></content>
        
        <summary type="html">
            
            Docker 内抓宿主机的数据包
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Mermaid 使用</title>
        <link href="https://www.ohyee.cc/post/note_mermaid"/>
        <id>https://www.ohyee.cc/post/note_mermaid</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-04-06T06:50:19+00:00</published>
        <updated>2021-04-06T06:50:19+00:00</updated>
        
        <content type="html"><![CDATA[博客添加了 mermaid 的支持]]></content>
        
        <summary type="html">
            
            博客添加了 mermaid 的支持
            
        </summary>
        
    </entry>
    
    <entry>
        <title>在 Go 中运行 JS 代码</title>
        <link href="https://www.ohyee.cc/post/note_go_js"/>
        <id>https://www.ohyee.cc/post/note_go_js</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-04-06T04:51:23+00:00</published>
        <updated>2021-04-06T04:51:23+00:00</updated>
        
        <content type="html"><![CDATA[在 Golang 中，执行 JavaScript 代码]]></content>
        
        <summary type="html">
            
            在 Golang 中，执行 JavaScript 代码
            
        </summary>
        
    </entry>
    
    <entry>
        <title>阿里笔试 20210326</title>
        <link href="https://www.ohyee.cc/post/answer_ali_20210326"/>
        <id>https://www.ohyee.cc/post/answer_ali_20210326</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-27T08:56:02+00:00</published>
        <updated>2021-03-27T08:56:02+00:00</updated>
        
        <content type="html"><![CDATA[第二题有点难，需要多次优化。感觉阿里区分度做的并不好]]></content>
        
        <summary type="html">
            
            第二题有点难，需要多次优化。感觉阿里区分度做的并不好
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 456.132 模式</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_456"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_456</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-24T15:32:38+00:00</published>
        <updated>2021-03-24T15:32:38+00:00</updated>
        
        <content type="html"><![CDATA[虽然是道中等题，但是是没见过的套路]]></content>
        
        <summary type="html">
            
            虽然是道中等题，但是是没见过的套路
            
        </summary>
        
    </entry>
    
    <entry>
        <title>面试笔记留档</title>
        <link href="https://www.ohyee.cc/post/note_for_interview"/>
        <id>https://www.ohyee.cc/post/note_for_interview</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-23T12:58:29+00:00</published>
        <updated>2021-03-23T12:58:29+00:00</updated>
        
        <content type="html"><![CDATA[未整理，纯留档]]></content>
        
        <summary type="html">
            
            未整理，纯留档
            
        </summary>
        
    </entry>
    
    <entry>
        <title>什么是跨域</title>
        <link href="https://www.ohyee.cc/post/note_cors"/>
        <id>https://www.ohyee.cc/post/note_cors</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-23T12:45:07+00:00</published>
        <updated>2021-03-23T12:45:07+00:00</updated>
        
        <content type="html"><![CDATA[为什么要有跨域，如何跨域]]></content>
        
        <summary type="html">
            
            为什么要有跨域，如何跨域
            
        </summary>
        
    </entry>
    
    <entry>
        <title>TCP 握手和挥手进一步理解</title>
        <link href="https://www.ohyee.cc/post/note_tcp_handshake"/>
        <id>https://www.ohyee.cc/post/note_tcp_handshake</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-23T12:38:05+00:00</published>
        <updated>2021-03-23T12:38:05+00:00</updated>
        
        <content type="html"><![CDATA[三次握手和四次挥手细节，为什么是三次而不是两次、四次，最后一次挥手等待 2MSL]]></content>
        
        <summary type="html">
            
            三次握手和四次挥手细节，为什么是三次而不是两次、四次，最后一次挥手等待 2MSL
            
        </summary>
        
    </entry>
    
    <entry>
        <title>字节笔试 20210321</title>
        <link href="https://www.ohyee.cc/post/answer_zijie_20210321"/>
        <id>https://www.ohyee.cc/post/answer_zijie_20210321</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-22T09:25:43+00:00</published>
        <updated>2021-03-22T09:25:43+00:00</updated>
        
        <content type="html"><![CDATA[这场好难啊，感觉吊打我那一场]]></content>
        
        <summary type="html">
            
            这场好难啊，感觉吊打我那一场
            
        </summary>
        
    </entry>
    
    <entry>
        <title>阿里笔试 20210319</title>
        <link href="https://www.ohyee.cc/post/answer_ali_20210319"/>
        <id>https://www.ohyee.cc/post/answer_ali_20210319</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-19T15:29:47+00:00</published>
        <updated>2021-03-19T15:29:47+00:00</updated>
        
        <content type="html"><![CDATA[瞅了眼今天的题，感觉比我参加的那一场简单点]]></content>
        
        <summary type="html">
            
            瞅了眼今天的题，感觉比我参加的那一场简单点
            
        </summary>
        
    </entry>
    
    <entry>
        <title>在 Spring 内做 JOIN 联查</title>
        <link href="https://www.ohyee.cc/post/note_spring_jpa_join"/>
        <id>https://www.ohyee.cc/post/note_spring_jpa_join</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-19T04:38:15+00:00</published>
        <updated>2021-03-19T04:38:15+00:00</updated>
        
        <content type="html"><![CDATA[一行在 MySQL 里简单的查询，在 ORM 中并不是那么“好写”]]></content>
        
        <summary type="html">
            
            一行在 MySQL 里简单的查询，在 ORM 中并不是那么“好写”
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 的奇怪 Bug 记录</title>
        <link href="https://www.ohyee.cc/post/writting_leetcode_bug"/>
        <id>https://www.ohyee.cc/post/writting_leetcode_bug</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-11T09:58:56+00:00</published>
        <updated>2021-03-11T09:58:56+00:00</updated>
        
        <content type="html"><![CDATA[刷题刷出来 LeetCode 的 bug]]></content>
        
        <summary type="html">
            
            刷题刷出来 LeetCode 的 bug
            
        </summary>
        
    </entry>
    
    <entry>
        <title>阿里笔试 20210308</title>
        <link href="https://www.ohyee.cc/post/answer_ali_20210308"/>
        <id>https://www.ohyee.cc/post/answer_ali_20210308</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-08T15:03:33+00:00</published>
        <updated>2021-03-08T15:03:33+00:00</updated>
        
        <content type="html"><![CDATA[20210308 的阿里笔试，输在一波心态爆炸]]></content>
        
        <summary type="html">
            
            20210308 的阿里笔试，输在一波心态爆炸
            
        </summary>
        
    </entry>
    
    <entry>
        <title>字节笔试 20210307</title>
        <link href="https://www.ohyee.cc/post/answers_zijie_20210307"/>
        <id>https://www.ohyee.cc/post/answers_zijie_20210307</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-07T17:44:26+00:00</published>
        <updated>2021-03-07T17:44:26+00:00</updated>
        
        <content type="html"><![CDATA[4 道不算特别难的题（起码 1、3、4 都有印象在 LeetCode 见过类似的题目，虽然不完全一样，但是保证了有基本思路）
不过真写起来，也挺麻烦的]]></content>
        
        <summary type="html">
            
            4 道不算特别难的题（起码 1、3、4 都有印象在 LeetCode 见过类似的题目，虽然不完全一样，但是保证了有基本思路） 不过真写起来，也挺麻烦的
            
        </summary>
        
    </entry>
    
    <entry>
        <title>阿里笔试 20210306</title>
        <link href="https://www.ohyee.cc/post/answer_ali_20210306"/>
        <id>https://www.ohyee.cc/post/answer_ali_20210306</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-03-06T17:34:49+00:00</published>
        <updated>2021-03-06T17:34:49+00:00</updated>
        
        <content type="html"><![CDATA[因为电脑有问题，所以没参加这一次笔试，不过还是补一下题以备下次
耗时 58 分钟（不过真正笔试可能会更紧张，而且实际题目可能更难以理解）]]></content>
        
        <summary type="html">
            
            因为电脑有问题，所以没参加这一次笔试，不过还是补一下题以备下次 耗时 58 分钟（不过真正笔试可能会更紧张，而且实际题目可能更难以理解）
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 1178.猜字谜</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_1178"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_1178</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-02-26T09:29:27+00:00</published>
        <updated>2021-02-26T09:29:27+00:00</updated>
        
        <content type="html"><![CDATA[null]]></content>
        
        <summary type="html">
            
            null
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Tomcat 非正常操作</title>
        <link href="https://www.ohyee.cc/post/note_unusual_tomcat"/>
        <id>https://www.ohyee.cc/post/note_unusual_tomcat</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-02-21T10:10:57+00:00</published>
        <updated>2021-02-21T10:10:57+00:00</updated>
        
        <content type="html"><![CDATA[一些与常规操作不同的 Tomcat 操作]]></content>
        
        <summary type="html">
            
            一些与常规操作不同的 Tomcat 操作
            
        </summary>
        
    </entry>
    
    <entry>
        <title>尝试解答 《Go 语言笔试面试题汇总》</title>
        <link href="https://www.ohyee.cc/post/note_go_qa"/>
        <id>https://www.ohyee.cc/post/note_go_qa</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-02-17T12:57:31+00:00</published>
        <updated>2021-02-17T12:57:31+00:00</updated>
        
        <content type="html"><![CDATA[一套 Go 语言的面试题目，根据自己的理解结合网络答案给出一份结果]]></content>
        
        <summary type="html">
            
            一套 Go 语言的面试题目，根据自己的理解结合网络答案给出一份结果
            
        </summary>
        
    </entry>
    
    <entry>
        <title>探讨 Go 错误机制</title>
        <link href="https://www.ohyee.cc/post/post_go_error_handle"/>
        <id>https://www.ohyee.cc/post/post_go_error_handle</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-02-15T16:37:49+00:00</published>
        <updated>2021-02-15T16:37:49+00:00</updated>
        
        <content type="html"><![CDATA[在检索相关问题时，看到很多人对 Go 错误机制褒贬不一，所以对其进行分析。]]></content>
        
        <summary type="html">
            
            在检索相关问题时，看到很多人对 Go 错误机制褒贬不一，所以对其进行分析。
            
        </summary>
        
    </entry>
    
    <entry>
        <title>乌尔德女神作战计划——Git 历史修改</title>
        <link href="https://www.ohyee.cc/post/note_git_history_change"/>
        <id>https://www.ohyee.cc/post/note_git_history_change</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-02-07T16:32:08+00:00</published>
        <updated>2021-02-07T16:32:08+00:00</updated>
        
        <content type="html"><![CDATA[由于误操作，需要把已经被删除的记录附加到当前的所有提交前面]]></content>
        
        <summary type="html">
            
            由于误操作，需要把已经被删除的记录附加到当前的所有提交前面
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Linux 建立 Swap 分区</title>
        <link href="https://www.ohyee.cc/post/note_linux_swap"/>
        <id>https://www.ohyee.cc/post/note_linux_swap</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-02-01T06:23:30+00:00</published>
        <updated>2021-02-01T06:23:30+00:00</updated>
        
        <content type="html"><![CDATA[在 Linux 里建立交换分区]]></content>
        
        <summary type="html">
            
            在 Linux 里建立交换分区
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Gitea 自建 Git 服务部署</title>
        <link href="https://www.ohyee.cc/post/note_gitea"/>
        <id>https://www.ohyee.cc/post/note_gitea</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-31T14:56:07+00:00</published>
        <updated>2021-01-31T14:56:07+00:00</updated>
        
        <content type="html"><![CDATA[自建 Git 服务 Gitea 部署]]></content>
        
        <summary type="html">
            
            自建 Git 服务 Gitea 部署
            
        </summary>
        
    </entry>
    
    <entry>
        <title>自定义 Bash 主题</title>
        <link href="https://www.ohyee.cc/post/note_bash_terminal"/>
        <id>https://www.ohyee.cc/post/note_bash_terminal</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-29T15:14:57+00:00</published>
        <updated>2021-01-29T15:14:57+00:00</updated>
        
        <content type="html"><![CDATA[让 bash 和其他终端一样好看]]></content>
        
        <summary type="html">
            
            让 bash 和其他终端一样好看
            
        </summary>
        
    </entry>
    
    <entry>
        <title>分组加密工作模式</title>
        <link href="https://www.ohyee.cc/post/note_block_cipher_mode_of_operator"/>
        <id>https://www.ohyee.cc/post/note_block_cipher_mode_of_operator</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-24T08:57:28+00:00</published>
        <updated>2021-01-24T08:57:28+00:00</updated>
        
        <content type="html"><![CDATA[补充下分组加密的工作模式，以便后面自己查询]]></content>
        
        <summary type="html">
            
            补充下分组加密的工作模式，以便后面自己查询
            
        </summary>
        
    </entry>
    
    <entry>
        <title>相关数据的认证加密 AEAD</title>
        <link href="https://www.ohyee.cc/post/note_aead"/>
        <id>https://www.ohyee.cc/post/note_aead</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-23T13:25:19+00:00</published>
        <updated>2021-01-23T13:25:19+00:00</updated>
        
        <content type="html"><![CDATA[所有的某科学工具目前都提到了一个特殊的名词——AEAD，所以搜索了下这到底是什么东西]]></content>
        
        <summary type="html">
            
            所有的某科学工具目前都提到了一个特殊的名词——AEAD，所以搜索了下这到底是什么东西
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Windows 电脑模拟 Nitendo Switch Amiibo</title>
        <link href="https://www.ohyee.cc/post/note_ns_amiibo"/>
        <id>https://www.ohyee.cc/post/note_ns_amiibo</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-19T17:35:25+00:00</published>
        <updated>2021-01-19T17:35:25+00:00</updated>
        
        <content type="html"><![CDATA[在 Windows 电脑使用 Linux 虚拟机模拟 Nitendo Switch 手柄刷 Amiibo]]></content>
        
        <summary type="html">
            
            在 Windows 电脑使用 Linux 虚拟机模拟 Nitendo Switch 手柄刷 Amiibo
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Go 监控文件变化</title>
        <link href="https://www.ohyee.cc/post/note_go_watch_file"/>
        <id>https://www.ohyee.cc/post/note_go_watch_file</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-17T15:14:57+00:00</published>
        <updated>2021-01-17T15:14:57+00:00</updated>
        
        <content type="html"><![CDATA[需要实现一个监控日志文件新插入的行的功能，于是尝试实现下]]></content>
        
        <summary type="html">
            
            需要实现一个监控日志文件新插入的行的功能，于是尝试实现下
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 803. 打砖块</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_803"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_803</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-16T15:17:44+00:00</published>
        <updated>2021-01-16T15:17:44+00:00</updated>
        
        <content type="html"><![CDATA[花样负优化，把本来 800ms 的代码“优化”到 8s 起步，最高 10s]]></content>
        
        <summary type="html">
            
            花样负优化，把本来 800ms 的代码“优化”到 8s 起步，最高 10s
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 947. 移除最多的同行或同列石头</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_947"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_947</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-15T08:06:21+00:00</published>
        <updated>2021-01-15T08:06:21+00:00</updated>
        
        <content type="html"><![CDATA[一道图上的并查集题目，思路和实现都很简单，不过还是很巧妙]]></content>
        
        <summary type="html">
            
            一道图上的并查集题目，思路和实现都很简单，不过还是很巧妙
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Hydra 暴力破解工具</title>
        <link href="https://www.ohyee.cc/post/note_hydra"/>
        <id>https://www.ohyee.cc/post/note_hydra</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-12T13:08:46+00:00</published>
        <updated>2021-01-12T13:08:46+00:00</updated>
        
        <content type="html"><![CDATA[要学会防御，首先要知道攻击手段，Hydra 是一个非常厉害的暴力破解工具，支持很多的常见协议]]></content>
        
        <summary type="html">
            
            要学会防御，首先要知道攻击手段，Hydra 是一个非常厉害的暴力破解工具，支持很多的常见协议
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 1203. 项目管理</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_1203"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_1203</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-12T09:17:23+00:00</published>
        <updated>2021-01-12T09:17:23+00:00</updated>
        
        <content type="html"><![CDATA[一道很巧妙的多次拓扑排序问题]]></content>
        
        <summary type="html">
            
            一道很巧妙的多次拓扑排序问题
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 周赛 217</title>
        <link href="https://www.ohyee.cc/post/answer_wc_217"/>
        <id>https://www.ohyee.cc/post/answer_wc_217</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-06T17:11:56+00:00</published>
        <updated>2021-01-06T17:11:56+00:00</updated>
        
        <content type="html"><![CDATA[LeetCode 1673 ~ LeetCode 1676
其中 LeetCode 1674 有多种有趣的解法]]></content>
        
        <summary type="html">
            
            LeetCode 1673 ~ LeetCode 1676 其中 LeetCode 1674 有多种有趣的解法
            
        </summary>
        
    </entry>
    
    <entry>
        <title>长沙游记</title>
        <link href="https://www.ohyee.cc/post/travels_changsha"/>
        <id>https://www.ohyee.cc/post/travels_changsha</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2021-01-06T12:23:22+00:00</published>
        <updated>2021-01-06T12:23:22+00:00</updated>
        
        <content type="html"><![CDATA[2021 年元旦前后，来到长沙游玩]]></content>
        
        <summary type="html">
            
            2021 年元旦前后，来到长沙游玩
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 927. 三等分</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_927"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_927</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-29T13:29:15+00:00</published>
        <updated>2020-12-29T13:29:15+00:00</updated>
        
        <content type="html"><![CDATA[一道需要考虑很多细节的困难题，思路不算特别难想，但是很麻烦]]></content>
        
        <summary type="html">
            
            一道需要考虑很多细节的困难题，思路不算特别难想，但是很麻烦
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 330.按要求补齐数组</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_330"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_330</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-29T11:08:59+00:00</published>
        <updated>2020-12-29T11:08:59+00:00</updated>
        
        <content type="html"><![CDATA[一道很数学的困难题，只想出了一半。]]></content>
        
        <summary type="html">
            
            一道很数学的困难题，只想出了一半。
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 135.分发糖果</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_135"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_135</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-24T15:30:22+00:00</published>
        <updated>2020-12-24T15:30:22+00:00</updated>
        
        <content type="html"><![CDATA[每日一题的困难题，重点在于为什么要这么做]]></content>
        
        <summary type="html">
            
            每日一题的困难题，重点在于为什么要这么做
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 714. 买卖股票的最佳时机含手续费</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_714"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_714</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-17T04:55:56+00:00</published>
        <updated>2020-12-17T04:55:56+00:00</updated>
        
        <content type="html"><![CDATA[记录一下把一个题目做复杂的错误思路]]></content>
        
        <summary type="html">
            
            记录一下把一个题目做复杂的错误思路
            
        </summary>
        
    </entry>
    
    <entry>
        <title>近视代数——环</title>
        <link href="https://www.ohyee.cc/post/note_modern_algebra_ring"/>
        <id>https://www.ohyee.cc/post/note_modern_algebra_ring</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-14T06:58:48+00:00</published>
        <updated>2020-12-14T06:58:48+00:00</updated>
        
        <content type="html"><![CDATA[近世代数环相关内容]]></content>
        
        <summary type="html">
            
            近世代数环相关内容
            
        </summary>
        
    </entry>
    
    <entry>
        <title>近世代数——群</title>
        <link href="https://www.ohyee.cc/post/note_modern_algebra_group"/>
        <id>https://www.ohyee.cc/post/note_modern_algebra_group</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-08T16:06:10+00:00</published>
        <updated>2020-12-08T16:06:10+00:00</updated>
        
        <content type="html"><![CDATA[关于最重要的群相关内容]]></content>
        
        <summary type="html">
            
            关于最重要的群相关内容
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 659. 分割数组为连续子序列</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_659"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_659</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-06T13:10:56+00:00</published>
        <updated>2020-12-06T13:10:56+00:00</updated>
        
        <content type="html"><![CDATA[一个略有动态规划感觉的贪心题]]></content>
        
        <summary type="html">
            
            一个略有动态规划感觉的贪心题
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Windows 端口监听失败</title>
        <link href="https://www.ohyee.cc/post/note_windows_port"/>
        <id>https://www.ohyee.cc/post/note_windows_port</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-06T04:27:19+00:00</published>
        <updated>2020-12-06T04:27:19+00:00</updated>
        
        <content type="html"><![CDATA[Windows 奇怪的端口占用]]></content>
        
        <summary type="html">
            
            Windows 奇怪的端口占用
            
        </summary>
        
    </entry>
    
    <entry>
        <title>写在中国宪法日</title>
        <link href="https://blog.gaojianli.me/2020/12/04/%E5%86%99%E5%9C%A8%E4%B8%AD%E5%9B%BD%E5%AE%AA%E6%B3%95%E6%97%A5/"/>
        <id>https://blog.gaojianli.me/2020/12/04/%E5%86%99%E5%9C%A8%E4%B8%AD%E5%9B%BD%E5%AE%AA%E6%B3%95%E6%97%A5/</id>
        
        <author>
            <name>高渐离</name>
        </author>
        
        <published>2022-12-04T13:34:45+00:00</published>
        <updated>2022-12-04T13:34:45+00:00</updated>
        
        <content type="html"><![CDATA[<blockquote>            <p>他从996的公司下班骑着ofo回到了蛋壳租的公寓看杨超越丁真——CyberPunk</p>          </blockquote><h1><a href="https://blog.gaojianli.me/2020/12/04/%E5%86%99%E5%9C%A8%E4%B8%AD%E5%9B%BD%E5%AE%AA%E6%B3%95%E6%97%A5/#引言"></a>引言</h1><p>今天是12月4日，中国宪法日。同时也是香风智乃的生日，虽然宪法离我非常遥远，我也不看点兔，但今天着实也是于我而言重要的一天。在这一天，我持续三年的初恋正式宣告终结。现在找点空位在这里倒垃圾，顺便键政一下。<br />就结果而言，人的感情其实相当脆弱，三年的感情也可能在短短几小时内毁于一旦。常言道：“知人知面不知心”，人的价值观远远不是短短三年就能看清的。既然已经结束，我也不想发表什么言论，骂她啊啥的不过是幼稚的行为，根本上她也只是受害者，今天是想来谈谈事情的前因后果以及对时事的一些思考。</p><a></a><h1><a href="https://blog.gaojianli.me/2020/12/04/%E5%86%99%E5%9C%A8%E4%B8%AD%E5%9B%BD%E5%AE%AA%E6%B3%95%E6%97%A5/#起因"></a>起因</h1><p>我前女友对于肖战是完全的不感冒，我个人老二次元了，自然也不会关心这方面的事情。我曾经一度认为饭圈文化离我们很远，直到丁真的出现。自从丁真火了之后，她便被其疯狂圈粉，手机壁纸也从小栗旬换成了丁真，每日高强度在论坛和anti对线，一口一个“🍋🐔”。丁真，一个远在理塘的人，我自然犯不着去吃他的醋，但是由此而言产生的争论才是真正破裂的原因。</p><p>昨日，华春莹连发三条推特为其站台，在每天中午的键政时间中，我自然为这种行为表示了担忧。没想到就因为这个原因，我也被贴上了“酸，嫉妒”的标签，一瞬间她仿佛不再是那个熟悉的她，而是化身微博女拳师。由此产生了一些争论，最后造成了感情的破裂，个中细节，家长里短，在此略过不谈。</p><h1><a href="https://blog.gaojianli.me/2020/12/04/%E5%86%99%E5%9C%A8%E4%B8%AD%E5%9B%BD%E5%AE%AA%E6%B3%95%E6%97%A5/#思考"></a>思考</h1><p>主要是想谈谈对于“丁真现象”的思考。大部分人对于丁真的恶意来源应该都是认为其“德不配位”吧，一个文盲却能爆红于网络，由此产生了“酸”、“嫉妒”的感情，大有早年间“仇富”的影子。但是其实矛头不应该对准丁真，他不过就是一个淳朴的放牛娃罢了，文盲的问题更不应该苛责他，而是去质问当地主管教育部门的官员。真正应该思考的是，为什么？为什么他一个文盲就都能火起来，靠脸吗？</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /><p>不幸的是，是的，就是靠脸。这几年，娱乐界的明星门槛日益降低，从老一辈艺术家德艺双馨，到流行歌手作词作曲，他们的成功，虽然可能容易一些，但都付出了自己的努力。无论是学习乐理，声乐，还是自己作词作曲，我们都可以说成是努力带来的回报，他们所有的获得都可勉强放置在“劳有所得”这一大框架下。然而从杨超越开始，这一切都变了。无需任何努力仅凭一张脸就可以成立自己公司，作为“特殊人才”落户上海。也许是尝到甜头后更加变本加厉，这一次更加简单粗暴。把一个文盲摆在台前，狠狠地打一打你们这些“读书改变命运”的人的脸。我和我的小伙伴们小时候的理想都是军人，警察，科学家，如果我的孩子说出：“我不读书，我要当网红！”，那是多么可怕的场景！</p><p>每当我谈起这个问题的时候，她的回答都是“人家可不是什么都没干，人家可是国企员工。”这么一看，我突然觉得我的舍友非常可笑，可悲。他为了拿到一个家乡国企的岗位，每天四处奔波，在贵州和北京之间不断往返，顶着干眼症，圆锥角膜的风险努力复习。更忘不了他提到“这个岗位报名有700多，简历筛选完只有40个人进笔试”时的那一抹庆幸。是啊，读书有什么用呢？读了10多年书之后仅仅是得到了和700个人竞争同一岗位的资格，而别人仅凭一张脸就能取得。几年前我们还在嘲笑日本小学生的梦想时是成为野兽先辈那样的人，现如今我们的下一代竟然也要陷入同样的境地。</p><p>对此，我女朋友的回答是“命”，丁真命中注定富贵。我难以想象这是一个正在备考考研政治的人能说出来的话。马克思说过，“阶级决定个人命运”，丁真是什么阶级，这是他的命运吗？改变他命运的当然不成冥冥之中的天命，而是背后的资本。古人云：“时来天地皆同力，运去英雄不自由。”这首诗的当今版本是“资来天地皆同力，资去英雄不自由”，资本可以随时随地地捧红一个人，也可以随时随地踩死一个人。</p><p>如今，国家为丁真站台，天地同力，我也不敢逆天而行发表什么意见。只是，当资本越来越为所欲为，试探底线的时候，是否应该警惕呢？从“东林书院”到“湖畔大学”；从敬新磨到杨超越；从包身工到996。以史为鉴，可以知兴替，望诸君不要放弃理想。</p><p>では、諸君は。</p>]]></content>
        
        <summary type="html">
            
                        他从996的公司下班骑着ofo回到了蛋壳租的公寓看杨超越丁真——CyberPunk          引言今天是12月4日，中国宪法日。同时也是香风智乃的生日，虽然宪法离我非常遥远，我也不看点兔，但今天着实也是于我而言重要的一天。在这一天，我持续三年的初
            
        </summary>
        
        <category term="杂谈"/>
        
    </entry>
    
    <entry>
        <title>JS 的 for ... in 真的很慢</title>
        <link href="https://www.ohyee.cc/post/note_js_for_in"/>
        <id>https://www.ohyee.cc/post/note_js_for_in</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-03T16:41:45+00:00</published>
        <updated>2020-12-03T16:41:45+00:00</updated>
        
        <content type="html"><![CDATA[在刷每日 LeetCode 的时候，意外发现在 JavaScript 在使用 for ... in 语法时，会非常的慢]]></content>
        
        <summary type="html">
            
            在刷每日 LeetCode 的时候，意外发现在 JavaScript 在使用 for ... in 语法时，会非常的慢
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Suricata  基础使用</title>
        <link href="https://www.ohyee.cc/post/note_suricata_start"/>
        <id>https://www.ohyee.cc/post/note_suricata_start</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-02T15:31:45+00:00</published>
        <updated>2020-12-02T15:31:45+00:00</updated>
        
        <content type="html"><![CDATA[使用 Suricata 设定预警规则，收集 pcap，导出流量文件，联动 lua 脚本]]></content>
        
        <summary type="html">
            
            使用 Suricata 设定预警规则，收集 pcap，导出流量文件，联动 lua 脚本
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 321. 拼接最大数</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_321"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_321</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-02T15:19:51+00:00</published>
        <updated>2020-12-02T15:19:51+00:00</updated>
        
        <content type="html"><![CDATA[很不幸，一眼秒出正确思路，然后感觉复杂度太高被自己否了……]]></content>
        
        <summary type="html">
            
            很不幸，一眼秒出正确思路，然后感觉复杂度太高被自己否了……
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 847. 访问所有节点的最短路径</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_847"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_847</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-12-02T14:31:56+00:00</published>
        <updated>2020-12-02T14:31:56+00:00</updated>
        
        <content type="html"><![CDATA[虽然貌似和官方题解不太一样（没细看官方思路），但是也算一个思路吧]]></content>
        
        <summary type="html">
            
            虽然貌似和官方题解不太一样（没细看官方思路），但是也算一个思路吧
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 777. 在LR字符串中交换相邻字符</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_777"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_777</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-11-27T18:48:52+00:00</published>
        <updated>2020-11-27T18:48:52+00:00</updated>
        
        <content type="html"><![CDATA[这道题写出来暴力解很容易，但是最优解感觉还是有点绕，所以记一下]]></content>
        
        <summary type="html">
            
            这道题写出来暴力解很容易，但是最优解感觉还是有点绕，所以记一下
            
        </summary>
        
    </entry>
    
    <entry>
        <title>自动清理 ChromeDriver 进程</title>
        <link href="https://www.ohyee.cc/post/note_kill_chromedriver"/>
        <id>https://www.ohyee.cc/post/note_kill_chromedriver</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-11-23T04:42:04+00:00</published>
        <updated>2020-11-23T04:42:04+00:00</updated>
        
        <content type="html"><![CDATA[自动清理指定名称的进程]]></content>
        
        <summary type="html">
            
            自动清理指定名称的进程
            
        </summary>
        
    </entry>
    
    <entry>
        <title>荣耀手环 6 评测</title>
        <link href="https://www.ohyee.cc/post/evaluation_honor_wristband_6"/>
        <id>https://www.ohyee.cc/post/evaluation_honor_wristband_6</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-11-15T08:14:44+00:00</published>
        <updated>2020-11-15T08:14:44+00:00</updated>
        
        <content type="html"><![CDATA[荣耀手环 6 使用体验]]></content>
        
        <summary type="html">
            
            荣耀手环 6 使用体验
            
        </summary>
        
    </entry>
    
    <entry>
        <title>分布式哈希表</title>
        <link href="https://www.ohyee.cc/post/note_distributed_hash_table"/>
        <id>https://www.ohyee.cc/post/note_distributed_hash_table</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-11-14T12:25:58+00:00</published>
        <updated>2020-11-14T12:25:58+00:00</updated>
        
        <content type="html"><![CDATA[DHT 是 Torrent 以及很多点对点网络中使用的检索方法，可以很快地在分布式网络中实现内容的检索]]></content>
        
        <summary type="html">
            
            DHT 是 Torrent 以及很多点对点网络中使用的检索方法，可以很快地在分布式网络中实现内容的检索
            
        </summary>
        
    </entry>
    
    <entry>
        <title>贡献自己服务器作为 Tor 中继</title>
        <link href="https://www.ohyee.cc/post/note_tor_as_relay"/>
        <id>https://www.ohyee.cc/post/note_tor_as_relay</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-11-09T14:30:10+00:00</published>
        <updated>2020-11-09T14:30:10+00:00</updated>
        
        <content type="html"><![CDATA[Tor 网络由几千名志愿者无私贡献的中继节点构成，如果要研究 Tor，自然也有必要成为一个中继节点进行研究。]]></content>
        
        <summary type="html">
            
            Tor 网络由几千名志愿者无私贡献的中继节点构成，如果要研究 Tor，自然也有必要成为一个中继节点进行研究。
            
        </summary>
        
    </entry>
    
    <entry>
        <title>【弃案】在博客中插入思维导图</title>
        <link href="https://www.ohyee.cc/post/note_mindmap"/>
        <id>https://www.ohyee.cc/post/note_mindmap</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-11-08T05:16:11+00:00</published>
        <updated>2020-11-08T05:16:11+00:00</updated>
        
        <content type="html"><![CDATA[尝试在博客中插入可思维导图。由各种原因已放弃。]]></content>
        
        <summary type="html">
            
            尝试在博客中插入可思维导图。由各种原因已放弃。
            
        </summary>
        
    </entry>
    
    <entry>
        <title>【转】SNORT 入侵检测系统</title>
        <link href="https://www.ohyee.cc/post/reproduction_snort"/>
        <id>https://www.ohyee.cc/post/reproduction_snort</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-11-06T16:43:34+00:00</published>
        <updated>2020-11-06T16:43:34+00:00</updated>
        
        <content type="html"><![CDATA[本文章转载自乌云，原作者 YxWa。原文章来自乌云，由于乌云无法访问，无法联系原作者。文章内容来自于乌云镜像]]></content>
        
        <summary type="html">
            
            本文章转载自乌云，原作者 YxWa。原文章来自乌云，由于乌云无法访问，无法联系原作者。文章内容来自于乌云镜像
            
        </summary>
        
    </entry>
    
    <entry>
        <title>使用机器学习实现奇偶分类</title>
        <link href="https://www.ohyee.cc/post/note_parity_classification"/>
        <id>https://www.ohyee.cc/post/note_parity_classification</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-11-05T16:40:11+00:00</published>
        <updated>2020-11-05T16:40:11+00:00</updated>
        
        <content type="html"><![CDATA[被逼无奈，还是要学习下如何机器学习进行分类，为后续 Tor 流量去匿名化做准备]]></content>
        
        <summary type="html">
            
            被逼无奈，还是要学习下如何机器学习进行分类，为后续 Tor 流量去匿名化做准备
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LeetCode 941.有效的山脉数组</title>
        <link href="https://www.ohyee.cc/post/answer_leetcode_941"/>
        <id>https://www.ohyee.cc/post/answer_leetcode_941</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-11-03T13:43:30+00:00</published>
        <updated>2020-11-03T13:43:30+00:00</updated>
        
        <content type="html"><![CDATA[久违地开始刷题，先从简单的开始，慢慢地提升难度，尽可能把题解写的不那么水]]></content>
        
        <summary type="html">
            
            久违地开始刷题，先从简单的开始，慢慢地提升难度，尽可能把题解写的不那么水
            
        </summary>
        
    </entry>
    
    <entry>
        <title>如何优雅地使用 Docker</title>
        <link href="https://www.ohyee.cc/post/note_docker"/>
        <id>https://www.ohyee.cc/post/note_docker</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-10-28T16:48:57+00:00</published>
        <updated>2020-10-28T16:48:57+00:00</updated>
        
        <content type="html"><![CDATA[Docker 基础概念及使用手册]]></content>
        
        <summary type="html">
            
            Docker 基础概念及使用手册
            
        </summary>
        
    </entry>
    
    <entry>
        <title>使用 docker 将 gitbook 开源图书转换为 EPUB</title>
        <link href="https://www.ohyee.cc/post/note_gitbook_docker"/>
        <id>https://www.ohyee.cc/post/note_gitbook_docker</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-10-24T06:35:23+00:00</published>
        <updated>2020-10-24T06:35:23+00:00</updated>
        
        <content type="html"><![CDATA[Gitbook 已死，但是开源书籍永存]]></content>
        
        <summary type="html">
            
            Gitbook 已死，但是开源书籍永存
            
        </summary>
        
    </entry>
    
    <entry>
        <title>搭建一个短网址系统</title>
        <link href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/"/>
        <id>https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/</id>
        
        <author>
            <name>高渐离</name>
        </author>
        
        <published>2022-12-04T13:34:45+00:00</published>
        <updated>2022-12-04T13:34:45+00:00</updated>
        
        <content type="html"><![CDATA[<h1><a href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/#起"></a>起</h1><p>前阵子，在Xice的推荐下，我入手了一个3位<code>.eu</code>域名<code>u2b.eu</code>。他作为一个老羊毛党了，给我推荐的域名价格自然也十分离谱，<a href="https://www.icdsoft.com/en/domains" target="_blank">10年只要20刀</a>，反过来看看我正在使用的<code>gaojianli.me</code>，一年12刀的价格完美阐释了什么叫做没有对比就没有伤害。</p><blockquote><p>值得注意的是，<code>.eu</code>的域名要求欧盟（前）成员国居民的身份才能注册，因此一开始想当然拿了美国人身份注册的我险些打水漂，所幸最后通过一张PS的燃气账单侥幸蒙混过去，可谓是十分惊险。</p></blockquote><p>虽然如此，作为冲动消费捡垃圾的典型，拿下了这个域名其实也不知道做什么。<strong>虽然不知道有什么用，但是太便宜了先买了吧。</strong>抱着这种思想我没少买奇奇怪怪的玩意儿，而这个三位的域名看起来也是这样一个“鸡肋”。说有用吧，虽然是3位域名，但是为了追求3位导致了其基本就是随机的字符串，含义不明；说没用那毕竟还是个3位的顶级域名，<del>还能谐音碰瓷Youtube</del>。</p><p>在闲置了一阵子之后，姑且想到了一个用途，你不是短吗？那就来做个短网址系统吧！</p><a></a><h1><a href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/#承"></a>承</h1><p>在我印象中，短网址这种烂大街的东西有不少的开源实现，但是最近闲的也是闲的，与其用别人的，不如自己来造个轮子吧。</p><h2><a href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/#规划"></a>规划</h2><p>首先来规划一下项目，难得能自己做个东西，便想用尽可能用一些新技术，因此没有选择劳模Node.js，而是打算尝鲜下微软的<code>ASP .NET Core</code>，这东西据说能完美跨平台运行在Linux上，满足我的需求不是问题。</p><p>因为要考虑到一个封装成API的可能，因此一定是前后端分离的架构。前端最初的时候是想尝试一下<a href="https://docs.microsoft.com/zh-cn/aspnet/core/mvc/views/razor?view=aspnetcore-3.1" target="_blank">Razor</a>的，C#编译成wasm的方式还挺新颖的。但是写了2行就发现这东西是巨坑，因为它是！基！于！Bootstrap的！！这是多少年前的UI库了，组件全部用CSS来描述，写得十分痛苦和不便，果然火不起来是有理由的，还是老老实实Vue.js吧。</p><p>在做这个的时候，恰逢Vue 3.X 出世，也本想尝试一下<a href="https://v3.vuejs.org/guide/composition-api-introduction.html#why-composition-api" target="_blank">Composition API</a>配合<a href="https://github.com/vitejs/vite" target="_blank">Vite</a>体验一把抛弃Webpack的感觉，<strong>然而</strong>，当我兴致冲冲搭建好了脚手架之后遇到了一个更严重问题：<strong>没有组件库</strong>。这连BootStrap都没有，更凄惨了！<del>写CSS是不可能写CSS的，这辈子也不可能手写的。</del> 最后，还是选择了劳模组合Vue2+Vuetify，也算是一大缺憾。</p><p>在架构之前还是了解了一下网上的常见方案，在现有方案中有人提出了一些建议：</p><blockquote><p>看了楼主代码.没上缓存(热点 url),没处理同一 url 连续两次转换出现不同结果的情况</p></blockquote><p>对于上面的意见，分开来探讨一下吧：</p><ul><li>对于意见2，目前很多现存的短网址都不支持这种功能（例如<code>goo.gl</code>），其理由也非常简单：不同的用户每次提交的URL都是一次不同的业务，如果合并了难以完成统计，撤销等功能。同时还给添加徒增工作量，每次添加时都会进行一次全表查询，纵有索引也会极大地浪费性能。</li><li>对于意见1，我的意见是请了解一下<a href="https://baike.baidu.com/item/%E8%BF%87%E6%97%A9%E4%BC%98%E5%8C%96/23734966?fr=aladdin" target="_blank">这个</a>。现如今，是个项目就无脑上集群、Redis，完全不顾是否真的有这个需求，私以为也是一种提前优化。对于单用户来说，由于短链接跳转使用的是HTTP 301 永久性转移(Permanently Moved)，第二次访问时会直接被浏览器所缓存；对于多用户来说，热点URL的概率同时被数百人访问的概率也非常低（每个人只需访问一次），更多的访问是离散的，增加Redis也不能增加太多性能。</li></ul><h2><a href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/#总结"></a>总结</h2><p>因此，总结一下所选解决方案如下：</p><table><thead><tr><th>分类</th><th>解决方案</th></tr></thead><tbody><tr><td>后端</td><td>ASP .NET Core</td></tr><tr><td>数据库</td><td>MySQL</td></tr><tr><td>前端</td><td>Vue.js</td></tr><tr><td>组件库</td><td><a href="https://vuetifyjs.com/" target="_blank">Vuetify</a></td></tr><tr><td>缓存</td><td>无</td></tr></tbody></table><h1><a href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/#转"></a>转</h1><h2><a href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/#新时代的ASP初体验"></a>新时代的ASP初体验</h2><p>既然冒着踩坑的风险选择了<br />长久以来，提到ASP我想到的都是一众<code>.asp</code>、<code>.aspx</code>结尾的网站，广泛分布在各大机关单位学校中，伴随着的关键词还有：卡，慢，IE6，<del>大马</del>等,，但是在实际开发中微软着实给我了一个惊喜，非复吴下阿软矣。</p><p>在实际的开发体验中，ASP.NET开发体验比我预想中的好得多，得益于宇宙第一IDE的加持，代码模板非常齐全，可以直接<code>Controller</code>为单位新建代码，以<code>Controller</code>的前缀命名的路由避免了写一大坨<code>router.js</code>，通过<code>Attribute</code>的传参更是免去了一大堆类似<code>var a=request.body.a</code>这种提取参数的代码。</p><p>从设计模式上来说，数据库的访问应该与<code>Controller</code>分离，实现封装、解耦。但是得益于LINQ的强大威力，数据库的访问被压缩到了一行语句，考虑到本项目复杂度，此时再进行封装反而有过度设计的嫌疑了，因此直接LINQ写到<code>Controller</code>里算了。如下是实现短网址跳转的代码，可见不论是查询数据库还是中URL中传参都是十分简洁的：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /></pre></td><td><pre><span>[<span>HttpGet(<span>"{shorten}"</span>)</span>]</span><br /><span><span><span>public</span> <span>void</span> <span>Forward</span>(<span><span>string</span> shorten, [FromServices] UrlContext dbContext</span>)</span></span><br /><span><span></span>{</span><br /><span>    <span>var</span> longUrl = <span>from</span> urls <span>in</span> dbContext.Urls</span><br /><span>                    <span>where</span> urls.shortUrl == shorten</span><br /><span>                    <span>select</span> urls.longUrl;</span><br /><span>    <span>if</span> (longUrl.Count() == <span>0</span>)</span><br /><span>    {</span><br /><span>        Response.Redirect(Configuration.GetSection(<span>"SiteSettings"</span>)[<span>"homePage"</span>]);</span><br /><span>    }</span><br /><span>    <span>else</span></span><br /><span>    {</span><br /><span>        Response.Redirect(longUrl.Single());</span><br /><span>    }</span><br /><span>}</span><br /></pre></td></tr></table><p>总而言之，ASP.NET Core我相当看好，尽管是微软的技术所以前景不容乐观，各位开发者还是学习Java前途更加光明。但是作为简单的项目来说其比Koa完善，同时配置比Java的Spring方便（不用写XML真是人间之鉴），Nuget还能直接高速访问不用代理，好处真是太多了。我花了2天时间通过自己摸索+VS的自动提示便基本熟悉了此框架并完成了此项目（有够简单就是了），换做是Spring上手应该很难这么快的吧。</p><h2><a href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/#短网址Hash算法"></a>短网址Hash算法</h2><p>关于这个网上也有很多讨论了，我对比后选择了“62进制法”。其核心是将长网址存入数据库后获得一个id，将id从10进制转换为62进制字符串，再加上一些随机字符串防止碰撞，最后得到缩短后的地址。</p><p>由于我直接将id设置为MySQL里的自增字段，因此连随机字符串都不需要了，直接把id拿来用就行了，反正也不存在碰撞的可能。进制转换代码是我从网上抄的Java代码改写的，<s>众所周知C#曾经有个名字叫J++</s>：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /><span>16</span><br /><span>17</span><br /></pre></td><td><pre><span><span>public</span> <span>static</span> <span>char</span>[] alphaBet = { <span>'q'</span>, <span>'w'</span>, <span>'e'</span>, <span>'r'</span>, <span>'t'</span>, <span>'y'</span>, <span>'u'</span>, <span>'i'</span>, <span>'o'</span>, <span>'p'</span>, <span>'a'</span>, <span>'s'</span>, <span>'d'</span>, <span>'f'</span>, <span>'g'</span>, <span>'h'</span>, <span>'j'</span>, <span>'k'</span>, <span>'l'</span>, <span>'z'</span>, <span>'x'</span>, <span>'c'</span>, <span>'v'</span>, <span>'b'</span>, <span>'n'</span>, <span>'m'</span>, <span>'0'</span>, <span>'1'</span>, <span>'2'</span>, <span>'3'</span>, <span>'4'</span>, <span>'5'</span>, <span>'6'</span>, <span>'7'</span>, <span>'8'</span>, <span>'9'</span>, <span>'Q'</span>, <span>'W'</span>, <span>'E'</span>, <span>'R'</span>, <span>'T'</span>, <span>'Y'</span>, <span>'U'</span>, <span>'I'</span>, <span>'O'</span>, <span>'P'</span>, <span>'A'</span>, <span>'S'</span>, <span>'D'</span>, <span>'F'</span>, <span>'G'</span>, <span>'H'</span>, <span>'J'</span>, <span>'K'</span>, <span>'L'</span>, <span>'Z'</span>, <span>'X'</span>, <span>'C'</span>, <span>'V'</span>, <span>'B'</span>, <span>'N'</span>, <span>'M'</span> };</span><br /><span><span><span>public</span> <span>static</span> <span>string</span> <span>getShorted</span>(<span><span>long</span> id</span>)</span></span><br /><span><span></span>{</span><br /><span>    <span>var</span> rest = id;</span><br /><span>    Stack&lt;<span>char</span>&gt; stack = <span>new</span> Stack&lt;<span>char</span>&gt;();</span><br /><span>    StringBuilder result = <span>new</span> StringBuilder(<span>0</span>);</span><br /><span>    <span>while</span> (rest != <span>0</span>)</span><br /><span>    {</span><br /><span>        stack.Push(alphaBet[rest - (rest / <span>62</span>) * <span>62</span>]);</span><br /><span>        rest = rest / <span>62</span>;</span><br /><span>    }</span><br /><span>    <span>for</span> (; stack.Count() != <span>0</span>;)</span><br /><span>    {</span><br /><span>        result.Append(stack.Pop());</span><br /><span>    }</span><br /><span>    <span>return</span> result.ToString();</span><br /><span>}</span><br /></pre></td></tr></table><h1><a href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/#合"></a>合</h1><p>至于前端部分就是普普通通的Vue.js应用，没什么好说的。写完之后编译、部署一气呵成，成果如下，欢迎体验：</p><ul><li>前端页面： <a href="https://short.u2b.eu" target="_blank">https://short.u2b.eu</a></li><li>缩短网址格式：<code>https://u2b.eu/{short}</code> ，例如 <a href="https://u2b.eu/i" target="_blank">https://u2b.eu/i</a> 对应 <a href="https://www.zhihu.com/" target="_blank">知乎</a></li></ul><p>值得注意的是Debian 10源中的<code>Mariadb</code>是链接<code>yaSSL</code>编译的，不支持TLS1.2及以上版本，在.NET Core 3.0以上版本的runtime上会报错，其解决方法是安装<code>Mariadb</code>官方源中的版本，其使用OpenSSL编译可以正常支持TLS1.2。</p><p>Update 2020.12.13:<br />懒癌终于治好了之后终于弄好了docker部署，接下来直接运行下面命令就可以部署啦：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /></pre></td><td><pre><span>docker run -d -e ConnectionStrings__SqlConnection=<span>"server=&lt;ip to the db&gt;;port=&lt;db port&gt;;database=shortUrl;uid=shorturl;pwd=&lt;pwd&gt;;CharSet=utf8"</span> \</span><br /><span>-e SiteSettings__origin=<span>"https://short.u2b.eu"</span> \</span><br /><span>-e SiteSettings__homePage=<span>"https://short.u2b.eu"</span> \</span><br /><span>-e SiteSettings__prefix=<span>"https://u2b.eu"</span> \</span><br /><span>-p 5000:5000 \</span><br /><span>--name url_shorter \</span><br /><span>--restart=always \</span><br /><span>url_shorter</span><br /></pre></td></tr></table><p>では、諸君は。</p><h1><a href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/#附录"></a>附录</h1><h2><a href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/#项目源代码"></a>项目源代码</h2><ul><li>后端：<a href="https://github.com/Gaojianli/UrlShorter" target="_blank">https://github.com/Gaojianli/UrlShorter</a></li><li>前端：<a href="https://github.com/Gaojianli/UrlShorter-web" target="_blank">https://github.com/Gaojianli/UrlShorter-web</a></li></ul><h2><a href="https://blog.gaojianli.me/2020/10/23/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%9F%AD%E7%BD%91%E5%9D%80%E7%B3%BB%E7%BB%9F/#Codespaces"></a>Codespaces</h2><p>由于偷懒，本文没有使用常规的VSCode写作，而是直接使用了Github的在线VSCode：<a href="https://github.com/features/codespaces/" target="_blank">Codespaces</a>，虽然很早我就排到了Codespaces的使用权，但是实际使用这是第一次，这里就顺便谈谈感想。</p><p>先说优点吧，其本质上是一个Ubuntu 18.04的容器，分配了1c4g的资源，里面运行了<code>vscode remote server</code>，然后浏览器远程连接之。好处是可以不用克隆代码和折腾Git，随到随写，哪怕是iPad也可以随时随地编程。</p><p><strong>但是</strong>，理想很美好，现实很骨感，实际体验那叫一个差。后悔，总之就是非常后悔，除了随时随地的掉线（2秒掉一次）外（Update 2020.12.13:别让它失焦，否则必定掉线），延迟也难以忍受。输入可能有优化和提前渲染，输入的时候完全体会不到延迟，但是一旦要编辑那就是噩梦。<strong>每次退格键</strong>都要触发一次服务器通讯，大概延迟在2s左右，在这等待期间如果你移动了光标，不好意思，你的删除内容会马上跳转到现光标所在位置上，导致意外删除。换言之，你的所有操作并不是按顺序进入队列中，而是按照js的微任务执行顺序来操作。好家伙，同步的文本编辑任务在它这里变成异步了，因此每当网络波动你就不得不停下来，等待操作执行完毕，以免发生意外操作。</p><p>关于这个功能，我觉得要么是大陆网络的问题，要么就只是个体验版，白嫖要什么自行车。猜想Github实际设计应该是让企业self hosted，然后再在内网中使用吧，就结果而言，完全不具备安装成PWA应用使用的可能性。</p>]]></content>
        
        <summary type="html">
            
            起前阵子，在Xice的推荐下，我入手了一个3位.eu域名u2b.eu。他作为一个老羊毛党了，给我推荐的域名价格自然也十分离谱，10年只要20刀，反过来看看我正在使用的gaojianli.me，一年12刀的价格完美阐释了什么叫做没有对比就没有伤害。值得注意的是，.eu的域名要求欧
            
        </summary>
        
        <category term="短网址"/>
        
        <category term="域名"/>
        
    </entry>
    
    <entry>
        <title>动态规划 PPT</title>
        <link href="https://www.ohyee.cc/post/note_dp"/>
        <id>https://www.ohyee.cc/post/note_dp</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-10-20T10:28:04+00:00</published>
        <updated>2020-10-20T10:28:04+00:00</updated>
        
        <content type="html"><![CDATA[扒出来了之前做的动态规划 PPT]]></content>
        
        <summary type="html">
            
            扒出来了之前做的动态规划 PPT
            
        </summary>
        
    </entry>
    
    <entry>
        <title>文石 Nova2 评测</title>
        <link href="https://www.ohyee.cc/post/evaluation_boox_nova2"/>
        <id>https://www.ohyee.cc/post/evaluation_boox_nova2</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-10-18T13:34:09+00:00</published>
        <updated>2020-10-18T13:34:09+00:00</updated>
        
        <content type="html"><![CDATA[一个很好的产品，但是被官方背刺，感受极差。]]></content>
        
        <summary type="html">
            
            一个很好的产品，但是被官方背刺，感受极差。
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Teambition 网盘评测</title>
        <link href="https://www.ohyee.cc/post/evaluation_teambition"/>
        <id>https://www.ohyee.cc/post/evaluation_teambition</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-10-16T07:38:04+00:00</published>
        <updated>2020-10-16T07:38:04+00:00</updated>
        
        <content type="html"><![CDATA[传说中的阿里网盘评测]]></content>
        
        <summary type="html">
            
            传说中的阿里网盘评测
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Tor 控制协议信号列表</title>
        <link href="https://www.ohyee.cc/post/note_tor_spec_signal"/>
        <id>https://www.ohyee.cc/post/note_tor_spec_signal</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-10-15T08:23:42+00:00</published>
        <updated>2020-10-15T08:23:42+00:00</updated>
        
        <content type="html"><![CDATA[在诸如 Stem 等 Tor 控制软件中，除去使用 GETINFO 获取信息外，最主要的便是信号列表（由于可用于爬虫，信号中的 NEWNYM 大概是是最广为人知的东西）]]></content>
        
        <summary type="html">
            
            在诸如 Stem 等 Tor 控制软件中，除去使用 GETINFO 获取信息外，最主要的便是信号列表（由于可用于爬虫，信号中的 NEWNYM 大概是是最广为人知的东西）
            
        </summary>
        
    </entry>
    
    <entry>
        <title>VMWare 安装 Mac OSX</title>
        <link href="https://www.ohyee.cc/post/note_vmware_macosx"/>
        <id>https://www.ohyee.cc/post/note_vmware_macosx</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-10-15T08:23:04+00:00</published>
        <updated>2020-10-15T08:23:04+00:00</updated>
        
        <content type="html"><![CDATA[为了测试跨平台页面的兼容性，需要在虚拟机安装 MAC 测试 Safari]]></content>
        
        <summary type="html">
            
            为了测试跨平台页面的兼容性，需要在虚拟机安装 MAC 测试 Safari
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Tor 可插拔传输规范</title>
        <link href="https://www.ohyee.cc/post/note_pluggable_transports_spec"/>
        <id>https://www.ohyee.cc/post/note_pluggable_transports_spec</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-10-15T08:09:54+00:00</published>
        <updated>2020-10-15T08:09:54+00:00</updated>
        
        <content type="html"><![CDATA[Tor 路由选择中文翻译]]></content>
        
        <summary type="html">
            
            Tor 路由选择中文翻译
            
        </summary>
        
    </entry>
    
    <entry>
        <title>如何优雅地在北邮打卡、出校</title>
        <link href="https://www.ohyee.cc/post/note_bupt_check_leave"/>
        <id>https://www.ohyee.cc/post/note_bupt_check_leave</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-10-14T08:58:01+00:00</published>
        <updated>2020-10-14T08:58:01+00:00</updated>
        
        <content type="html"><![CDATA[北邮自动打卡、出校请假脚本]]></content>
        
        <summary type="html">
            
            北邮自动打卡、出校请假脚本
            
        </summary>
        
    </entry>
    
    <entry>
        <title>互联网自治系统</title>
        <link href="https://www.ohyee.cc/post/note_autonomous_system"/>
        <id>https://www.ohyee.cc/post/note_autonomous_system</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-10-12T08:52:30+00:00</published>
        <updated>2020-10-12T08:52:30+00:00</updated>
        
        <content type="html"><![CDATA[某篇论文涉及到该部分内容，故翻出之前的笔记重整理了下]]></content>
        
        <summary type="html">
            
            某篇论文涉及到该部分内容，故翻出之前的笔记重整理了下
            
        </summary>
        
    </entry>
    
    <entry>
        <title>电影《姜子牙》影评</title>
        <link href="https://www.ohyee.cc/post/writting_movie_jiangziya"/>
        <id>https://www.ohyee.cc/post/writting_movie_jiangziya</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-10-06T14:09:45+00:00</published>
        <updated>2020-10-06T14:09:45+00:00</updated>
        
        <content type="html"><![CDATA[针对《姜子牙》的影评，以及大家差评的理解]]></content>
        
        <summary type="html">
            
            针对《姜子牙》的影评，以及大家差评的理解
            
        </summary>
        
    </entry>
    
    <entry>
        <title>使用 Wireshark 对 Tor 进行抓包</title>
        <link href="https://www.ohyee.cc/post/note_tor_wireshark"/>
        <id>https://www.ohyee.cc/post/note_tor_wireshark</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-09-25T10:37:16+00:00</published>
        <updated>2020-09-25T10:37:16+00:00</updated>
        
        <content type="html"><![CDATA[从 TCP 层面对 Tor 启动过程涉及的协议进行分析（不包括加密部分数据）]]></content>
        
        <summary type="html">
            
            从 TCP 层面对 Tor 启动过程涉及的协议进行分析（不包括加密部分数据）
            
        </summary>
        
    </entry>
    
    <entry>
        <title>近世代数预备知识</title>
        <link href="https://www.ohyee.cc/post/note_modern_algebra_basic"/>
        <id>https://www.ohyee.cc/post/note_modern_algebra_basic</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-09-24T11:02:09+00:00</published>
        <updated>2020-09-24T11:02:09+00:00</updated>
        
        <content type="html"><![CDATA[近世代数的预备知识，包括集合、映射、代数系统等内容]]></content>
        
        <summary type="html">
            
            近世代数的预备知识，包括集合、映射、代数系统等内容
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Socks 代理域名解析机制</title>
        <link href="https://www.ohyee.cc/post/note_socks5h_hostname"/>
        <id>https://www.ohyee.cc/post/note_socks5h_hostname</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-09-23T16:41:32+00:00</published>
        <updated>2020-09-23T16:41:32+00:00</updated>
        
        <content type="html"><![CDATA[Socks5 和 Socks5h 在实际使用中的区别，及在 DNS 污染下的不同表现]]></content>
        
        <summary type="html">
            
            Socks5 和 Socks5h 在实际使用中的区别，及在 DNS 污染下的不同表现
            
        </summary>
        
    </entry>
    
    <entry>
        <title>伪造微信浏览器中“网页由XXX提供”字段</title>
        <link href="https://www.ohyee.cc/post/note_wechat_browser_hint"/>
        <id>https://www.ohyee.cc/post/note_wechat_browser_hint</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-09-07T16:27:43+00:00</published>
        <updated>2020-09-07T16:27:43+00:00</updated>
        
        <content type="html"><![CDATA[微信浏览器中的域名提醒本身并不能提供很好的安全作用，仅仅需要简单的几步即可伪造一个域名提醒]]></content>
        
        <summary type="html">
            
            微信浏览器中的域名提醒本身并不能提供很好的安全作用，仅仅需要简单的几步即可伪造一个域名提醒
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Go 读取 OpenWRT 时区信息</title>
        <link href="https://www.ohyee.cc/post/note_go_read_openwrt_timezone"/>
        <id>https://www.ohyee.cc/post/note_go_read_openwrt_timezone</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-09-07T08:26:33+00:00</published>
        <updated>2020-09-07T08:26:33+00:00</updated>
        
        <content type="html"><![CDATA[作为一个极为精简的 Linux 发行版，即使是时区这种基本的配置都与其他 Linux 不同，这可能会导致 Go 等语言错误初始化时间]]></content>
        
        <summary type="html">
            
            作为一个极为精简的 Linux 发行版，即使是时区这种基本的配置都与其他 Linux 不同，这可能会导致 Go 等语言错误初始化时间
            
        </summary>
        
    </entry>
    
    <entry>
        <title>将 Go 程序编译至 OpenWRT</title>
        <link href="https://www.ohyee.cc/post/note_compile_go_to_openwrt"/>
        <id>https://www.ohyee.cc/post/note_compile_go_to_openwrt</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-09-04T17:56:25+00:00</published>
        <updated>2020-09-04T17:56:25+00:00</updated>
        
        <content type="html"><![CDATA[将 Go 程序编译到 OpenWRT 上，替代很难安装的 Python 执行定时任务]]></content>
        
        <summary type="html">
            
            将 Go 程序编译到 OpenWRT 上，替代很难安装的 Python 执行定时任务
            
        </summary>
        
    </entry>
    
    <entry>
        <title>为 crontab 正确设置环境变量避免无法正确运行程序</title>
        <link href="https://www.ohyee.cc/post/note_crontab_environment_variables"/>
        <id>https://www.ohyee.cc/post/note_crontab_environment_variables</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-09-03T17:16:02+00:00</published>
        <updated>2020-09-03T17:16:02+00:00</updated>
        
        <content type="html"><![CDATA[crontab 本身不携带系统环境变量，因此如果需要运行 Pyhon 等脚本，可能会导致找不到相应的第三方包]]></content>
        
        <summary type="html">
            
            crontab 本身不携带系统环境变量，因此如果需要运行 Pyhon 等脚本，可能会导致找不到相应的第三方包
            
        </summary>
        
    </entry>
    
    <entry>
        <title>如何优雅地在北邮洗澡</title>
        <link href="https://www.ohyee.cc/post/note_bupt_bath"/>
        <id>https://www.ohyee.cc/post/note_bupt_bath</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-08-31T17:45:36+00:00</published>
        <updated>2020-08-31T17:45:36+00:00</updated>
        
        <content type="html"><![CDATA[对北邮浴室预约系统进行研究，同时探索防止自动预约脚本思路技术]]></content>
        
        <summary type="html">
            
            对北邮浴室预约系统进行研究，同时探索防止自动预约脚本思路技术
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Multipathing Traffic to Reduce Entry Node Exposure in Onion Routing</title>
        <link href="https://www.ohyee.cc/post/paper_multipathing_traffic_to_reduce_entry_node_exposure_in_onion_router"/>
        <id>https://www.ohyee.cc/post/paper_multipathing_traffic_to_reduce_entry_node_exposure_in_onion_router</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-08-29T08:16:28+00:00</published>
        <updated>2020-08-29T08:16:28+00:00</updated>
        
        <content type="html"><![CDATA[本篇论文提出了使用多跳路径构建用户到中间节点的连接，从而抵抗指纹分析攻击。]]></content>
        
        <summary type="html">
            
            本篇论文提出了使用多跳路径构建用户到中间节点的连接，从而抵抗指纹分析攻击。
            
        </summary>
        
    </entry>
    
    <entry>
        <title>POSTER: Traffic Splitting to Counter Website Fingerprinting</title>
        <link href="https://www.ohyee.cc/post/page_poster_traffic_splitting_to_counter_website_fingerprinting"/>
        <id>https://www.ohyee.cc/post/page_poster_traffic_splitting_to_counter_website_fingerprinting</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-08-28T15:35:05+00:00</published>
        <updated>2020-08-28T15:35:05+00:00</updated>
        
        <content type="html"><![CDATA[这篇论文主要介绍了使用流量分割(Traffic Splitting)技术来抵抗指纹分析(Website Fingerprinting, WFP)的手段，并使用目前最常用的几种指纹分析手段对提出的流量分割策略进行了测试。]]></content>
        
        <summary type="html">
            
            这篇论文主要介绍了使用流量分割(Traffic Splitting)技术来抵抗指纹分析(Website Fingerprinting, WFP)的手段，并使用目前最常用的几种指纹分析手段对提出的流量分割策略进行了测试。
            
        </summary>
        
    </entry>
    
    <entry>
        <title>OpenWRT 访问内网地址失败</title>
        <link href="https://www.ohyee.cc/post/note_openwrt_local_network_dns"/>
        <id>https://www.ohyee.cc/post/note_openwrt_local_network_dns</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-08-28T09:43:21+00:00</published>
        <updated>2020-08-28T09:43:21+00:00</updated>
        
        <content type="html"><![CDATA[在学校内访问学校网站失败，原因竟是……]]></content>
        
        <summary type="html">
            
            在学校内访问学校网站失败，原因竟是……
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Tor 路由选择规范</title>
        <link href="https://www.ohyee.cc/post/note_tor_path_spec"/>
        <id>https://www.ohyee.cc/post/note_tor_path_spec</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-08-06T11:47:46+00:00</published>
        <updated>2020-08-06T11:47:46+00:00</updated>
        
        <content type="html"><![CDATA[Tor 路径选择规范]]></content>
        
        <summary type="html">
            
            Tor 路径选择规范
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Tor 连接目录服务器逻辑</title>
        <link href="https://www.ohyee.cc/post/note_tor_dir_lookup"/>
        <id>https://www.ohyee.cc/post/note_tor_dir_lookup</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-08-04T19:28:59+00:00</published>
        <updated>2020-08-04T19:28:59+00:00</updated>
        
        <content type="html"><![CDATA[Tor 客户端连接至 Tor 网络实际上并不一定需要通过权威目录服务器 DA，而是可以借助备用目录服务器来获取节点信息]]></content>
        
        <summary type="html">
            
            Tor 客户端连接至 Tor 网络实际上并不一定需要通过权威目录服务器 DA，而是可以借助备用目录服务器来获取节点信息
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Tor 控制协议 GETINFO 可用参数列表</title>
        <link href="https://www.ohyee.cc/post/note_tor_control_spec_getinfo"/>
        <id>https://www.ohyee.cc/post/note_tor_control_spec_getinfo</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-08-04T13:40:26+00:00</published>
        <updated>2020-08-04T13:40:26+00:00</updated>
        
        <content type="html"><![CDATA[Tor 控制协议（如 Python 的 Stem）中，GETINFO 函数可接受参数列表]]></content>
        
        <summary type="html">
            
            Tor 控制协议（如 Python 的 Stem）中，GETINFO 函数可接受参数列表
            
        </summary>
        
    </entry>
    
    <entry>
        <title>将 SVG 放置在 img 中显示及浏览器 base64 编码</title>
        <link href="https://www.ohyee.cc/post/note_svg_in_img_and_base64"/>
        <id>https://www.ohyee.cc/post/note_svg_in_img_and_base64</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-08-03T12:07:12+00:00</published>
        <updated>2020-08-03T12:07:12+00:00</updated>
        
        <content type="html"><![CDATA[尽管 svg 本身就是一个页面元素，并且其看起来与图片无异，但是其并不支持右键复制等功能，而浏览器自带的 Base64 编码函数则可以在修改后实现需求。]]></content>
        
        <summary type="html">
            
            尽管 svg 本身就是一个页面元素，并且其看起来与图片无异，但是其并不支持右键复制等功能，而浏览器自带的 Base64 编码函数则可以在修改后实现需求。
            
        </summary>
        
    </entry>
    
    <entry>
        <title>使用 Matplotlib 绘图</title>
        <link href="https://www.ohyee.cc/post/note_matplotlib"/>
        <id>https://www.ohyee.cc/post/note_matplotlib</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-31T10:03:31+00:00</published>
        <updated>2020-07-31T10:03:31+00:00</updated>
        
        <content type="html"><![CDATA[继 GraphViz 和 PlantUML 后，Matplotlib（Python）也被加入到博客中]]></content>
        
        <summary type="html">
            
            继 GraphViz 和 PlantUML 后，Matplotlib（Python）也被加入到博客中
            
        </summary>
        
    </entry>
    
    <entry>
        <title>使用 Python Stem 操作 Tor</title>
        <link href="https://www.ohyee.cc/post/note_python_tor_stem"/>
        <id>https://www.ohyee.cc/post/note_python_tor_stem</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-30T11:58:15+00:00</published>
        <updated>2020-07-30T11:58:15+00:00</updated>
        
        <content type="html"><![CDATA[针对 Tor 程序本身使用 Python 进行控制的笔记]]></content>
        
        <summary type="html">
            
            针对 Tor 程序本身使用 Python 进行控制的笔记
            
        </summary>
        
    </entry>
    
    <entry>
        <title>瀑布流实现思路</title>
        <link href="https://www.ohyee.cc/post/note_waterfall"/>
        <id>https://www.ohyee.cc/post/note_waterfall</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-28T13:33:09+00:00</published>
        <updated>2020-07-28T13:33:09+00:00</updated>
        
        <content type="html"><![CDATA[使用瀑布流来展示内容（已用于博客首页文章列表），探讨了常见的各种解决方案，并进行修改。]]></content>
        
        <summary type="html">
            
            使用瀑布流来展示内容（已用于博客首页文章列表），探讨了常见的各种解决方案，并进行修改。
            
        </summary>
        
    </entry>
    
    <entry>
        <title>使用CSS过渡动画实现一种有趣的效果</title>
        <link href="https://www.ohyee.cc/post/note_css_transition"/>
        <id>https://www.ohyee.cc/post/note_css_transition</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-20T18:00:17+00:00</published>
        <updated>2020-07-20T18:00:17+00:00</updated>
        
        <content type="html"><![CDATA[在友链的网站发现一种很好玩的特效，尽管目前没有地方用起来比较合适，但是留作备份。]]></content>
        
        <summary type="html">
            
            在友链的网站发现一种很好玩的特效，尽管目前没有地方用起来比较合适，但是留作备份。
            
        </summary>
        
    </entry>
    
    <entry>
        <title>On the Optimal Path Length for Tor</title>
        <link href="https://www.ohyee.cc/post/note_paper_on_the_optimal_path_length_for_tor"/>
        <id>https://www.ohyee.cc/post/note_paper_on_the_optimal_path_length_for_tor</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-17T14:50:52+00:00</published>
        <updated>2020-07-17T14:50:52+00:00</updated>
        
        <content type="html"><![CDATA[本论文对比了 Tor 在两跳、三跳在性能、安全性上的区别。]]></content>
        
        <summary type="html">
            
            本论文对比了 Tor 在两跳、三跳在性能、安全性上的区别。
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Locating Hidden Servers</title>
        <link href="https://www.ohyee.cc/post/note_paper_locating_hidden_servers"/>
        <id>https://www.ohyee.cc/post/note_paper_locating_hidden_servers</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-15T14:16:22+00:00</published>
        <updated>2020-07-15T14:16:22+00:00</updated>
        
        <content type="html"><![CDATA[该篇论文描述了最初版本的 Tor 隐藏服务的各种攻击手段，并提出了改进的建议]]></content>
        
        <summary type="html">
            
            该篇论文描述了最初版本的 Tor 隐藏服务的各种攻击手段，并提出了改进的建议
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Snort 安装及使用</title>
        <link href="https://www.ohyee.cc/post/note_snort"/>
        <id>https://www.ohyee.cc/post/note_snort</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-08T15:00:23+00:00</published>
        <updated>2020-07-08T15:00:23+00:00</updated>
        
        <content type="html"><![CDATA[Snort 是一个常用的入侵检测工具，可以通过编写规则实现对可疑内容的检测]]></content>
        
        <summary type="html">
            
            Snort 是一个常用的入侵检测工具，可以通过编写规则实现对可疑内容的检测
            
        </summary>
        
    </entry>
    
    <entry>
        <title>On the CCA (in)Security of MTProto</title>
        <link href="https://www.ohyee.cc/post/note_paper_on_the_cca_in_security_of_mtproto"/>
        <id>https://www.ohyee.cc/post/note_paper_on_the_cca_in_security_of_mtproto</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-07T09:39:24+00:00</published>
        <updated>2020-07-07T09:39:24+00:00</updated>
        
        <content type="html"><![CDATA[本论文针对 MTProto 在 IND-CCA 上理论上存在的两种攻击进行了描述]]></content>
        
        <summary type="html">
            
            本论文针对 MTProto 在 IND-CCA 上理论上存在的两种攻击进行了描述
            
        </summary>
        
    </entry>
    
    <entry>
        <title>A modified secure version of the Telegram protocol</title>
        <link href="https://www.ohyee.cc/post/note_paper_a_modified_secure_version_of_the_telegram_protocol"/>
        <id>https://www.ohyee.cc/post/note_paper_a_modified_secure_version_of_the_telegram_protocol</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-06T12:05:27+00:00</published>
        <updated>2020-07-06T12:05:27+00:00</updated>
        
        <content type="html"><![CDATA[这篇论文对 Telegram 的 MTProto 协议进行了修改，提高了安全性和运行效率]]></content>
        
        <summary type="html">
            
            这篇论文对 Telegram 的 MTProto 协议进行了修改，提高了安全性和运行效率
            
        </summary>
        
    </entry>
    
    <entry>
        <title>西塘游记</title>
        <link href="https://www.ohyee.cc/post/travels_xitang"/>
        <id>https://www.ohyee.cc/post/travels_xitang</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-05T10:42:38+00:00</published>
        <updated>2020-07-05T10:42:38+00:00</updated>
        
        <content type="html"><![CDATA[2020-06-26 ~ 2020-06-27 继乌镇之后则在 26 号来到了西塘]]></content>
        
        <summary type="html">
            
            2020-06-26 ~ 2020-06-27 继乌镇之后则在 26 号来到了西塘
            
        </summary>
        
    </entry>
    
    <entry>
        <title>乌镇东栅游记</title>
        <link href="https://www.ohyee.cc/post/travels_wuzhen_dongzha"/>
        <id>https://www.ohyee.cc/post/travels_wuzhen_dongzha</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-05T09:30:30+00:00</published>
        <updated>2020-07-05T09:30:30+00:00</updated>
        
        <content type="html"><![CDATA[2020-06-26 在游玩西栅后，顺道去了东栅游玩]]></content>
        
        <summary type="html">
            
            2020-06-26 在游玩西栅后，顺道去了东栅游玩
            
        </summary>
        
    </entry>
    
    <entry>
        <title>乌镇西栅游记</title>
        <link href="https://www.ohyee.cc/post/travels_wuzhen_xizha"/>
        <id>https://www.ohyee.cc/post/travels_wuzhen_xizha</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-07-04T15:00:36+00:00</published>
        <updated>2020-07-04T15:00:36+00:00</updated>
        
        <content type="html"><![CDATA[2020-06-25 恰逢端午节，于是去乌镇游玩，第一天在西栅游玩，第二天则去了东栅。由于非一天游玩，且实际上属于两个不同景区，因此分为两篇撰写。东栅游记见乌镇东栅游记]]></content>
        
        <summary type="html">
            
            2020-06-25 恰逢端午节，于是去乌镇游玩，第一天在西栅游玩，第二天则去了东栅。由于非一天游玩，且实际上属于两个不同景区，因此分为两篇撰写。东栅游记见乌镇东栅游记
            
        </summary>
        
    </entry>
    
    <entry>
        <title>浏览器端 VS Code 部署</title>
        <link href="https://www.ohyee.cc/post/note_code_server"/>
        <id>https://www.ohyee.cc/post/note_code_server</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-06-30T16:29:56+00:00</published>
        <updated>2020-06-30T16:29:56+00:00</updated>
        
        <content type="html"><![CDATA[在浏览器中运行服务器中的 VS Code —— code-server]]></content>
        
        <summary type="html">
            
            在浏览器中运行服务器中的 VS Code —— code-server
            
        </summary>
        
    </entry>
    
    <entry>
        <title>艰难的博客找回过程</title>
        <link href="https://blog.gaojianli.me/2020/06/22/%E8%89%B0%E9%9A%BE%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%89%BE%E5%9B%9E%E8%BF%87%E7%A8%8B/"/>
        <id>https://blog.gaojianli.me/2020/06/22/%E8%89%B0%E9%9A%BE%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%89%BE%E5%9B%9E%E8%BF%87%E7%A8%8B/</id>
        
        <author>
            <name>高渐离</name>
        </author>
        
        <published>2022-12-04T13:34:45+00:00</published>
        <updated>2022-12-04T13:34:45+00:00</updated>
        
        <content type="html"><![CDATA[<h1><a href="https://blog.gaojianli.me/2020/06/22/%E8%89%B0%E9%9A%BE%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%89%BE%E5%9B%9E%E8%BF%87%E7%A8%8B/#起因"></a>起因</h1><p>一直以来，我的博客都是通过hexo本地生成，生成文件上传Github，服务器pull的方式进行部署的。这么久都没遇到什么太大的问题，博客的相关源代码也都放在了我的文档里。然在2019年10月的时候，我的Surface Book出现了屏幕和底座接触不良的情况，USB和键盘经常失去响应。考虑到保修即将在12月份失效，因此选择了送修。</p><a></a><p>在备份数据的时候，我精心备份了所有的游戏，照片和代码，却唯独跳过了“我的文档”。感谢QQ等软件把自己的数据放到我的文档里面（日你大坝），给我留下了“我的文档就是个存放软件数据的目录，没什么无关紧要的东西”这种错误印象。“<strong>不会真的有人把文档放到我的文档吧？不会吧，不会吧？</strong>”我这么想着，在仔细观察了一下我的文档的目录后只备份了一些游戏的存档后就送修了。</p><p>然而，事实证明真的有人把东西放到“我的文档”，而且这个人就是我。天知道我在哪天整理文件的时候鬼迷心窍地把博客的源代码放到了“我的文档”。对于巨硬这种公司来说，送修自然意味着数据丢失。事实上我不但丢失了所有数据，连原有的划痕都被一并“修复”了，很大概率巨硬是直接给我换了一台设备，找回数据就是做梦。（另外本次送修还导致我更换了ssh私钥，错过了某加密货币的drop，直接损失</p><p>说来惭愧，在送修之后我就再也没有抽出时间写博客，因此我竟然没有第一时间发现这一事情。直到今年2月在Telegram和群友吹b的时候突然想起来，才突然发现自己的博客已经GG了。由于重新整理非常费时费力，因此直到这几天才腾出时间来整理。</p><h1><a href="https://blog.gaojianli.me/2020/06/22/%E8%89%B0%E9%9A%BE%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%89%BE%E5%9B%9E%E8%BF%87%E7%A8%8B/#防范措施"></a>防范措施</h1><p>为了避免重蹈覆辙，最好的方法就是直接把源代码传到Git上，正好Github Action发布后还没用过（一直以来都在用Gitlab pipeline)，就来试试用Github Action来部署吧。 </p><p>首先生成一个Deply key</p><table><tr><td><pre><span>1</span><br /></pre></td><td><pre><span>ssh-keygen -t rsa -C "823805669hehe@gmail.com"</span><br /></pre></td></tr></table><p>对于这种需求，当然不是只有我一个人，大家都喜欢薅微软的羊毛，这里已经有一个库了<a href="https://github.com/sma11black/hexo-action" target="_blank">sma11black/hexo-action</a><br />添加到相应的编译后仓库里，在源代码文件夹里面新增<code>action.yml</code>:</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /><span>16</span><br /><span>17</span><br /><span>18</span><br /><span>19</span><br /><span>20</span><br /><span>21</span><br /><span>22</span><br /><span>23</span><br /><span>24</span><br /><span>25</span><br /><span>26</span><br /><span>27</span><br /><span>28</span><br /><span>29</span><br /><span>30</span><br /><span>31</span><br /><span>32</span><br /><span>33</span><br /><span>34</span><br /><span>35</span><br /><span>36</span><br /><span>37</span><br /><span>38</span><br /><span>39</span><br /></pre></td><td><pre><span><span>name:</span> <span>Deploy</span> <span># workflow name</span></span><br /><span></span><br /><span><span>on:</span></span><br /><span>  <span>[push]</span> <span># 触发事件</span></span><br /><span></span><br /><span><span>jobs:</span></span><br /><span>  <span>build:</span> <span># job1 id</span></span><br /><span>    <span>runs-on:</span> <span>ubuntu-latest</span> <span># 运行环境为最新版 Ubuntu</span></span><br /><span>    <span>name:</span> <span>A</span> <span>job</span> <span>to</span> <span>deploy</span> <span>blog.</span></span><br /><span>    <span>steps:</span></span><br /><span>    <span>-</span> <span>name:</span> <span>Checkout</span> <span># step1 获取源码</span></span><br /><span>      <span>uses:</span> <span>actions/checkout@v1</span> <span># 使用 actions/checkout@v1</span></span><br /><span>      <span>with:</span> <span># 条件</span></span><br /><span>        <span>submodules:</span> <span>true</span> <span># Checkout private submodules(themes or something else). 当有子模块时切换分支？</span></span><br /><span></span><br /><span>    <span># Caching dependencies to speed up workflows. (GitHub will remove any cache entries that have not been accessed in over 7 days.) 缓存压缩 node_modules，不用每次下载，使用时解压，可以加快工作流的执行过程，超过 7 天没有使用将删除压缩包。</span></span><br /><span>    <span>-</span> <span>name:</span> <span>Cache</span> <span>node</span> <span>modules</span> <span># step2</span></span><br /><span>      <span>uses:</span> <span>actions/cache@v1</span></span><br /><span>      <span>id:</span> <span>cache</span></span><br /><span>      <span>with:</span></span><br /><span>        <span>path:</span> <span>node_modules</span></span><br /><span>        <span>key:</span> <span>${{</span> <span>runner.os</span> <span>}}-node-${{</span> <span>hashFiles('**/package-lock.json')</span> <span>}}</span></span><br /><span>        <span>restore-keys:</span> <span>|</span></span><br /><span>          <span>${{</span> <span>runner.os</span> <span>}}-node-</span></span><br /><span>    <span>-</span> <span>name:</span> <span>Install</span> <span>Dependencies</span> <span># step3 name</span></span><br /><span>      <span>if:</span> <span>steps.cache.outputs.cache-hit</span> <span>!=</span> <span>'true'</span> <span># 如果变量 cache-hit 不等于 true</span></span><br /><span>      <span>run:</span> <span>npm</span> <span>install</span> <span># 安装 node modules 相关依赖</span></span><br /><span></span><br /><span>    <span># Deploy hexo blog website.</span></span><br /><span>    <span>-</span> <span>name:</span> <span>Deploy</span> <span># step4</span></span><br /><span>      <span>id:</span> <span>deploy</span></span><br /><span>      <span>uses:</span> <span>sma11black/hexo-action@v1.0.1</span></span><br /><span>      <span>with:</span></span><br /><span>        <span>deploy_key:</span> <span>${{</span> <span>secrets.DEPLOY_KEY</span> <span>}}</span></span><br /><span>        <span>user_name:</span> <span>Gaojianli</span></span><br /><span>        <span>user_email:</span> <span>823805669hehe@gmail.com</span></span><br /><span>    <span>-</span> <span>name:</span> <span>Get</span> <span>the</span> <span>output</span></span><br /><span>      <span>run:</span> <span>|</span></span><br /><span>        <span>echo</span> <span>"$<span>{{ steps.deploy.outputs.notify }}</span>"</span></span><br /></pre></td></tr></table><p>接下来push上去看看效果吧：</p><table><tr><td><pre><span>1</span><br /></pre></td><td><pre><span>fatal: could not read Username for 'https://github.com': No such device or address</span><br /></pre></td></tr></table><p>???这是什么问题？检查再三,我也确认我的确填写了这一字段，最终我找到了这个<a href="https://github.com/sma11black/hexo-action/issues/5" target="_blank">issue</a>，其大意大概就是得用SSH的方式登录，行吧。修改<code>_config.yml</code>如下：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /></pre></td><td><pre><span><span>deploy:</span></span><br /><span>  <span>type:</span> <span>'git'</span></span><br /><span>  <span>repo:</span> <span>git@github.com:Gaojianli/gaojianli.github.io.git</span></span><br /><span>  <span>branch:</span> <span>master</span></span><br /></pre></td></tr></table><p>再次push上去看看：<br /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" /><br />成功！</p><h1><a href="https://blog.gaojianli.me/2020/06/22/%E8%89%B0%E9%9A%BE%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%89%BE%E5%9B%9E%E8%BF%87%E7%A8%8B/#结语"></a>结语</h1><p>我在<a href="https://blog.gaojianli.me/2019/05/11/Libuv%E5%88%9D%E6%8E%A2/">Libuv初探</a>一文曾经写道：</p><blockquote><p>在生活中，有很多事情不是不能做，只是需要一个契机。有了这个契机，我就能有足够的动力去完成之。</p></blockquote><p>这次的博客丢失，也算是一次契机吧！第一次使用了Github Actions，同时也避免了数据的再次丢失，总的来说还是可喜可贺。接下来的就等一个Codespaces正式上线吧，以后连本地都不需要留存博客代码了，真正把hexo用成wordpress（笑）<br />では、諸君は。</p>]]></content>
        
        <summary type="html">
            
            起因一直以来，我的博客都是通过hexo本地生成，生成文件上传Github，服务器pull的方式进行部署的。这么久都没遇到什么太大的问题，博客的相关源代码也都放在了我的文档里。然在2019年10月的时候，我的Surface Book出现了屏幕和底座接触不良的情况，USB和键盘经常
            
        </summary>
        
        <category term="博客"/>
        
    </entry>
    
    <entry>
        <title>网络安全实验总结以及一些想法</title>
        <link href="https://www.ohyee.cc/post/writting_cyber_security_teaching_assistant"/>
        <id>https://www.ohyee.cc/post/writting_cyber_security_teaching_assistant</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-06-17T16:15:04+00:00</published>
        <updated>2020-06-17T16:15:04+00:00</updated>
        
        <content type="html"><![CDATA[这学期担任了网络安全与网络管理的助教，主要负责实验部分。针对实验的一些总结和想法]]></content>
        
        <summary type="html">
            
            这学期担任了网络安全与网络管理的助教，主要负责实验部分。针对实验的一些总结和想法
            
        </summary>
        
    </entry>
    
    <entry>
        <title>NextJS 获取配置文件</title>
        <link href="https://www.ohyee.cc/post/note_nextjs_runtime_config"/>
        <id>https://www.ohyee.cc/post/note_nextjs_runtime_config</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-06-17T04:39:56+00:00</published>
        <updated>2020-06-17T04:39:56+00:00</updated>
        
        <content type="html"><![CDATA[在 NextJS 中配置运行时可获取的变量]]></content>
        
        <summary type="html">
            
            在 NextJS 中配置运行时可获取的变量
            
        </summary>
        
    </entry>
    
    <entry>
        <title>部署 Blotter 博客系统</title>
        <link href="https://www.ohyee.cc/post/note_blotter_deploy"/>
        <id>https://www.ohyee.cc/post/note_blotter_deploy</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-06-05T07:24:11+00:00</published>
        <updated>2020-06-05T07:24:11+00:00</updated>
        
        <content type="html"><![CDATA[在 Ubuntu 部署 Blotter 博客系统]]></content>
        
        <summary type="html">
            
            在 Ubuntu 部署 Blotter 博客系统
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Chord: A Scalable Peer-to-peer Lookup Service for Internet Applications</title>
        <link href="https://www.ohyee.cc/post/note_paper_chord_a_scalable_peer_to_peer_lookup_service_for_internet_applications"/>
        <id>https://www.ohyee.cc/post/note_paper_chord_a_scalable_peer_to_peer_lookup_service_for_internet_applications</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-06-01T15:25:00+00:00</published>
        <updated>2020-06-01T15:25:00+00:00</updated>
        
        <content type="html"><![CDATA[Chord 是 DHT 的四种原始实现之一，在分布式网络中具有很重要的地位]]></content>
        
        <summary type="html">
            
            Chord 是 DHT 的四种原始实现之一，在分布式网络中具有很重要的地位
            
        </summary>
        
    </entry>
    
    <entry>
        <title>初探 Deno</title>
        <link href="https://www.ohyee.cc/post/note_deno_first_use"/>
        <id>https://www.ohyee.cc/post/note_deno_first_use</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-05-23T15:16:37+00:00</published>
        <updated>2020-05-23T15:16:37+00:00</updated>
        
        <content type="html"><![CDATA[Deno 是一个旨在替代 NodeJS 的编程语言]]></content>
        
        <summary type="html">
            
            Deno 是一个旨在替代 NodeJS 的编程语言
            
        </summary>
        
    </entry>
    
    <entry>
        <title>使用 Go WebAssembly 实现密码学前端应用</title>
        <link href="https://www.ohyee.cc/post/note_go_wasm_crypto"/>
        <id>https://www.ohyee.cc/post/note_go_wasm_crypto</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-05-21T16:48:06+00:00</published>
        <updated>2020-05-21T16:48:06+00:00</updated>
        
        <content type="html"><![CDATA[使用 Go 语言为前端提供模块]]></content>
        
        <summary type="html">
            
            使用 Go 语言为前端提供模块
            
        </summary>
        
    </entry>
    
    <entry>
        <title>密码学家就餐问题</title>
        <link href="https://www.ohyee.cc/post/note_dining_cryptographers_problem"/>
        <id>https://www.ohyee.cc/post/note_dining_cryptographers_problem</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-05-15T09:14:51+00:00</published>
        <updated>2020-05-15T09:14:51+00:00</updated>
        
        <content type="html"><![CDATA[密码学就餐问题是一个关于多端隐私通信的问题]]></content>
        
        <summary type="html">
            
            密码学就餐问题是一个关于多端隐私通信的问题
            
        </summary>
        
    </entry>
    
    <entry>
        <title>配置 Samba 文件共享</title>
        <link href="https://www.ohyee.cc/post/note_samba"/>
        <id>https://www.ohyee.cc/post/note_samba</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-05-14T15:28:08+00:00</published>
        <updated>2020-05-14T15:28:08+00:00</updated>
        
        <content type="html"><![CDATA[在 Windows 和 OpenWRT 配置 Samba]]></content>
        
        <summary type="html">
            
            在 Windows 和 OpenWRT 配置 Samba
            
        </summary>
        
    </entry>
    
    <entry>
        <title>小米路由器 3G 使用 OpenWRT</title>
        <link href="https://www.ohyee.cc/post/note_miwifi_openwrt"/>
        <id>https://www.ohyee.cc/post/note_miwifi_openwrt</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-05-12T05:39:58+00:00</published>
        <updated>2020-05-12T05:39:58+00:00</updated>
        
        <content type="html"><![CDATA[在开发环境中，往往环境很复杂，并且很多资源在国内访问很慢，虽然原则上可以配置代理实现各种功能，但是很多情况下，并非所有的应用都能很好地设置代理。而使用透明代理则可以很好地解决该问题]]></content>
        
        <summary type="html">
            
            在开发环境中，往往环境很复杂，并且很多资源在国内访问很慢，虽然原则上可以配置代理实现各种功能，但是很多情况下，并非所有的应用都能很好地设置代理。而使用透明代理则可以很好地解决该问题
            
        </summary>
        
    </entry>
    
    <entry>
        <title>ArchLinux 更新时覆盖文件</title>
        <link href="https://www.ohyee.cc/post/note_archlinux_pacman_overwrite"/>
        <id>https://www.ohyee.cc/post/note_archlinux_pacman_overwrite</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-05-07T16:11:33+00:00</published>
        <updated>2020-05-07T16:11:33+00:00</updated>
        
        <content type="html"><![CDATA[在更新 Arch Linux 时，可能会提示 ”xxxx exists in filesystem“，覆盖强制更新解决该提示]]></content>
        
        <summary type="html">
            
            在更新 Arch Linux 时，可能会提示 ”xxxx exists in filesystem“，覆盖强制更新解决该提示
            
        </summary>
        
    </entry>
    
    <entry>
        <title>使用 archlinux-java 实现多 Java 版本共存</title>
        <link href="https://www.ohyee.cc/post/note_archlinux_multi_java_version"/>
        <id>https://www.ohyee.cc/post/note_archlinux_multi_java_version</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-05-07T08:57:06+00:00</published>
        <updated>2020-05-07T08:57:06+00:00</updated>
        
        <content type="html"><![CDATA[在 Arch Linux 上管理多版本 Java]]></content>
        
        <summary type="html">
            
            在 Arch Linux 上管理多版本 Java
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Riffle: An Efficient Communication System With Strong Anonymity</title>
        <link href="https://www.ohyee.cc/post/riffle_an_efficient_communication_system_with_strong_anonymity"/>
        <id>https://www.ohyee.cc/post/riffle_an_efficient_communication_system_with_strong_anonymity</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-05-05T17:59:31+00:00</published>
        <updated>2020-05-05T17:59:31+00:00</updated>
        
        <content type="html"><![CDATA[《Riffle: An Efficient Communication System With Strong Anonymity》论文笔记]]></content>
        
        <summary type="html">
            
            《Riffle: An Efficient Communication System With Strong Anonymity》论文笔记
            
        </summary>
        
    </entry>
    
    <entry>
        <title>华为 EMUI10 换用第三方桌面</title>
        <link href="https://www.ohyee.cc/post/note_emui10_thirdpart_launcher"/>
        <id>https://www.ohyee.cc/post/note_emui10_thirdpart_launcher</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-05-05T10:55:16+00:00</published>
        <updated>2020-05-05T10:55:16+00:00</updated>
        
        <content type="html"><![CDATA[在华为  EMUI10 上换用第三方桌面（微软桌面）]]></content>
        
        <summary type="html">
            
            在华为  EMUI10 上换用第三方桌面（微软桌面）
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Vite 原理浅析</title>
        <link href="https://molunerfinn.com/learn-vite/"/>
        <id>https://molunerfinn.com/learn-vite/</id>
        
        <author>
            <name>Molunerfinn</name>
        </author>
        
        <published>2020-09-17T15:18:28+00:00</published>
        <updated>2020-09-17T15:18:28+00:00</updated>
        
        <content type="html"><![CDATA[<p>已经好久没有写博客了。本文不说 Vue3.0 了，相信已经有很多文章在说它了。而前一段时间尤大开源的 <a href="https://github.com/vuejs/vite" target="_blank">Vite</a> 则是一个更加吸引我的东西，它的总体思路是很不错的，早期源码的学习成本也比较低，于是就趁着假期学习一番。</p><p>本文撰写于 Vite-0.9.1 版本。</p><a></a><h2><a href="https://molunerfinn.com/learn-vite/#什么是-Vite"></a>什么是 Vite</h2><p>借用作者的原话：</p><blockquote><p>Vite，一个基于浏览器原生 ES imports 的开发服务器。利用浏览器去解析 imports，在服务器端按需编译返回，完全跳过了打包这个概念，服务器随起随用。同时不仅有 Vue 文件支持，还搞定了热更新，而且热更新的速度不会随着模块增多而变慢。针对生产环境则可以把同一份代码用 rollup 打包。虽然现在还比较粗糙，但这个方向我觉得是有潜力的，做得好可以彻底解决改一行代码等半天热更新的问题。</p></blockquote><p>注意到两个点：</p><ul><li>一个是 Vite 主要对应的场景是开发模式，原理是拦截浏览器发出的 ES imports 请求并做相应处理。（生产模式是用 rollup 打包）</li><li>一个是 Vite 在开发模式下不需要打包，只需要编译浏览器发出的 HTTP 请求对应的文件即可，所以热更新速度很快。</li></ul><p>因此，要实现上述目标，需要要求项目里只使用原生 ES imports，如果使用了 require 将失效，所以要用它完全替代掉 Webpack 就目前来说还是不太现实的。上面也说了，生产模式下的打包不是 Vite 自身提供的，因此生产模式下如果你想要用 Webpack 打包也依然是可以的。从这个角度来说，Vite 可能更像是替代了 webpack-dev-server 的一个东西。</p><h3><a href="https://molunerfinn.com/learn-vite/#modules-模块"></a>modules 模块</h3><p>Vite 的实现离不开现代浏览器原生支持的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules" target="_blank">模块功能</a>。如下：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /></pre></td><td><pre><span><span>&lt;<span>script</span> <span>type</span>=<span>"module"</span>&gt;</span></span><br /><span><span><span>import</span> { a } <span>from</span> <span>'./a.js'</span></span></span><br /><span><span>&lt;/<span>script</span>&gt;</span></span><br /></pre></td></tr></table><p>当声明一个 <code>script</code> 标签类型为 <code>module</code> 时，浏览器将对其内部的 <code>import</code> 引用发起 <code>HTTP</code> 请求获取模块内容。比如上述，浏览器将发起一个对 <code>HOST/a.js</code> 的 HTTP 请求，获取到内容之后再执行。</p><p>Vite 劫持了这些请求，并在后端进行相应的处理（比如将 Vue 文件拆分成 <code>template</code>、<code>style</code>、<code>script</code> 三个部分），然后再返回给浏览器。</p><p>由于浏览器只会对用到的模块发起 HTTP 请求，所以 Vite 没必要对项目里所有的文件先打包后返回，而是只编译浏览器发起 HTTP 请求的模块即可。这里是不是有点按需加载的味道？</p><h3><a href="https://molunerfinn.com/learn-vite/#编译和打包的区别"></a>编译和打包的区别</h3><p>看到这里，可能有些朋友不免有些疑问，编译和打包有什么区别？为什么 Vite 号称「热更新的速度不会随着模块增多而变慢」？</p><p>简单举个例子，有三个文件 <code>a.js</code>、<code>b.js</code>、<code>c.js</code></p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /></pre></td><td><pre><span><span>// a.js</span></span><br /><span><span>const</span> a = <span><span>()</span> =&gt;</span> { ... }</span><br /><span><span>export</span> { a }</span><br /><span></span><br /><span><span>// b.js</span></span><br /><span><span>const</span> b = <span><span>()</span> =&gt;</span> { ... }</span><br /><span><span>export</span> { b }</span><br /></pre></td></tr></table><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /></pre></td><td><pre><span><span>// c.js</span></span><br /><span><span>import</span> { a } <span>from</span> <span>'./a'</span></span><br /><span><span>import</span> { b } <span>from</span> <span>'./b'</span></span><br /><span></span><br /><span><span>const</span> c = <span><span>()</span> =&gt;</span> {</span><br /><span>  <span>return</span> a() + b()</span><br /><span>}</span><br /><span></span><br /><span><span>export</span> { c }</span><br /></pre></td></tr></table><p>如果以 c 文件为入口，那么打包就会变成如下（结果进行了简化处理）：（假定打包文件名为 <code>bundle.js</code>)</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /></pre></td><td><pre><span><span>// bundle.js</span></span><br /><span><span>const</span> a = <span><span>()</span> =&gt;</span> { ... }</span><br /><span><span>const</span> b = <span><span>()</span> =&gt;</span> { ... }</span><br /><span><span>const</span> c = <span><span>()</span> =&gt;</span> {</span><br /><span>  <span>return</span> a() + b()</span><br /><span>}</span><br /><span></span><br /><span><span>export</span> { c }</span><br /></pre></td></tr></table><p><strong>值得注意的是，打包也需要有编译的步骤。</strong></p><p>Webpack 的热更新原理简单来说就是，一旦发生某个依赖（比如上面的 <code>a.js</code> ）改变，就将这个依赖所处的 <code>module</code> 的更新，并将新的 <code>module</code> 发送给浏览器重新执行。由于我们只打了一个 <code>bundle.js</code>，所以热更新的话也会重新打这个 <code>bundle.js</code>。试想如果依赖越来越多，就算只修改一个文件，理论上热更新的速度也会越来越慢。</p><p>而如果是像 Vite 这种只编译不打包会是什么情况呢？</p><p>只是编译的话，最终产出的依然是 <code>a.js</code>、<code>b.js</code>、<code>c.js</code> 三个文件，只有编译耗时。由于入口是 <code>c.js</code>，浏览器解析到 <code>import { a } from './a'</code> 时，会发起 HTTP 请求 <code>a.js</code> （b 同理），就算不用打包，也可以加载到所需要的代码，因此省去了合并代码的时间。</p><p>在热更新的时候，如果 <code>a</code> 发生了改变，只需要更新 <code>a</code> 以及用到 <code>a</code> 的 <code>c</code>。由于 <code>b</code> 没有发生改变，所以 Vite 无需重新编译 <code>b</code>，可以从缓存中直接拿编译的结果。这样一来，修改一个文件 <code>a</code>，只会重新编译这个文件 <code>a</code> 以及浏览器当前用到这个文件 <code>a</code> 的文件，而其余文件都无需重新编译。所以理论上热更新的速度不会随着文件增加而变慢。</p><p>当然这样做有没有不好的地方？有，初始化的时候如果浏览器请求的模块过多，也会带来初始化的性能问题。不过如果你能遇到初始化过慢的这个问题，相信热更新的速度会弥补很多。当然我相信以后尤大也会解决这个问题。</p><h2><a href="https://molunerfinn.com/learn-vite/#Vite-运行-Web-应用的实现"></a>Vite 运行 Web 应用的实现</h2><p>上面说了这么多的铺垫，可能还不够直观，我们可以先跑一个 Vite 项目来实际看看。</p><p>按照官网的说明，可以输入如下命令（<code>&lt;project-name&gt;</code> 为自己想要的目录名即可）</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /></pre></td><td><pre><span>$ npx create-vite-app &lt;project-name&gt;</span><br /><span>$ <span>cd</span> &lt;project-name&gt;</span><br /><span>$ npm install</span><br /><span>$ npm run dev</span><br /></pre></td></tr></table><p>如果一切都正常你将在 <code>localhost:3000</code>（Vite 的服务器起的端口） 看到这个界面：</p><p><img src="https://cdn.jsdelivr.net/gh/Molunerfinn/test/blog/20200503152836.png" /></p><p>并得到如下的代码结构：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /></pre></td><td><pre><span>.</span><br /><span>├── App.vue // 页面的主要逻辑</span><br /><span>├── index.html // 默认打开的页面以及 Vue 组件挂载</span><br /><span>├── node_modules</span><br /><span>└── package.json</span><br /></pre></td></tr></table><h3><a href="https://molunerfinn.com/learn-vite/#拦截-HTTP-请求"></a>拦截 HTTP 请求</h3><p>接下来开始说一下 Vite 实现的核心——拦截浏览器对模块的请求并返回处理后的结果。</p><p>我们知道，由于是在 <code>localhost:3000</code> 打开的网页，所以浏览器发起的第一个请求自然是请求 <code>localhost:3000/</code>，这个请求发送到 Vite 后端之后经过静态资源服务器的处理，会进而请求到 <code>/index.html</code>，此时 Vite 就开始对这个请求做拦截和处理了。</p><p>首先，<code>index.html</code> 里的源码是这样的：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /></pre></td><td><pre><span><span>&lt;<span>div</span> <span>id</span>=<span>"app"</span>&gt;</span><span>&lt;/<span>div</span>&gt;</span></span><br /><span><span>&lt;<span>script</span> <span>type</span>=<span>"module"</span>&gt;</span></span><br /><span><span><span>import</span> { createApp } <span>from</span> <span>'vue'</span></span></span><br /><span><span><span>import</span> App <span>from</span> <span>'./App.vue'</span></span></span><br /><span></span><br /><span><span>createApp(App).mount(<span>'#app'</span>)</span></span><br /><span><span>&lt;/<span>script</span>&gt;</span></span><br /></pre></td></tr></table><p>但是在浏览器里它是这样的：</p><p><img src="https://cdn.jsdelivr.net/gh/Molunerfinn/test/blog/20200503153404.png" /></p><p>注意到什么不同了吗？是的， <code>import { createApp } from 'vue'</code> 换成了 <code>import { createApp } from '/@modules/vue</code>。</p><p>这里就不得不说浏览器对 <code>import</code> 的模块发起请求时的一些局限了，平时我们写代码，如果不是引用相对路径的模块，而是引用 <code>node_modules</code> 的模块，都是直接 <code>import xxx from 'xxx'</code>，由 Webpack 等工具来帮我们找这个模块的具体路径。但是浏览器不知道你项目里有 <code>node_modules</code>，它只能通过相对路径去寻找模块。</p><p>因此 Vite 在拦截的请求里，对直接引用 <code>node_modules</code> 的模块都做了路径的替换，换成了 <code>/@modules/</code> 并返回回去。而后浏览器收到后，会发起对 <code>/@modules/xxx</code> 的请求，然后被 Vite 再次拦截，并由 Vite 内部去访问真正的模块，并将得到的内容再次做同样的处理后，返回给浏览器。</p><h3><a href="https://molunerfinn.com/learn-vite/#imports-替换"></a>imports 替换</h3><h4><a href="https://molunerfinn.com/learn-vite/#普通-JS-import-替换"></a>普通 JS import 替换</h4><p>上面说的这步替换来自 <code>src/node/serverPluginModuleRewrite.ts</code>:</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /><span>16</span><br /><span>17</span><br /><span>18</span><br /><span>19</span><br /><span>20</span><br /><span>21</span><br /><span>22</span><br /></pre></td><td><pre><span><span>// 只取关键代码：</span></span><br /><span><span>// Vite 使用 Koa 作为内置的服务器</span></span><br /><span><span>// 如果请求的路径是 /index.html</span></span><br /><span><span>if</span> (ctx.path === <span>'/index.html'</span>) {</span><br /><span>  <span>// ...</span></span><br /><span>  <span>const</span> html = <span>await</span> readBody(ctx.body)</span><br /><span>  ctx.body = html.replace(</span><br /><span>    /(<span><span>&lt;<span>script\b[^</span>&gt;</span>]*&gt;)([\s\S]*?)<span>&lt;<span>\</span>/<span>script</span>&gt;</span>/gm, // 正则匹配</span></span><br /><span><span>    (_, openTag, script) =&gt; {</span></span><br /><span><span>      // also inject __DEV__ flag</span></span><br /><span><span>      const devFlag = hasInjectedDevFlag ? `` : devInjectionCode</span></span><br /><span><span>      hasInjectedDevFlag = true</span></span><br /><span><span>       // 替换 html 的 import 路径</span></span><br /><span><span>      return `${devFlag}${openTag}${rewriteImports(</span></span><br /><span><span>        script,</span></span><br /><span><span>        '/index.html',</span></span><br /><span><span>        resolver</span></span><br /><span><span>      )}<span>&lt;/<span>script</span>&gt;</span></span><span>`</span></span><br /><span><span>    }</span></span><br /><span><span>  )</span></span><br /><span><span>  // ...</span></span><br /><span><span>}</span></span><br /></pre></td></tr></table><p>如果并没有在 <code>script</code> 标签内部直接写 <code>import</code>，而是用 <code>src</code> 的形式引用的话如下：</p><table><tr><td><pre><span>1</span><br /></pre></td><td><pre><span>&lt;script type=<span>"module"</span> src=<span>"/main.js"</span>&gt;&lt;<span>/script&gt;</span></span><br /></pre></td></tr></table><p>那么就会在浏览器发起对 <code>main.js</code> 请求的时候进行处理：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /><span>16</span><br /><span>17</span><br /><span>18</span><br /></pre></td><td><pre><span><span>// 只取关键代码：</span></span><br /><span><span>if</span> (</span><br /><span>  ctx.response.is(<span>'js'</span>) &amp;&amp;</span><br /><span>  <span>// ...</span></span><br /><span>) {</span><br /><span>  <span>// ...</span></span><br /><span>  <span>const</span> content = <span>await</span> readBody(ctx.body)</span><br /><span>  <span>await</span> initLexer</span><br /><span>  <span>// 重写 js 文件里的 import</span></span><br /><span>  ctx.body = rewriteImports(</span><br /><span>    content,</span><br /><span>    ctx.url.replace(<span>/(&amp;|\?)t=\d+/</span>, <span>''</span>),</span><br /><span>    resolver,</span><br /><span>    ctx.query.t</span><br /><span>  )</span><br /><span>  <span>// 写入缓存，之后可以从缓存中直接读取</span></span><br /><span>  rewriteCache.set(content, ctx.body)</span><br /><span>}</span><br /></pre></td></tr></table><p>替换逻辑 <code>rewriteImports</code> 就不展开了，用的是 <code>es-module-lexer</code> 来进行的语法分析获取 <code>imports</code> 数组，然后再做的替换。</p><h4><a href="https://molunerfinn.com/learn-vite/#vue-文件的替换"></a>*.vue 文件的替换</h4><p>如果 <code>import</code> 的是 <code>.vue</code> 文件，将会做更进一步的替换：</p><p>原本的 <code>App.vue</code> 文件长这样：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /><span>16</span><br /><span>17</span><br /><span>18</span><br /><span>19</span><br /><span>20</span><br /><span>21</span><br /><span>22</span><br /><span>23</span><br /><span>24</span><br /></pre></td><td><pre><span><span>&lt;<span>template</span>&gt;</span></span><br /><span>  <span>&lt;<span>h1</span>&gt;</span>Hello Vite + Vue 3!<span>&lt;/<span>h1</span>&gt;</span></span><br /><span>  <span>&lt;<span>p</span>&gt;</span>Edit ./App.vue to test hot module replacement (HMR).<span>&lt;/<span>p</span>&gt;</span></span><br /><span>  <span>&lt;<span>p</span>&gt;</span></span><br /><span>    <span>&lt;<span>span</span>&gt;</span>Count is: {{ count }}<span>&lt;/<span>span</span>&gt;</span></span><br /><span>    <span>&lt;<span>button</span> @<span>click</span>=<span>"count++"</span>&gt;</span>increment<span>&lt;/<span>button</span>&gt;</span></span><br /><span>  <span>&lt;/<span>p</span>&gt;</span></span><br /><span><span>&lt;/<span>template</span>&gt;</span></span><br /><span></span><br /><span><span>&lt;<span>script</span>&gt;</span></span><br /><span><span><span>export</span> <span>default</span> {</span></span><br /><span><span>  data: <span><span>()</span> =&gt;</span> ({ <span>count</span>: <span>0</span> }),</span></span><br /><span>}</span><br /><span><span>&lt;/<span>script</span>&gt;</span></span><br /><span></span><br /><span><span>&lt;<span>style</span> <span>scoped</span>&gt;</span></span><br /><span>h1 {</span><br /><span><span>  <span>color</span>: <span>#4fc08d</span>;</span></span><br /><span>}</span><br /><span></span><br /><span>h1, p {</span><br /><span>  font-family: Arial, Helvetica, sans-serif;</span><br /><span>}</span><br /><span><span>&lt;/<span>style</span>&gt;</span></span><br /></pre></td></tr></table><p>替换后长这样：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /><span>16</span><br /><span>17</span><br /><span>18</span><br /></pre></td><td><pre><span><span>// localhost:3000/App.vue</span></span><br /><span><span>import</span> { updateStyle } <span>from</span> <span>"/@hmr"</span></span><br /><span></span><br /><span><span>// 抽出 script 逻辑</span></span><br /><span><span>const</span> __script = {</span><br /><span>  data: <span><span>()</span> =&gt;</span> ({ <span>count</span>: <span>0</span> }),</span><br /><span>}</span><br /><span></span><br /><span><span>// 将 style 拆分成 /App.vue?type=style 请求，由浏览器继续发起请求获取样式</span></span><br /><span>updateStyle(<span>"c44b8200-0"</span>, <span>"/App.vue?type=style&amp;index=0&amp;t=1588490870523"</span>)</span><br /><span>__script.__scopeId = <span>"data-v-c44b8200"</span> <span>// 样式的 scopeId</span></span><br /><span></span><br /><span><span>// 将 template 拆分成 /App.vue?type=template 请求，由浏览器继续发起请求获取 render function</span></span><br /><span><span>import</span> { render <span>as</span> __render } <span>from</span> <span>"/App.vue?type=template&amp;t=1588490870523&amp;t=1588490870523"</span></span><br /><span>__script.render = __render <span>// render 方法挂载，用于 createApp 时渲染</span></span><br /><span>__script.__hmrId = <span>"/App.vue"</span> <span>// 记录 HMR 的 id，用于热更新</span></span><br /><span>__script.__file = <span>"/XXX/web/vite-test/App.vue"</span> <span>// 记录文件的原始的路径，后续热更新能用到</span></span><br /><span><span>export</span> <span>default</span> __script</span><br /></pre></td></tr></table><p>这样就把原本一个 <code>.vue</code> 的文件拆成了三个请求（分别对应 <code>script</code>、<code>style</code> 和<code>template</code>） ，浏览器会先收到包含 <code>script</code> 逻辑的 <code>App.vue</code> 的响应，然后解析到 <code>template</code> 和 <code>style</code> 的路径后，会再次发起 HTTP 请求来请求对应的资源，此时 Vite 对其拦截并再次处理后返回相应的内容。</p><p>如下：</p><p><img src="https://cdn.jsdelivr.net/gh/Molunerfinn/test/blog/20200503171228.png" /></p><p>不得不说这个思路是非常巧妙的。</p><p>这一步的拆分来自 <code>src/node/serverPluginVue.ts</code>，核心逻辑是根据 URL 的 query 参数来做不同的处理（简化分析如下）：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /><span>16</span><br /><span>17</span><br /><span>18</span><br /><span>19</span><br /><span>20</span><br /><span>21</span><br /><span>22</span><br /><span>23</span><br /><span>24</span><br /><span>25</span><br /><span>26</span><br /><span>27</span><br /><span>28</span><br /><span>29</span><br /><span>30</span><br /><span>31</span><br /></pre></td><td><pre><span><span>// 如果没有 query 的 type，比如直接请求的 /App.vue</span></span><br /><span><span>if</span> (!query.type) {</span><br /><span>  ctx.type = <span>'js'</span></span><br /><span>  ctx.body = compileSFCMain(descriptor, filePath, publicPath) <span>// 编译 App.vue，编译成上面说的带有 script 内容，以及 template 和 style 链接的形式。</span></span><br /><span>  <span>return</span> etagCacheCheck(ctx) <span>// ETAG 缓存检测相关逻辑</span></span><br /><span>}</span><br /><span></span><br /><span><span>// 如果 query 的 type 是 template，比如 /App.vue?type=template&amp;xxx</span></span><br /><span><span>if</span> (query.type === <span>'template'</span>) {</span><br /><span>  ctx.type = <span>'js'</span></span><br /><span>  ctx.body = compileSFCTemplate( <span>// 编译 template 生成 render function</span></span><br /><span>    <span>// ...</span></span><br /><span>  )</span><br /><span>  <span>return</span> etagCacheCheck(ctx)</span><br /><span>}</span><br /><span></span><br /><span><span>// 如果 query 的 type 是 style，比如 /App.vue?type=style&amp;xxx</span></span><br /><span><span>if</span> (query.type === <span>'style'</span>) {</span><br /><span>  <span>const</span> index = <span>Number</span>(query.index)</span><br /><span>  <span>const</span> styleBlock = descriptor.styles[index]</span><br /><span>  <span>const</span> result = <span>await</span> compileSFCStyle( <span>// 编译 style</span></span><br /><span>    <span>// ...</span></span><br /><span>  )</span><br /><span>  <span>if</span> (query.module != <span>null</span>) { <span>// 如果是 css module</span></span><br /><span>    ctx.type = <span>'js'</span></span><br /><span>    ctx.body = <span>`export default <span>${<span>JSON</span>.stringify(result.modules)}</span>`</span></span><br /><span>  } <span>else</span> { <span>// 正常 css</span></span><br /><span>    ctx.type = <span>'css'</span></span><br /><span>    ctx.body = result.code</span><br /><span>  }</span><br /><span>}</span><br /></pre></td></tr></table><h2><a href="https://molunerfinn.com/learn-vite/#modules-路径解析"></a>@modules/* 路径解析</h2><p>上面只涉及到了替换的逻辑，解析的逻辑来自 <code>src/node/serverPluginModuleResolve.ts</code>。这一步就相对简单了，核心逻辑就是去 <code>node_modules</code> 里找有没有对应的模块，有的话就返回，没有的话就报 404：（省略了很多逻辑，比如对 <code>web_modules</code> 的处理、缓存的处理等）</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /></pre></td><td><pre><span><span>// ...</span></span><br /><span><span>try</span> {</span><br /><span>  <span>const</span> file = resolve(root, id) <span>// id 是模块的名字，比如 axios</span></span><br /><span>  <span>return</span> serve(id, file, <span>'node_modules'</span>) <span>// 从 node_modules 中找到真正的模块内容并返回</span></span><br /><span>} <span>catch</span> (e) {</span><br /><span>  <span>console</span>.error(</span><br /><span>    chalk.red(<span>`[vite] Error while resolving node_modules with id "<span>${id}</span>":`</span>)</span><br /><span>  )</span><br /><span>  <span>console</span>.error(e)</span><br /><span>  ctx.status = <span>404</span> <span>// 如果没找到就 404</span></span><br /><span>}</span><br /></pre></td></tr></table><h2><a href="https://molunerfinn.com/learn-vite/#Vite-热更新的实现"></a>Vite 热更新的实现</h2><p>上面已经说完了 Vite 是如何运行一个 Web 应用的，包括如何拦截请求、替换内容、返回处理后的结果。接下来说一下 Vite 热更新的实现，同样实现的非常巧妙。</p><p>我们知道，如果要实现热更新，那么就需要浏览器和服务器建立某种通信机制，这样浏览器才能收到通知进行热更新。Vite 的是通过 <code>WebSocket</code> 来实现的热更新通信。</p><h3><a href="https://molunerfinn.com/learn-vite/#客户端"></a>客户端</h3><p>客户端的代码在 <code>src/client/client.ts</code>，主要是创建 <code>WebSocket</code> 客户端，监听来自服务端的 HMR 消息推送。</p><p>Vite 的 WS 客户端目前监听这几种消息：</p><ul><li><code>connected</code>: WebSocket 连接成功</li><li><code>vue-reload</code>: Vue 组件重新加载（当你修改了 script 里的内容时）</li><li><code>vue-rerender</code>: Vue 组件重新渲染（当你修改了 template 里的内容时）</li><li><code>style-update</code>: 样式更新</li><li><code>style-remove</code>: 样式移除</li><li><code>js-update</code>: js 文件更新</li><li><code>full-reload</code>: fallback 机制，网页重刷新</li></ul><p>其中针对 Vue 组件本身的一些更新，都可以直接调用 <code>HMRRuntime</code> 提供的方法，非常方便。其余的更新逻辑，基本上都是利用了 <code>timestamp</code> 刷新缓存重新执行的方法来达到更新的目的。</p><p>核心逻辑如下，我感觉非常清晰明了：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /><span>16</span><br /><span>17</span><br /><span>18</span><br /><span>19</span><br /><span>20</span><br /><span>21</span><br /><span>22</span><br /><span>23</span><br /><span>24</span><br /><span>25</span><br /><span>26</span><br /><span>27</span><br /><span>28</span><br /><span>29</span><br /><span>30</span><br /><span>31</span><br /><span>32</span><br /><span>33</span><br /><span>34</span><br /><span>35</span><br /><span>36</span><br /><span>37</span><br /><span>38</span><br /><span>39</span><br /><span>40</span><br /><span>41</span><br /><span>42</span><br /><span>43</span><br /><span>44</span><br /><span>45</span><br /><span>46</span><br /><span>47</span><br /><span>48</span><br /><span>49</span><br /><span>50</span><br /><span>51</span><br /><span>52</span><br /><span>53</span><br /><span>54</span><br /><span>55</span><br /><span>56</span><br /><span>57</span><br /><span>58</span><br /><span>59</span><br /><span>60</span><br /></pre></td><td><pre><span><span>import</span> { HMRRuntime } <span>from</span> <span>'vue'</span> <span>// 来自 Vue3.0 的 HMRRuntime</span></span><br /><span></span><br /><span><span>console</span>.log(<span>'[vite] connecting...'</span>)</span><br /><span></span><br /><span>declare <span>var</span> __VUE_HMR_RUNTIME__: HMRRuntime</span><br /><span></span><br /><span><span>const</span> socket = <span>new</span> WebSocket(<span>`ws://<span>${location.host}</span>`</span>)</span><br /><span></span><br /><span><span>// Listen for messages</span></span><br /><span>socket.addEventListener(<span>'message'</span>, ({ data }) =&gt; {</span><br /><span>  <span>const</span> { type, path, id, index, timestamp, customData } = <span>JSON</span>.parse(data)</span><br /><span>  <span>switch</span> (type) {</span><br /><span>    <span>case</span> <span>'connected'</span>:</span><br /><span>      <span>console</span>.log(<span>`[vite] connected.`</span>)</span><br /><span>      <span>break</span></span><br /><span>    <span>case</span> <span>'vue-reload'</span>:</span><br /><span>      <span>import</span>(<span>`<span>${path}</span>?t=<span>${timestamp}</span>`</span>).then(<span>(<span>m</span>) =&gt;</span> {</span><br /><span>        __VUE_HMR_RUNTIME__.reload(path, m.default)</span><br /><span>        <span>console</span>.log(<span>`[vite] <span>${path}</span> reloaded.`</span>) <span>// 调用 HMRRUNTIME 的方法更新</span></span><br /><span>      })</span><br /><span>      <span>break</span></span><br /><span>    <span>case</span> <span>'vue-rerender'</span>:</span><br /><span>      <span>import</span>(<span>`<span>${path}</span>?type=template&amp;t=<span>${timestamp}</span>`</span>).then(<span>(<span>m</span>) =&gt;</span> {</span><br /><span>        __VUE_HMR_RUNTIME__.rerender(path, m.render)</span><br /><span>        <span>console</span>.log(<span>`[vite] <span>${path}</span> template updated.`</span>) <span>// 调用 HMRRUNTIME 的方法更新</span></span><br /><span>      })</span><br /><span>      <span>break</span></span><br /><span>    <span>case</span> <span>'style-update'</span>:</span><br /><span>      updateStyle(id, <span>`<span>${path}</span>?type=style&amp;index=<span>${index}</span>&amp;t=<span>${timestamp}</span>`</span>) <span>// 重新加载 style 的 URL</span></span><br /><span>      <span>console</span>.log(</span><br /><span>        <span>`[vite] <span>${path}</span> style<span>${index &gt; <span>0</span> ? <span>`#<span>${index}</span>`</span> : <span>``</span>}</span> updated.`</span></span><br /><span>      )</span><br /><span>      <span>break</span></span><br /><span>    <span>case</span> <span>'style-remove'</span>:</span><br /><span>      <span>const</span> link = <span>document</span>.getElementById(<span>`vite-css-<span>${id}</span>`</span>)</span><br /><span>      <span>if</span> (link) {</span><br /><span>        <span>document</span>.head.removeChild(link) <span>// 删除 style</span></span><br /><span>      }</span><br /><span>      <span>break</span></span><br /><span>    <span>case</span> <span>'js-update'</span>:</span><br /><span>      <span>const</span> update = jsUpdateMap.get(path)</span><br /><span>      <span>if</span> (update) {</span><br /><span>        update(timestamp) <span>// 用新的时间戳加载并执行 js，达到更新的目的</span></span><br /><span>        <span>console</span>.log(<span>`[vite]: js module reloaded: `</span>, path)</span><br /><span>      } <span>else</span> {</span><br /><span>        <span>console</span>.error(</span><br /><span>          <span>`[vite] got js update notification but no client callback was registered. Something is wrong.`</span></span><br /><span>        )</span><br /><span>      }</span><br /><span>      <span>break</span></span><br /><span>    <span>case</span> <span>'custom'</span>:</span><br /><span>      <span>const</span> cbs = customUpdateMap.get(id)</span><br /><span>      <span>if</span> (cbs) {</span><br /><span>        cbs.forEach(<span>(<span>cb</span>) =&gt;</span> cb(customData))</span><br /><span>      }</span><br /><span>      <span>break</span></span><br /><span>    <span>case</span> <span>'full-reload'</span>:</span><br /><span>      location.reload()</span><br /><span>  }</span><br /><span>})</span><br /></pre></td></tr></table><h3><a href="https://molunerfinn.com/learn-vite/#服务端"></a>服务端</h3><p>服务端的实现位于 <code>src/node/serverPluginHmr.ts</code>。核心是监听项目文件的变更，然后根据不同文件类型（目前只有 <code>vue</code> 和 <code>js</code>）来做不同的处理：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /></pre></td><td><pre><span>watcher.on(<span>'change'</span>, <span>async</span> (file) =&gt; {</span><br /><span>  <span>const</span> timestamp = <span>Date</span>.now() <span>// 更新时间戳</span></span><br /><span>  <span>if</span> (file.endsWith(<span>'.vue'</span>)) {</span><br /><span>    handleVueReload(file, timestamp)</span><br /><span>  } <span>else</span> <span>if</span> (file.endsWith(<span>'.js'</span>)) {</span><br /><span>    handleJSReload(file, timestamp)</span><br /><span>  }</span><br /><span>})</span><br /></pre></td></tr></table><p>对于 <code>Vue</code> 文件的热更新而言，主要是重新编译 <code>Vue</code> 文件，检测 <code>template</code> 、<code>script</code> 、<code>style</code> 的改动，如果有改动就通过 WS 服务端发起对应的热更新请求。</p><p>简单的源码分析如下：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /><span>16</span><br /><span>17</span><br /><span>18</span><br /><span>19</span><br /><span>20</span><br /><span>21</span><br /><span>22</span><br /><span>23</span><br /><span>24</span><br /><span>25</span><br /><span>26</span><br /><span>27</span><br /><span>28</span><br /><span>29</span><br /><span>30</span><br /><span>31</span><br /><span>32</span><br /><span>33</span><br /><span>34</span><br /><span>35</span><br /><span>36</span><br /><span>37</span><br /><span>38</span><br /><span>39</span><br /><span>40</span><br /><span>41</span><br /><span>42</span><br /><span>43</span><br /><span>44</span><br /><span>45</span><br /><span>46</span><br /><span>47</span><br /><span>48</span><br /><span>49</span><br /><span>50</span><br /><span>51</span><br /><span>52</span><br /><span>53</span><br /><span>54</span><br /><span>55</span><br /><span>56</span><br /><span>57</span><br /><span>58</span><br /><span>59</span><br /><span>60</span><br /><span>61</span><br /><span>62</span><br /><span>63</span><br /><span>64</span><br /><span>65</span><br /><span>66</span><br /><span>67</span><br /><span>68</span><br /><span>69</span><br /><span>70</span><br /><span>71</span><br /><span>72</span><br /><span>73</span><br /><span>74</span><br /><span>75</span><br /><span>76</span><br /><span>77</span><br /><span>78</span><br /><span>79</span><br /><span>80</span><br /></pre></td><td><pre><span><span>async</span> <span><span>function</span> <span>handleVueReload</span>(<span></span></span></span><br /><span><span><span>    file: string,</span></span></span><br /><span><span><span>    timestamp: number = Date.now(</span>),</span></span><br /><span><span>    <span>content</span>?: <span>string</span></span></span><br /><span><span>) </span>{</span><br /><span>  <span>const</span> publicPath = resolver.fileToRequest(file) <span>// 获取文件的路径</span></span><br /><span>  <span>const</span> cacheEntry = vueCache.get(file) <span>// 获取缓存里的内容</span></span><br /><span></span><br /><span>  debugHmr(<span>`busting Vue cache for <span>${file}</span>`</span>)</span><br /><span>  vueCache.del(file) <span>// 发生变动了因此之前的缓存可以删除</span></span><br /><span></span><br /><span>  <span>const</span> descriptor = <span>await</span> parseSFC(root, file, content) <span>// 编译 Vue 文件</span></span><br /><span></span><br /><span>  <span>const</span> prevDescriptor = cacheEntry &amp;&amp; cacheEntry.descriptor <span>// 获取前一次的缓存</span></span><br /><span></span><br /><span>  <span>if</span> (!prevDescriptor) {</span><br /><span>    <span>// 这个文件之前从未被访问过（本次是第一次访问），也就没必要热更新</span></span><br /><span>    <span>return</span></span><br /><span>  }</span><br /><span></span><br /><span>  <span>// 设置两个标志位，用于判断是需要 reload 还是 rerender</span></span><br /><span>  <span>let</span> needReload = <span>false</span></span><br /><span>  <span>let</span> needRerender = <span>false</span></span><br /><span></span><br /><span>  <span>// 如果 script 部分不同则需要 reload</span></span><br /><span>  <span>if</span> (!isEqual(descriptor.script, prevDescriptor.script)) {</span><br /><span>    needReload = <span>true</span></span><br /><span>  }</span><br /><span></span><br /><span>  <span>// 如果 template 部分不同则需要 rerender</span></span><br /><span>  <span>if</span> (!isEqual(descriptor.template, prevDescriptor.template)) {</span><br /><span>    needRerender = <span>true</span></span><br /><span>  }</span><br /><span></span><br /><span>  <span>const</span> styleId = hash_sum(publicPath)</span><br /><span>  <span>// 获取之前的 style 以及下一次（或者说热更新）的 style</span></span><br /><span>  <span>const</span> prevStyles = prevDescriptor.styles || []</span><br /><span>  <span>const</span> nextStyles = descriptor.styles || []</span><br /><span></span><br /><span>  <span>// 如果不需要 reload，则查看是否需要更新 style</span></span><br /><span>  <span>if</span> (!needReload) {</span><br /><span>    nextStyles.forEach(<span>(<span>_, i</span>) =&gt;</span> {</span><br /><span>      <span>if</span> (!prevStyles[i] || !isEqual(prevStyles[i], nextStyles[i])) {</span><br /><span>        send({</span><br /><span>          type: <span>'style-update'</span>,</span><br /><span>          path: publicPath,</span><br /><span>          index: i,</span><br /><span>          id: <span>`<span>${styleId}</span>-<span>${i}</span>`</span>,</span><br /><span>          timestamp</span><br /><span>        })</span><br /><span>      }</span><br /><span>    })</span><br /><span>  }</span><br /><span></span><br /><span>  <span>// 如果 style 标签及内容删掉了，则需要发送 `style-remove` 的通知</span></span><br /><span>  prevStyles.slice(nextStyles.length).forEach(<span>(<span>_, i</span>) =&gt;</span> {</span><br /><span>    send({</span><br /><span>      type: <span>'style-remove'</span>,</span><br /><span>      path: publicPath,</span><br /><span>      id: <span>`<span>${styleId}</span>-<span>${i + nextStyles.length}</span>`</span>,</span><br /><span>      timestamp</span><br /><span>    })</span><br /><span>  })</span><br /><span></span><br /><span>  <span>// 如果需要 reload 发送 `vue-reload` 通知</span></span><br /><span>  <span>if</span> (needReload) {</span><br /><span>    send({</span><br /><span>      type: <span>'vue-reload'</span>,</span><br /><span>      path: publicPath,</span><br /><span>      timestamp</span><br /><span>    })</span><br /><span>  } <span>else</span> <span>if</span> (needRerender) {</span><br /><span>    <span>// 否则发送 `vue-rerender` 通知</span></span><br /><span>    send({</span><br /><span>      type: <span>'vue-rerender'</span>,</span><br /><span>      path: publicPath,</span><br /><span>      timestamp</span><br /><span>    })</span><br /><span>  }</span><br /><span>}</span><br /></pre></td></tr></table><p>对于热更新 <code>js</code> 文件而言，会递归地查找引用这个文件的 <code>importer</code>。比如是某个 <code>Vue</code> 文件所引用了这个 <code>js</code>，就会被查找出来。假如最终发现找不到引用者，则会返回 <code>hasDeadEnd: true</code>。</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /></pre></td><td><pre><span><span>const</span> vueImporters = <span>new</span> <span>Set</span>&lt;string&gt;() <span>// 查找并存放需要热更新的 Vue 文件</span></span><br /><span><span>const</span> jsHotImporters = <span>new</span> <span>Set</span>&lt;string&gt;() <span>// 查找并存放需要热更新的 js 文件</span></span><br /><span><span>const</span> hasDeadEnd = walkImportChain(</span><br /><span>  publicPath,</span><br /><span>  importers,</span><br /><span>  vueImporters,</span><br /><span>  jsHotImporters</span><br /><span>)</span><br /></pre></td></tr></table><p>如果 <code>hasDeadEnd</code> 为 <code>true</code>，则直接发送 <code>full-reload</code>。如果 <code>vueImporters</code> 或 <code>jsHotImporters</code> 里查找到需要热更新的文件，则发起热更新通知：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /><span>13</span><br /><span>14</span><br /><span>15</span><br /><span>16</span><br /><span>17</span><br /><span>18</span><br /><span>19</span><br /><span>20</span><br /><span>21</span><br /></pre></td><td><pre><span><span>if</span> (hasDeadEnd) {</span><br /><span>  send({</span><br /><span>    type: <span>'full-reload'</span>,</span><br /><span>    timestamp</span><br /><span>  })</span><br /><span>} <span>else</span> {</span><br /><span>  vueImporters.forEach(<span>(<span>vueImporter</span>) =&gt;</span> {</span><br /><span>    send({</span><br /><span>      type: <span>'vue-reload'</span>,</span><br /><span>      path: vueImporter,</span><br /><span>      timestamp</span><br /><span>    })</span><br /><span>  })</span><br /><span>  jsHotImporters.forEach(<span>(<span>jsImporter</span>) =&gt;</span> {</span><br /><span>    send({</span><br /><span>      type: <span>'js-update'</span>,</span><br /><span>      path: jsImporter,</span><br /><span>      timestamp</span><br /><span>    })</span><br /><span>  })</span><br /><span>}</span><br /></pre></td></tr></table><h3><a href="https://molunerfinn.com/learn-vite/#客户端逻辑的注入"></a>客户端逻辑的注入</h3><p>写到这里，还有一个问题是，我们在自己的代码里并没有引入 <code>HRM</code> 的 <code>client</code> 代码，Vite 是如何把 <code>client</code> 代码注入的呢？</p><p>回到上面的一张图，Vite 重写 <code>App.vue</code> 文件的内容并返回时：</p><p><img src="https://cdn.jsdelivr.net/gh/Molunerfinn/test/blog/20200503171228.png" /></p><p>注意这张图里的代码区第一句话 <code>import { updateStyle } from '/@hmr'</code>，并且在左侧请求列表中也有一个对 <code>@hmr</code> 文件的请求。这个请求是啥呢？</p><p><img src="https://cdn.jsdelivr.net/gh/Molunerfinn/test/blog/20200503201312.png" /></p><p>可以发现，这个请求就是上面说的客户端逻辑的 <code>client.ts</code> 的内容。</p><p>在 <code>src/node/serverPluginHmr.ts</code> 里，有针对 <code>@hmr</code> 文件的解析处理：</p><table><tr><td><pre><span>1</span><br /><span>2</span><br /><span>3</span><br /><span>4</span><br /><span>5</span><br /><span>6</span><br /><span>7</span><br /><span>8</span><br /><span>9</span><br /><span>10</span><br /><span>11</span><br /><span>12</span><br /></pre></td><td><pre><span><span>export</span> <span>const</span> hmrClientFilePath = path.resolve(__dirname, <span>'./client.js'</span>)</span><br /><span><span>export</span> <span>const</span> hmrClientId = <span>'@hmr'</span></span><br /><span><span>export</span> <span>const</span> hmrClientPublicPath = <span>`/<span>${hmrClientId}</span>`</span></span><br /><span></span><br /><span>app.use(<span>async</span> (ctx, next) =&gt; {</span><br /><span>  <span>if</span> (ctx.path !== hmrClientPublicPath) { <span>// 请求路径如果不是 @hmr 就跳过</span></span><br /><span>    <span>return</span> next()</span><br /><span>  }</span><br /><span>  debugHmr(<span>'serving hmr client'</span>)</span><br /><span>  ctx.type = <span>'js'</span></span><br /><span>  <span>await</span> cachedRead(ctx, hmrClientFilePath) <span>// 返回 client.js 的内容</span></span><br /><span>})</span><br /></pre></td></tr></table><p>至此，热更新的整体流程已经解析完毕。</p><h2><a href="https://molunerfinn.com/learn-vite/#小结"></a>小结</h2><p>这个项目最近在以惊人的速度迭代着，因此没过多久以后再回头看这篇文章，可能代码、实现已经过时。不过 Vite 的整体思路是非常棒的，在早期源码不多的情况下，能学到更贴近作者原始想法的东西，也算是很不错的收获。希望本文能给你学习 Vite 一些参考，有错误也欢迎大家指出。</p>]]></content>
        
        <summary type="html">
            
            已经好久没有写博客了。本文不说 Vue3.0 了，相信已经有很多文章在说它了。而前一段时间尤大开源的 Vite 则是一个更加吸引我的东西，它的总体思路是很不错的，早期源码的学习成本也比较低，于是就趁着假期学习一番。本文撰写于 Vite-0.9.1 版本。什么是 Vite借用作者
            
        </summary>
        
        <category term="Web"/>
        
        <category term="开发"/>
        
        <category term="前端"/>
        
        <category term="Vue"/>
        
        <category term="Vite"/>
        
    </entry>
    
    <entry>
        <title>FreeNet 概述</title>
        <link href="https://www.ohyee.cc/post/freenet_overview"/>
        <id>https://www.ohyee.cc/post/freenet_overview</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-04-30T18:43:19+00:00</published>
        <updated>2020-04-30T18:43:19+00:00</updated>
        
        <content type="html"><![CDATA[针对 Freenet 的基本概念进行学习]]></content>
        
        <summary type="html">
            
            针对 Freenet 的基本概念进行学习
            
        </summary>
        
    </entry>
    
    <entry>
        <title>React 中监听并存储表单内存问题</title>
        <link href="https://www.ohyee.cc/post/note_react_setstate_memory"/>
        <id>https://www.ohyee.cc/post/note_react_setstate_memory</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-04-29T19:25:52+00:00</published>
        <updated>2020-04-29T19:25:52+00:00</updated>
        
        <content type="html"><![CDATA[在 React 中，监听并存储表单，在表单数据很大，且改动频繁时，会导致内存爆炸]]></content>
        
        <summary type="html">
            
            在 React 中，监听并存储表单，在表单数据很大，且改动频繁时，会导致内存爆炸
            
        </summary>
        
    </entry>
    
    <entry>
        <title>LastPass 导致输入框报错</title>
        <link href="https://www.ohyee.cc/post/note_lastpass_error"/>
        <id>https://www.ohyee.cc/post/note_lastpass_error</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-04-29T14:37:59+00:00</published>
        <updated>2020-04-29T14:37:59+00:00</updated>
        
        <content type="html"><![CDATA[在前端页面开着控制台时，总是会在输入框输入内容时报错：onloadwff.js:71 Uncaught TypeError: Cannot read property 'type' of undefined]]></content>
        
        <summary type="html">
            
            在前端页面开着控制台时，总是会在输入框输入内容时报错：onloadwff.js:71 Uncaught TypeError: Cannot read property &#39;type&#39; of undefined
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Go WebSocket 服务端</title>
        <link href="https://www.ohyee.cc/post/note_go_websocket"/>
        <id>https://www.ohyee.cc/post/note_go_websocket</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-04-29T14:32:45+00:00</published>
        <updated>2020-04-29T14:32:45+00:00</updated>
        
        <content type="html"><![CDATA[在 Go 中使用 WebSocket 与前端通信]]></content>
        
        <summary type="html">
            
            在 Go 中使用 WebSocket 与前端通信
            
        </summary>
        
    </entry>
    
    <entry>
        <title>将 WSL 图形输出到 Windows</title>
        <link href="https://www.ohyee.cc/post/note_wsl_gui"/>
        <id>https://www.ohyee.cc/post/note_wsl_gui</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-04-20T10:06:21+00:00</published>
        <updated>2020-04-20T10:06:21+00:00</updated>
        
        <content type="html"><![CDATA[WSL 本身只是 shell，不自带图形界面，而 Windows 从名字上就是已图形界面为主，因此要显示图形，自然要使用“最好的 Linux 发行版”——Windows]]></content>
        
        <summary type="html">
            
            WSL 本身只是 shell，不自带图形界面，而 Windows 从名字上就是已图形界面为主，因此要显示图形，自然要使用“最好的 Linux 发行版”——Windows
            
        </summary>
        
    </entry>
    
    <entry>
        <title>动物森友会时间旅行研究</title>
        <link href="https://www.ohyee.cc/post/writting_animal_crossing_time_travel"/>
        <id>https://www.ohyee.cc/post/writting_animal_crossing_time_travel</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-04-15T07:05:50+00:00</published>
        <updated>2020-04-15T07:05:50+00:00</updated>
        
        <content type="html"><![CDATA[作为一个主打真实时间的游戏，有必要详细了解一下其时间惩罚]]></content>
        
        <summary type="html">
            
            作为一个主打真实时间的游戏，有必要详细了解一下其时间惩罚
            
        </summary>
        
    </entry>
    
    <entry>
        <title>使用 QQ 互联实现 QQ 登录站点</title>
        <link href="https://www.ohyee.cc/post/note_qq_connect"/>
        <id>https://www.ohyee.cc/post/note_qq_connect</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-04-08T15:54:34+00:00</published>
        <updated>2020-04-08T15:54:34+00:00</updated>
        
        <content type="html"><![CDATA[使用 Go 语言调用 QQ 互联API]]></content>
        
        <summary type="html">
            
            使用 Go 语言调用 QQ 互联API
            
        </summary>
        
    </entry>
    
    <entry>
        <title>《集合啦！动物森友会》技巧笔记</title>
        <link href="https://www.ohyee.cc/post/writting_animal_crossing"/>
        <id>https://www.ohyee.cc/post/writting_animal_crossing</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-03-26T09:00:33+00:00</published>
        <updated>2020-03-26T09:00:33+00:00</updated>
        
        <content type="html"><![CDATA[《集合啦！动物森友会》技巧笔记]]></content>
        
        <summary type="html">
            
            《集合啦！动物森友会》技巧笔记
            
        </summary>
        
    </entry>
    
    <entry>
        <title>Github 代码覆盖度展示</title>
        <link href="https://www.ohyee.cc/post/note_github_codecov"/>
        <id>https://www.ohyee.cc/post/note_github_codecov</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-03-17T10:11:10+00:00</published>
        <updated>2020-03-17T10:11:10+00:00</updated>
        
        <content type="html"><![CDATA[在 Github Readme 中显示 codecov.io 的代码覆盖率]]></content>
        
        <summary type="html">
            
            在 Github Readme 中显示 codecov.io 的代码覆盖率
            
        </summary>
        
    </entry>
    
    <entry>
        <title>在 MongoDB 查询 JSON 数据遇到的 bug</title>
        <link href="https://www.ohyee.cc/post/note_mongodb_json_data"/>
        <id>https://www.ohyee.cc/post/note_mongodb_json_data</id>
        
        <author>
            <name>oyohyee@oyohyee.com</name>
        </author>
        
        <published>2020-03-16T08:37:22+00:00</published>
        <updated>2020-03-16T08:37:22+00:00</updated>
        
        <content type="html"><![CDATA[新版本的博客使用的是 MongoDB 数据库，本意是为了支持更自由的类型（实际上其实没啥意义），但是却又在 JSON 上遇到到了奇怪的 bug]]></content>
        
        <summary type="html">
            
            新版本的博客使用的是 MongoDB 数据库，本意是为了支持更自由的类型（实际上其实没啥意义），但是却又在 JSON 上遇到到了奇怪的 bug
            
        </summary>
        
    </entry>
    
</feed>